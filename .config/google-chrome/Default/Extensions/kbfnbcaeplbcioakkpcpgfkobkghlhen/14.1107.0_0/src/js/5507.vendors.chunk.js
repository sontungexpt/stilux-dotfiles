(self.webpackChunk=self.webpackChunk||[]).push([[5507],{5315:(e,t)=>{t.x=void 0,t.x=.5},62172:(e,t,n)=>{n.r(t),n.d(t,{Blue0:()=>i,Blue10:()=>r,Blue100:()=>d,Blue20:()=>o,Blue30:()=>s,Blue40:()=>a,Blue60:()=>c,Blue80:()=>u,Blue90:()=>l,BlueGray0:()=>p,BlueGray10:()=>h,BlueGray100:()=>S,BlueGray20:()=>m,BlueGray30:()=>g,BlueGray35:()=>v,BlueGray40:()=>b,BlueGray5:()=>f,BlueGray50:()=>x,BlueGray60:()=>y,BlueGray70:()=>w,BlueGray80:()=>_,BlueGray90:()=>C,Gold0:()=>k,Gold10:()=>E,Gold100:()=>N,Gold20:()=>O,Gold30:()=>I,Gold40:()=>A,Gold60:()=>T,Gold80:()=>R,Gold90:()=>P,Green0:()=>D,Green10:()=>B,Green100:()=>z,Green20:()=>U,Green30:()=>F,Green40:()=>M,Green60:()=>L,Green80:()=>G,Green90:()=>j,Magenta0:()=>V,Magenta10:()=>$,Magenta100:()=>X,Magenta20:()=>Z,Magenta30:()=>H,Magenta40:()=>K,Magenta60:()=>W,Magenta80:()=>q,Magenta90:()=>Y,NeutralGray0:()=>Q,NeutralGray10:()=>ee,NeutralGray100:()=>le,NeutralGray20:()=>te,NeutralGray30:()=>ne,NeutralGray35:()=>ie,NeutralGray40:()=>re,NeutralGray5:()=>J,NeutralGray50:()=>oe,NeutralGray60:()=>se,NeutralGray70:()=>ae,NeutralGray80:()=>ce,NeutralGray90:()=>ue,Purple0:()=>de,Purple10:()=>pe,Purple100:()=>xe,Purple20:()=>fe,Purple30:()=>he,Purple40:()=>me,Purple60:()=>ge,Purple80:()=>ve,Purple90:()=>be,Red0:()=>ye,Red10:()=>we,Red100:()=>Ie,Red20:()=>_e,Red30:()=>Ce,Red40:()=>Se,Red60:()=>ke,Red80:()=>Ee,Red90:()=>Oe,Teal0:()=>Ae,Teal10:()=>Te,Teal100:()=>Fe,Teal20:()=>Re,Teal30:()=>Pe,Teal40:()=>Ne,Teal60:()=>De,Teal80:()=>Be,Teal90:()=>Ue,White:()=>Me});const i="#E5EBFF",r="#D7E0FE",o="#B8C8FB",s="#8CA6F6",a="#5679E8",c="#2551DA",u="#02289E",l="#001862",d="#000A26",p="#F4F4F6",f="#E2E4E9",h="#CDD1DC",m="#C2C6D4",g="#ADB2C3",v="#99A0B3",b="#878DA2",x="#757C92",y="#646B81",w="#565B6C",_="#474B58",C="#27282E",S="#161719",k="#FFF4E0",E="#FFEAC2",O="#FFDD9D",I="#FFC444",A="#FFA600",T="#C98300",R="#935F00",P="#5C3C00",N="#261900",D="#E0FFF8",B="#BEFDEF",U="#7CF4D8",F="#18E7B7",M="#10C097",L="#0A9A78",G="#05735A",j="#024D3B",z="#00261D",V="#FFE5F0",$="#FEC8DD",Z="#FAACCB",H="#F079A8",K="#E14683",W="#D21861",q="#990C43",Y="#600428",X="#26000F",Q="#F5F5F5",J="#E6E6E6",ee="#D7D7D7",te="#CECECE",ne="#BCBCBC",ie="#A9A9A9",re="#979797",oe="#858585",se="#727272",ae="#616161",ce="#4F4F4F",ue="#2B2B2B",le="#191919",de="#F3E0FF",pe="#E6CCFB",fe="#DABAF2",he="#C194E2",me="#A469CF",ge="#8943BC",ve="#60258A",be="#3A1058",xe="#180426",ye="#FFEBEE",we="#FECDD5",_e="#FBABB8",Ce="#F1768A",Se="#E2415B",ke="#D31332",Ee="#990921",Oe="#600312",Ie="#260006",Ae="#E0FCFF",Te="#B2F4FA",Re="#7DE5EF",Pe="#2AC6D5",Ne="#1CA5B2",De="#11848F",Be="#09646C",Ue="#034349",Fe="#002326",Me="#FFFFFF"},88392:(e,t,n)=>{n.d(t,{HP:()=>s,fe:()=>i,xB:()=>r,ze:()=>o});const i=.125,r=.25,o=.5,s=.75},13578:(e,t,n)=>{n.d(t,{S5:()=>r,XY:()=>i,vU:()=>o});const i={Boundaries:{Primary:{Default:"var(--base-boundaries-primary-default)"},Secondary:{Default:"var(--base-boundaries-secondary-default)"}},Content:{OnPrimary:{Default:"var(--base-content-onprimary-default)"},Primary:{Default:"var(--base-content-primary-default)"},Secondary:{Default:"var(--base-content-secondary-default)"}},Surface:{Primary:{Default:"var(--base-surface-primary-default)"},Secondary:{Default:"var(--base-surface-secondary-default)"}}},r={Content:{OnPrimary:{Default:"var(--emphasized-content-onprimary-default)"},Primary:{Default:"var(--emphasized-content-primary-default)"},Secondary:{Default:"var(--emphasized-content-secondary-default)"}},DangerAndDeletion:{Primary:{Default:"var(--emphasized-dangeranddeletion-primary-default)",Hover:"var(--emphasized-dangeranddeletion-primary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--emphasized-interactivebranded-primary-default)",Hover:"var(--emphasized-interactivebranded-primary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--emphasized-interactiveneutral-primary-default)",Hover:"var(--emphasized-interactiveneutral-primary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--emphasized-successandaddition-primary-default)",Hover:"var(--emphasized-successandaddition-primary-hover)"}},Surface:{Primary:{Default:"var(--emphasized-surface-primary-default)"}},Warning:{Primary:{Default:"var(--emphasized-warning-primary-default)",Hover:"var(--emphasized-warning-primary-hover)"}}},o={DangerAndDeletion:{Primary:{Default:"var(--interface-dangeranddeletion-primary-default)",Hover:"var(--interface-dangeranddeletion-primary-hover)"},Secondary:{Default:"var(--interface-dangeranddeletion-secondary-default)",Hover:"var(--interface-dangeranddeletion-secondary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--interface-interactivebranded-primary-default)",Hover:"var(--interface-interactivebranded-primary-hover)"},Secondary:{Default:"var(--interface-interactivebranded-secondary-default)",Hover:"var(--interface-interactivebranded-secondary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--interface-interactiveneutral-primary-default)",Hover:"var(--interface-interactiveneutral-primary-hover)"},Secondary:{Default:"var(--interface-interactiveneutral-secondary-default)",Hover:"var(--interface-interactiveneutral-secondary-hover)"}},Premium:{Primary:{Default:"var(--interface-premium-primary-default)",Hover:"var(--interface-premium-primary-hover)"},Secondary:{Default:"var(--interface-premium-secondary-default)",Hover:"var(--interface-premium-secondary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--interface-successandaddition-primary-default)",Hover:"var(--interface-successandaddition-primary-hover)"},Secondary:{Default:"var(--interface-successandaddition-secondary-default)",Hover:"var(--interface-successandaddition-secondary-hover)"}},Warning:{Primary:{Default:"var(--interface-warning-primary-default)",Hover:"var(--interface-warning-primary-hover)"},Secondary:{Default:"var(--interface-warning-secondary-default)",Hover:"var(--interface-warning-secondary-hover)"}}}},9546:(e,t,n)=>{n.d(t,{F2:()=>o,W9:()=>i,Ze:()=>l,mh:()=>c,qp:()=>a,sD:()=>u,x:()=>s,x0:()=>d,yC:()=>r});const i=.0625,r=.125,o=.25,s=.5,a=.75,c=1,u=1.5,l=2,d=2.5},77993:(e,t,n)=>{n.d(t,{Q:()=>i});var i,r=n(63513),o=n(80358);!function(e){function t(e){return"error"===e.kind}e.isCheetahChunk=function(e){return"cheetah:chunk"===e.kind},e.isCheetahSetContext=function(e){return"cheetah:setContext"===e.kind},e.isCheetahResult=function(e){return"cheetah:result"===e.kind},e.isCheetahError=function(e){return"cheetah:error"===e.kind},e.isCheetahAck=function(e){return"cheetah:ack"===e.kind},e.isError=t,e.isErrorSessionNotInitialized=function(e){return t(e)&&e.error===r.jK.SESSION_NOT_INITIALIZED},e.isRelevant=function(e){return o.ld.isCheetahEvent(e)||o.ld.isCheetahAck(e)||"error"===e.kind}}(i||(i={}))},61792:(e,t,n)=>{n.d(t,{a:()=>i});var i,r=n(8125),o=n(5114),s=n(57050);!function(e){let t,n,i;function a(e){return e.kind===t.active}function c(e){return e.kind===t.passive}function u(e){return e.kind===t.unknown}function l(e){return a(e)||u(e)}!function(e){e.unavailable="unavailable",e.active="active",e.passive="passive",e.disabled="disabled",e.pending="pending",e.unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){const t=(0,r.HP)((e=>{const t=Date.parse(e);return isNaN(t)?0:t}));function n(e){const t=e-Date.now();return Math.floor(t/36e5)}e.parseRefillDate=function(e){return t(e)},e.hoursUntilRefillDate=n,e.daysUntilRefillDate=function(e){return Math.floor(n(e)/24)}}(n=e.Active||(e.Active={})),function(t){t.empty={kind:e.Kind.passive,promptsAllocated:0,promptsRemaining:0,refillDate:0}}(i=e.Passive||(e.Passive={})),e.isActive=a,e.isPassive=c,e.isUnknown=u,e.isUsable=l,e.isVisible=function(e){return l(e)||c(e)},e.isDisabled=function(e){return e.kind===t.disabled},e.isUnavailable=function(e){return e.kind===t.pending||e.kind===t.unavailable||e.kind===t.disabled},e.fromUsage=function(n){return(0,s.zG)(o.fromNullable(n),o.map((n=>{const i=e.Active.parseRefillDate(n.refillDate);return n.promptsRemaining<0?{kind:t.unknown}:n.promptsRemaining>0?{kind:t.active,promptsRemaining:n.promptsRemaining,promptsAllocated:n.promptsAllocated,refillDate:i}:{kind:t.passive,promptsRemaining:n.promptsRemaining,promptsAllocated:n.promptsAllocated,refillDate:i}})),o.getOrElse((()=>({kind:e.Kind.unknown}))))}}(i||(i={}))},35152:(e,t,n)=>{n.d(t,{aU:()=>r,pY:()=>i,Cl:()=>T,ix:()=>_,ec:()=>S,a8:()=>O.a,JZ:()=>I,_y:()=>o,nF:()=>k,x2:()=>d,_H:()=>A,TG:()=>v,lG:()=>C,nM:()=>E,H3:()=>s,x4:()=>c,z_:()=>p.z,Z7:()=>h,Zq:()=>g,LA:()=>f.L});var i,r,o,s,a=n(57050);!function(e){let t,n;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.create=function(e,t){return{id:e,kind:"string",value:t}}}(n=e.StringValue||(e.StringValue={}))}(i||(i={})),function(e){function t(e){return"userPrompt"===e.kind}function n(e){return"dynamic"===e.kind}function r(e){return"quickRewrite"===e.kind}let o,s,c,u,l;e.isUserPrompt=t,e.isDynamic=n,e.isQuickRewrite=r,e.willGenerateResult=function(e){return t(e)||r(e)||n(e)&&e.generatesResult},function(e){e.create=function(e){return e}}(o=e.Id||(e.Id={})),function(e){e.isFollowUpQuestion=function(e){return 1===e.args.length&&"string"===e.args[0].kind},e.isQuickAction=function(e){return 0===e.args.length}}(s=e.DynamicInput||(e.DynamicInput={})),function(e){e.fromInputAndValue=function(e,t){return Object.assign(Object.assign({},e),{args:[(0,a.zG)(e.args[0],(e=>i.StringValue.create(e.id,t)))]})}}(c=e.FollowUpQuestionValue||(e.FollowUpQuestionValue={})),function(e){e.fromInput=function(e,t){return Object.assign(Object.assign({},e),{arg:i.StringValue.create(e.arg.id,t)})}}(u=e.UserPromptValue||(e.UserPromptValue={})),function(e){e.fromInput=function(e){return Object.assign(Object.assign({},e),{args:[]})}}(l=e.QuickRewriteValue||(e.QuickRewriteValue={}))}(r||(r={})),function(e){let t;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),e.isPending=function(e){return"pending"===e.kind},e.isReceived=function(e){return"received"===e.kind}}(o||(o={})),function(e){let t,n;e.empty={previousMessageInfo:{author:{name:"",email:""},directRecipients:[],text:""},title:"",author:{name:"",email:""},directRecipients:[],indirectRecipients:[],undisclosedRecipients:[]},function(e){e.empty={name:"",email:""},e.extractNameAndEmailString=function(e){const t=""!==e.email?`<${e.email}>`:"";return[e.name,t].filter((e=>""!==e)).join(" ")}}(t=e.Person||(e.Person={})),function(e){e.empty={author:{name:"",email:""},directRecipients:[],text:""}}(n=e.PreviousMessageInfo||(e.PreviousMessageInfo={}))}(s||(s={}));var c,u=n(73975),l=n(8125);!function(e){let t,n;!function(e){e.create=function(e){return`${e}`},e.toPrimitive=function(e){return parseInt(e)},e.eq=u.yv}(t=e.Id||(e.Id={})),function(e){e.insert="insert",e.reportOffensive="reportOffensive"}(n=e.Feedback||(e.Feedback={})),e.hasId=function(e){return"id"in e},e.isComplete=function(e){return"complete"===e.kind},e.isInProgressOngoing=function(e){return"inProgressOngoing"===e.kind},e.isInProgressPending=function(e){return"inProgressPending"===e.kind},e.isInProgress=(0,l.Kg)(e.isInProgressOngoing,e.isInProgressPending)}(c||(c={}));var d,p=n(45626),f=n(9295);!function(e){let t,n;!function(e){e.ok="ok",e.satisfied="satisfied",e.dissatisfied="dissatisfied"}(t=e.Mood||(e.Mood={})),function(e){e.resultCard="resultCard",e.quickReplyInitialActions="quickReplyInitialActions"}(n=e.Source||(e.Source={}))}(d||(d={}));var h,m=n(22232);!function(e){let t,n,i,r,o,s,c;!function(e){let t;!function(e){e.rephrase="rephrase",e.dismiss="dismiss",e.insert="insert",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(t=e.Result||(e.Result={})),function(e){let t;!function(e){e.open="open",e.skip="skip",e.openFromBanner="openFromBanner"}(t=e.UserAction||(e.UserAction={}))}(n=e.VoiceProfile||(e.VoiceProfile={})),function(e){let t;!function(e){e.openStore="openStore",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(i=e.Actions||(e.Actions={})),function(e){let t;!function(e){e.search="search"}(t=e.UserAction||(e.UserAction={}))}(r=e.Prompt||(e.Prompt={})),function(e){let t;!function(e){e.hover="hover",e.click="click"}(t=e.UserAction||(e.UserAction={}))}(o=e.UsageInfo||(e.UsageInfo={})),function(e){let t;!function(e){e.view="view",e.skip="skip",e.next="next"}(t=e.UserAction||(e.UserAction={}))}(s=e.Onboarding||(e.Onboarding={})),function(e){let t;!function(e){e.close="close"}(t=e.UserAction||(e.UserAction={}))}(c=e.Assistant||(e.Assistant={})),e.getComponentId=function(e,t){return(0,a.zG)(e.kind,(t=>{switch(t){case"result":return"card";case"voiceProfile":return"voice";case"actions":return e.userAction===i.UserAction.openStore?"group":"card";case"assistant":return"widget";case"onboardingPromptsTooltip":return"onboardingPromptTooltip";case"onboardingReviewTooltip":return"onboardingReviewtextTooltip";case"usageInfo":case"prompt":case"onboardingPopup":case"onboardingRewriteTooltip":return t;default:(0,m.L0)(t)}}),(e=>`cheetah:${e}${t?`:${t}`:""}`))},e.getUserAction=function(e){return(0,a.zG)(e.kind,(t=>{switch(t){case"actions":return e.userAction===i.UserAction.openStore?"All Ideas":e.userAction;case"assistant":return e.userAction===c.UserAction.close?"dismiss":e.userAction;case"result":case"voiceProfile":case"prompt":case"usageInfo":case"onboardingPopup":case"onboardingPromptsTooltip":case"onboardingReviewTooltip":case"onboardingRewriteTooltip":return e.userAction;default:(0,m.L0)(t)}}))}}(h||(h={}));var g,v,b=n(5114),x=n(95195),y=n(69243),w=n(64015);!function(e){const t=["initial","prompts","review","rewrite"],n=["extension","editor","llamaMac","llamaWin"];function i(e,t){return`${e}|${t}`}function r(e,t,n){return`${e}|${t}|${n}`}function o(e){return b.isSome(h(e))}function s(e){return b.isSome(m(e))}const c=new y.Dy("CompletedStepName",(e=>"string"==typeof e&&o(e)),((e,t)=>"string"==typeof e&&o(e)?y.Vp(e):y.Rn(e,t)),y.yR),u=new y.Dy("LastSeenStepName",(e=>"string"==typeof e&&s(e)),((e,t)=>"string"==typeof e&&s(e)?y.Vp(e):y.Rn(e,t)),y.yR),l=y.OT(y.r$({completed:y.Bk(c),lastSeen:y.Bk(u)}));let d,p,f;function h(e){return(0,a.zG)(b.some(e.split("|")),b.filter((e=>2===e.length)),b.filter((e=>t.includes(e[0])&&n.includes(e[1]))))}function m(e){return(0,a.zG)(b.some(e.split("|")),b.filter((e=>3===e.length)),b.filter((e=>t.includes(e[0])&&n.includes(e[1]))),b.filterMap((e=>(0,a.zG)(parseInt(e[2],10),(t=>Number.isNaN(t)?b.none:b.some([e[0],e[1],t]))))))}function g(e,t,n){var i,r,o,s;return{extension:{completed:t.some((t=>t[0]===e&&"extension"===t[1])),lastSeen:null===(i=n.find((t=>t[0]===e&&"extension"===t[1])))||void 0===i?void 0:i[2]},editor:{completed:t.some((t=>t[0]===e&&"editor"===t[1])),lastSeen:null===(r=n.find((t=>t[0]===e&&"editor"===t[1])))||void 0===r?void 0:r[2]},llamaMac:{completed:t.some((t=>t[0]===e&&"llamaMac"===t[1])),lastSeen:null===(o=n.find((t=>t[0]===e&&"llamaMac"===t[1])))||void 0===o?void 0:o[2]},llamaWin:{completed:t.some((t=>t[0]===e&&"llamaWin"===t[1])),lastSeen:null===(s=n.find((t=>t[0]===e&&"llamaWin"===t[1])))||void 0===s?void 0:s[2]}}}e.emptyClientStep={completed:!1,lastSeen:void 0},function(e){e.everyClient=function(e){return t=>e(t.extension)&&e(t.editor)&&e(t.llamaMac)&&e(t.llamaWin)}}(d=e.Step||(e.Step={})),e.emptyStep={extension:e.emptyClientStep,llamaMac:e.emptyClientStep,llamaWin:e.emptyClientStep,editor:e.emptyClientStep},e.codec=new y.Dy("UpstreamOnboarding",(e=>l.is(e)),((e,t)=>(0,a.zG)(l.validate(e,t),x.UI((e=>{const t=(0,a.zG)(e.completed||[],w.UI(h),w.oA),n=(0,a.zG)(e.lastSeen||[],w.UI(m),w.oA);return{initial:g("initial",t,n),prompts:g("prompts",t,n),review:g("review",t,n),rewrite:g("rewrite",t,n)}})))),(e=>({completed:(0,a.zG)(Object.entries(e),w.tS((([e,t])=>function(e,t){return(0,a.zG)(Object.entries(t),w.tS((([t,n])=>n.completed?[i(e,t)]:[])))}(e,t)))),lastSeen:(0,a.zG)(Object.entries(e),w.tS((([e,t])=>function(e,t){return(0,a.zG)(Object.entries(t),w.tS((([t,n])=>n.lastSeen?[r(e,t,n.lastSeen)]:[])))}(e,t))))}))),function(t){t.empty={initial:e.emptyStep,prompts:e.emptyStep,review:e.emptyStep,rewrite:e.emptyStep},t.toClientState=function(e,t){return{initial:e.initial[t],prompts:e.prompts[t],review:e.review[t],rewrite:e.rewrite[t]}},t.patch=function(e,t){return n=>({initial:Object.assign(Object.assign({},n.initial),{[t]:e.initial}),prompts:Object.assign(Object.assign({},n.prompts),{[t]:e.prompts}),review:Object.assign(Object.assign({},n.review),{[t]:e.review}),rewrite:Object.assign(Object.assign({},n.rewrite),{[t]:e.rewrite})})}}(p=e.State||(e.State={})),function(t){t.empty={initial:e.emptyClientStep,prompts:e.emptyClientStep,review:e.emptyClientStep,rewrite:e.emptyClientStep}}(f=e.ClientState||(e.ClientState={}))}(g||(g={})),function(e){let t;!function(e){e.initial="initial",e.prompts="prompts",e.review="review",e.rewrite="rewrite"}(t=e.StepName||(e.StepName={})),function(e){e.isAssistantOnboardingStep=function(t){return t===e.prompts||t===e.review},e.isTooltipOnboardingStep=function(t){return t===e.prompts||t===e.review||t===e.rewrite}}(t=e.StepName||(e.StepName={}))}(v||(v={}));var _,C,S,k,E,O=n(61792);!function(e){let t;!function(e){e.mount="mount",e.close="close",e.goBack="goBack",e.openVoiceProfile="openVoiceProfile",e.closeVoiceProfile="closeVoiceProfile",e.applyVoiceProfile="applyVoiceProfile",e.toggleTone="toggleTone",e.selectStyle="selectStyle",e.selectRole="selectRole",e.selectDialect="selectDialect",e.promptFieldChange="promptFieldChange",e.promptFieldFocusChange="promptFieldFocusChange",e.clickActionBrick="clickActionBrick",e.promptSend="promptSend",e.generateStop="generateStop",e.escapePressed="escapePressed",e.insert="insert",e.rephrase="rephrase",e.dismissResult="dismissResult",e.dismissError="dismissError",e.openFeedbackForm="openFeedbackForm",e.updateFeedbackForm="updateFeedbackForm",e.submitFeedbackForm="submitFeedbackForm",e.reportOffensiveResult="reportOffensive",e.reportOffensiveActions="reportOffensiveActions",e.clickResultHeader="clickResultHeader",e.collapsePromptMenu="collapsePromptMenu",e.creditsInfoHover="creditsInfoHover",e.creditsInfoClick="creditsInfoClick",e.cardHover="cardHover",e.cardFocus="cardFocus",e.cardReportMenuVisibilityChange="cardReportMenuVisibilityChange"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e},e.isResultAction=(0,l.Kg)(e.is(e.Kind.insert),e.is(e.Kind.rephrase),e.is(e.Kind.dismissResult),e.is(e.Kind.reportOffensiveResult))}(_||(_={})),(0,m.L0)(void 0),function(e){let t;!function(e){e.close="close",e.tryItOut="tryItOut",e.mount="mount"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e}}(C||(C={})),(0,m.L0)(void 0),function(e){e.initialActionsList="initialActionsList",e.followUpActionsList="followUpActionsList",e.creditsInfoButton="creditsInfoButton"}(S||(S={})),function(e){e.initialPopupAnchor="initialPopupAnchor",e.rewriteTooltipAnchor="rewriteTooltipAnchor"}(k||(k={})),function(e){e.initialPopup="initialPoup",e.promptsTooltip="promptsTooltip",e.reviewTooltip="reviewTooltip",e.rewriteTooltip="rewriteTooltip"}(E||(E={}));var I,A,T,R=n(17771),P=n(63513);!function(e){let t;function n(e){switch(e){case t.sensitiveResult:return{header:"Assistance is unavailable",text:"GrammarlyGO assistance is unavailable for that text or prompt.\nTry something else."};case t.overload:return{header:"Couldn’t generate text",text:"We’re handling a lot of prompts right now and couldn’t generate that text.\nPlease try again later."};case t.unsupportedLanguage:return{header:"Hmm, don’t know that language",text:"GrammarlyGO assistance is currently only available for English."};case t.critical:case t.timeout:case t.emptyResult:case t.truncatedResult:case t.usageExceeded:return{header:"Something went wrong",text:"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."};default:(0,m.L0)(e)}}!function(e){e.create=function(t){switch(t){case P.vv.Schema.ErrorKind.Generic:return e.critical;case P.vv.Schema.ErrorKind.Overflow:return e.truncatedResult;case P.vv.Schema.ErrorKind.PromptsLimitExceeded:return e.usageExceeded;case P.vv.Schema.ErrorKind.SensitiveContent:return e.sensitiveResult;case P.vv.Schema.ErrorKind.ServerOverloaded:return e.overload;case P.vv.Schema.ErrorKind.UnsupportedLanguage:return e.unsupportedLanguage;default:(0,m.L0)(t)}}}(t=e.Reason||(e.Reason={})),function(e){e.emptyResult="emptyResult",e.truncatedResult="truncatedResult",e.sensitiveResult="sensitiveResult",e.usageExceeded="usageExceeded",e.unsupportedLanguage="unsupportedLanguage",e.overload="overload",e.timeout="timeout",e.critical="critical"}(t=e.Reason||(e.Reason={})),e.create=function(e){const i=t.create(e.kind),r=(0,a.zG)(R.Y(b.option)({header:(0,a.zG)(b.fromNullable(e.title),b.filter((e=>""!==e.trim()))),text:(0,a.zG)(b.fromNullable(e.text),b.filter((e=>""!==e.trim())))}),b.getOrElse((()=>n(i))));return Object.assign({reason:i},r)},e.createCriticalError=function(e){return{reason:t.critical,header:"Something went wrong",text:e?"We’re not sure what happened.\nPlease try again later.":"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."}},e.createEmptyResultError=function(){return Object.assign({reason:t.emptyResult},n(t.emptyResult))}}(I||(I={})),function(e){let t,n,i;e.isInfo=function(e){return e.kind===t.info},e.isError=function(e){return e.kind===t.error},function(e){e.info="info",e.error="error"}(t=e.Kind||(e.Kind={})),function(e){let n,i,r;!function(e){e.startSession="startSession",e.action="action"}(n=e.Name||(e.Name={})),function(e){e.create=function(e){return{kind:t.info,name:n.startSession,sessionMode:e}}}(i=e.StartSession||(e.StartSession={})),function(e){e.create=function(e){return{kind:t.info,name:n.action,sessionMode:e}}}(r=e.Action||(e.Action={}))}(n=e.Info||(e.Info={})),function(e){let n,i,r,o,s;!function(e){e.waitForContextTimeout="waitForContextTimeout",e.waitForResultTimeout="waitForResultTimeout",e.waitForAckTimeout="waitForAckTimeout"}(n=e.Name||(e.Name={})),function(e){e.startSession="startSession",e.action="action"}(i=e.SourceEvent||(e.SourceEvent={})),function(e){e.create=function(e,i){return{kind:t.error,name:n.waitForContextTimeout,sourceEvent:e,sessionMode:i}}}(r=e.WaitForContextTimeout||(e.WaitForContextTimeout={})),function(e){e.create=function(e){return{kind:t.error,name:n.waitForResultTimeout,sessionMode:e}}}(o=e.WaitForResultTimeout||(e.WaitForResultTimeout={})),function(e){e.create=function(e,i){return{kind:t.error,name:n.waitForAckTimeout,sourceEvent:e,sessionMode:i}}}(s=e.WaitForAckTimeout||(e.WaitForAckTimeout={}))}(i=e.Error||(e.Error={}))}(A||(A={})),function(e){let t;!function(e){e.feedbackSubmitted="feedbackSubmitted"}(t=e.Kind||(e.Kind={}))}(T||(T={}))},45626:(e,t,n)=>{n.d(t,{z:()=>i});var i,r=n(5114);!function(e){let t,n;!function(e){function t(t){return t===e.rewrite}function n(t){return t===e.quickRewrite}e.isIdeation=function(t){return t===e.ideation},e.isRewrite=t,e.isQuickReply=function(t){return t===e.quickReply},e.isQuickRewrite=n,e.isRewriteOrQuickRewrite=function(e){return t(e)||n(e)}}(t=e.Mode||(e.Mode={})),function(e){e.ideation="ideation",e.rewrite="rewrite",e.quickReply="quickReply",e.quickRewrite="quickRewrite"}(t=e.Mode||(e.Mode={})),function(e){e.disposed="disposed",e.closed="closed",e.textInserted="textInserted",e.regularAssistantOrSidebarOpened="regularAssistantOrSidebarOpened",e.textFieldBlurred="textFieldBlurred",e.assistantBlurred="assistantBlurred"}(n=e.EndReason||(e.EndReason={})),e.toStarting=function(e){return"starting"===e.kind?r.some(e):r.none},e.toStarted=function(e){return"started"===e.kind?r.some(e):r.none}}(i||(i={}))},9295:(e,t,n)=>{n.d(t,{L:()=>i});var i,r=n(73975),o=n(22232),s=n(5114),a=n(48044),c=n(13853);!function(e){let t,n,i,u,l;!function(e){let t;!function(e){e.create=function(e){return e},e.eq=r.yv}(t=e.Id||(e.Id={}))}(t=e.Tone||(e.Tone={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=r.yv}(t=e.Id||(e.Id={}))}(n=e.Style||(e.Style={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=r.yv}(t=e.Id||(e.Id={}))}(i=e.Role||(e.Role={})),function(e){let t,n;function i(e){switch(e){case t.american:return"American English";case t.australian:return"Australian English";case t.british:return"British English";case t.canadian:return"Canadian English";case t.indian:return"Indian English";default:(0,o.L0)(e)}}function s(e){switch(e){case t.american:return"https://assets.grammarly.com/emoji/v1/1f1fa-1f1f8.svg";case t.australian:return"https://assets.grammarly.com/emoji/v1/1f1e6-1f1fa.svg";case t.british:return"https://assets.grammarly.com/emoji/v1/1f1ec-1f1e7.svg";case t.canadian:return"https://assets.grammarly.com/emoji/v1/1f1e8-1f1e6.svg";case t.indian:return"https://assets.grammarly.com/emoji/v1/1f1ee-1f1f3.svg";default:(0,o.L0)(e)}}!function(e){e.fromString=function(t){switch(t){case"american":return e.american;case"australian":return e.australian;case"british":return e.british;case"canadian":return e.canadian;case"indian":return e.indian;default:(0,o.L0)(t)}}}(t=e.Value||(e.Value={})),function(e){e.american="american",e.australian="australian",e.british="british",e.canadian="canadian",e.indian="indian"}(t=e.Value||(e.Value={})),function(e){e.create=function(e){return e},e.eq=r.yv}(n=e.Id||(e.Id={})),e.american={id:n.create(t.american),label:i(t.american),iconUrl:s(t.american)},e.australian={id:n.create(t.australian),label:i(t.australian),iconUrl:s(t.australian)},e.british={id:n.create(t.british),label:i(t.british),iconUrl:s(t.british)},e.canadian={id:n.create(t.canadian),label:i(t.canadian),iconUrl:s(t.canadian)},e.indian={id:n.create(t.indian),label:i(t.indian),iconUrl:s(t.indian)},e.all=function(){return[e.american,e.australian,e.british,e.canadian,e.indian]}}(u=e.Dialect||(e.Dialect={})),function(e){e.eq=r.MW({selectedStyle:n.Id.eq,selectedTonesPerStyle:a.Eh(n.Id.eq,c.Eh(t.Id.eq)),selectedRole:s.getEq(i.Id.eq),selectedDialect:u.Id.eq})}(l=e.Selections||(e.Selections={}))}(i||(i={}))},37421:(e,t,n)=>{n.d(t,{$C:()=>L,gz:()=>S,fE:()=>B,ZP:()=>k,c3:()=>G,O5:()=>U});var i=n(31699),r=n(57050),o=n(63513),s=n(8709),a=n(9922),c=n(98403),u=n(16118),l=n(80900),d=n(5114),p=n(83078),f=n(22232),h=n(38983),m=n(64015),g=n(42040),v=n(46680),b=n(35152),x=n(17889),y=n(77993),w=n(95195);async function _(e,t,n,i){if(n)try{const r=await n();w.nM(r)?t.warn("runTaskEither() - error running task",{name:e,result:r}):null==i||i()}catch(n){t.error("runTaskEither() - promise rejection running task",n,{name:e})}}var C=n(32952);class S{constructor(){this._events=new C.xQ}static getInstance(){return null===S.instance&&(S.instance=new S),S.instance}notify(e){this._events.next(e)}get events(){return this._events.asObservable()}}S.instance=null;class k{constructor(e){var t,n,i,o,s;this._params=e,this._subs=new a.w.Keeper,this._session=h.h.create({kind:"starting",mode:this._params.startSessionOptions.mode,selectedText:(0,r.zG)(d.fromNullable(this._params.startSessionOptions.mode===b.z_.Mode.rewrite||this._params.startSessionOptions.mode===b.z_.Mode.quickRewrite?this._params.startSessionOptions.selectedRange:void 0),d.map((e=>this._params.textEditor.getText(e)))),quickReplyContext:d.fromNullable(this._params.startSessionOptions.mode===b.z_.Mode.quickReply?this._params.startSessionOptions.quickReplyContext:void 0),error:d.none}),this._resultById=new Map,this._contextIdByResultId=new Map,this._contextById=new Map,this._stateBlobByContextId=new Map,this._initialReceivedContext=null,this._upstreamDialect=h.h.create(b.LA.Dialect.Id.create(b.LA.Dialect.Value.american)),this._cheetahAckIds=new Set,this._cheetahAckHandlers=new Array,this._resultTimeout=void 0,this._contextTimeout=void 0,this._cheetahAckTimeout=void 0,this._resultTimeoutMs=null!==(t=this._params.resultTimeoutMs)&&void 0!==t?t:1e4,this._contextTimeoutMs=null!==(n=this._params.contextTimeoutMs)&&void 0!==n?n:1e4,this._cheetahAckTimeoutMs=null!==(i=this._params.cheetahAckTimeoutMs)&&void 0!==i?i:1e4,this._monitoringService=null!==(o=this._params.monitoringService)&&void 0!==o?o:S.getInstance(),this._logger=null!==(s=this._params.logger)&&void 0!==s?s:g.C8.Logging.getLogger("CheetahWeb.SessionService",v.i.DEBUG),this._subs.push(this._params.relevantCAPIEvents.subscribe((e=>this._handleRelevantCAPIEvent(e)))),this._subs.push(this._params.upstreamDialect.subscribe((e=>c.wW(this._upstreamDialect)(b.LA.Dialect.Id.create(e))))),this._subs.push(this._upstreamDialect.subscribe((e=>this._handleUpstreamDialectChange(e)))),this._session.pipe(u.G()).subscribe((([e,t])=>this._logger.debug("session updated",{prevSession:e,newSession:t}))),this._startSession(this._params.startSessionOptions)}get session(){return this._session.view()}async _startSession(e,t){var n;this._logger.debug("startSession()",{startSessionOptions:e}),await this._params.textEditor.flush();const i=d.fromNullable(e.mode===b.z_.Mode.rewrite||e.mode===b.z_.Mode.quickRewrite?e.selectedRange:void 0),o=d.fromNullable(e.mode===b.z_.Mode.quickReply?e.quickReplyContext:void 0);this._setupCheetahAckHandler(b._H.Error.SourceEvent.startSession,(()=>{this._setupContextTimeout(b._H.Error.SourceEvent.startSession)}));const s={entryPoint:this._prepareEntryPoint(e.mode),selectedRange:(0,r.zG)(i,d.getOrElse((()=>({start:0,end:0})))),outerContext:(0,r.zG)(o,d.map((e=>this._prepareOuterContext(e))),d.toUndefined),stateBlob:t,metadata:e.metadata};this._logger.debug("startSession() - sending `cheetah:startSession` to CAPI",{data:s}),_("cheetahStartSession",this._logger,null===(n=this._params.getCAPIClient())||void 0===n?void 0:n.cheetahStartSession(s),(()=>this._monitoringService.notify(b._H.Info.StartSession.create(this._session.get().mode))))}submitAction(e){this._logger.debug("submitAction()",{action:e}),this._submitAction(e)}setVoiceProfile(e){var t,n;this._logger.debug("setVoiceProfile()",{voiceProfileSelections:e});const i=this._session.get();if("started"===i.kind){this._session.set(Object.assign(Object.assign({},i),{voiceProfile:Object.assign(Object.assign({},i.voiceProfile),e),context:Object.assign(Object.assign({},i.context),{kind:"pending",loadingMessage:"Working on it..."})}));const s={voice:{selectedStyle:e.selectedStyle,selectedTones:Array.from(e.selectedTonesPerStyle.get(e.selectedStyle)||[]),selectedRole:(0,r.zG)(e.selectedRole,d.toUndefined),needSetup:!1}};if(this._logger.debug("setVoiceProfile() - sending `cheetah:setVoice` to CAPI",{data:s}),_("cheetahSetVoice",this._logger,null===(t=this._params.getCAPIClient())||void 0===t?void 0:t.cheetahSetVoice(s)),!b.LA.Dialect.Id.eq.equals(i.voiceProfile.selectedDialect,e.selectedDialect)){const t={kind:o.rP.Context,context:{goals:d.none,domain:d.none,audience:d.none,style:d.none,dialect:d.some(e.selectedDialect),outcomeContext:d.none}};this._logger.debug("setVoiceProfile() - sending `set_context` to CAPI",{data:t}),_("setSessionOption",this._logger,null===(n=this._params.getCAPIClient())||void 0===n?void 0:n.setSessionOption(t)),this._params.onVoiceProfileSelectedDialectChange(e.selectedDialect)}}else this._logger.warn("setVoiceProfile() - setting voice profile with a session that is not `started`, skipping",{session:i})}stopInProgressResult(){this._logger.debug("stopInProgressResult()");const e=this._session.get();if("started"===e.kind){let t=e.context;if(this._clearAllTimeouts(),e.resultHistory.length>0){this._logger.debug("stopInProgressResult() - non-empty result history, will try to restore context from latest result",{session:e});const n=this._extractLatestResultContext(e);n?(this._logger.debug("stopInProgressResult() - non-empty result history, found context for latest result, will restore its context",{session:e,latestResultContext:n}),t=n):this._logger.warn("stopInProgressResult() - non-empty result history, could not find context for latest result, context will not be updated",{session:e})}else{this._logger.debug("stopInProgressResult() - empty result history, will try to restore initial context",{session:e});const n=this._extractInitialContext();n?(this._logger.debug("stopInProgressResult() - empty result history, found initial context, restoring it",{session:e,initialContext:n}),t=n):this._logger.warn("stopInProgressResult() - empty result history, but there is no initial context to restore, keeping the latest context",{session:e})}this._session.modify((e=>Object.assign(Object.assign({},e),{context:t,inProgressResult:d.none}))),(0,r.zG)(e.inProgressResult,d.filter(b.x4.isInProgressOngoing),p.bw((e=>{var t;const n={promptId:b.x4.Id.toPrimitive(e.id)};this._logger.debug("stopInProgressResult() - sending `cheetah:interrupt` to CAPI",{data:n}),_("cheetahInterrupt",this._logger,null===(t=this._params.getCAPIClient())||void 0===t?void 0:t.cheetahInterrupt(n))})),p.ew((()=>this._logger.warn("stopInProgressResult() - trying to stop in-progress result when we have no result in-progress-ongoing, skipping",{session:e}))))}else this._logger.warn("stopInProgressResult() - trying to stop in-progress result with a session that is not `started`, skipping",{session:e})}regenerateResult(e){this._logger.debug("regenerateResult()",{resultId:e});const t=this._session.get();if("started"===t.kind){const n=this._resultById.get(e);if(n){this._submitAction(n.source.action,n.source.contextId);const t=this._contextIdByResultId.get(e);this._params.trackingService.trackResultRephrase(t)}else this._logger.warn("regenerateResult() - could not find result for provided result ID, skipping",{session:t,resultId:e})}else this._logger.warn("regenerateResult() - trying to regenerate result with a session that is not `started`, skipping",{session:t,resultId:e})}dismissResult(e){this._logger.debug("dismissResult()",{resultId:e});const t=this._session.get();if("started"===t.kind){if(this._resultById.delete(e)){const n=t.resultHistory.findIndex((t=>t.id===e));let i=t.context;if(0===n&&t.resultHistory.length>1){this._logger.debug("dismissResult() - dismissing latest result, will try to restore context from previous result",{session:t,resultId:e});const n=this._extractPreviousResultContext(t);n?(this._logger.debug("dismissResult() - found context for previous result, will restore its context",{session:t,resultId:e,previousResultContext:n}),i=n):this._logger.warn("dismissResult() - could not find context for previous result, context will not be updated",{session:t,resultId:e})}else if(1===t.resultHistory.length){const n=this._extractInitialContext();n?(this._logger.debug("dismissResult() - dismissed all results, restoring initial context",{session:t,resultId:e,initialContext:n}),i=n):this._logger.warn("dimissResult() - dismissed all results, but there is no initial context to restore, keeping the latest context",{session:t,resultId:e})}this._session.set(Object.assign(Object.assign({},t),{context:i,resultHistory:t.resultHistory.filter((t=>!b.x4.Id.eq.equals(t.id,e)))}));const r=this._contextIdByResultId.get(e);this._params.trackingService.trackResultDismiss(r)}else this._logger.warn("dismissResult() - could not find result for provided result ID, skipping",{session:t,resultId:e})}else this._logger.warn("dismissResult() - trying to dismiss result with a session that is not `started`, skipping",{session:t,resultId:e})}dismissError(){this._logger.debug("dismissError()"),this._session.modify((e=>Object.assign(Object.assign({},e),{error:d.none})))}trackResultInsert(e){this._logger.debug("trackResultInsert()",{resultId:e});if(this._resultById.get(e)){const t=this._contextIdByResultId.get(e);this._params.trackingService.trackResultInsert(t)}else this._logger.warn("trackResultInsert() - could not find result for provided result ID, skipping",{resultId:e})}trackResultOffensive(e){this._logger.debug("trackResultOffensive()",{resultId:e});if(this._resultById.get(e)){const t=this._contextIdByResultId.get(e);this._params.trackingService.trackResultOffensive(t)}else this._logger.warn("trackResultOffensive() - could not find result for provided result ID, skipping",{resultId:e})}trackActionsOffensive(){this._logger.debug("trackActionsOffensive()");const e=this._session.get();if("started"!==e.kind)return this._logger.warn("trackActionsOffensive() - tracking actions as offensive with a session that is not `started`, skipping");this._params.trackingService.trackActionsOffensive(e.context.id)}dispose(e){this._logger.debug("dispose()",{reason:e}),this._endSession(),this._subs.dispose()}_endSession(){var e;this._logger.debug("endSession() - sending `cheetah:endSession` to CAPI"),_("cheetahEndSession",this._logger,null===(e=this._params.getCAPIClient())||void 0===e?void 0:e.cheetahEndSession())}_handleRelevantCAPIEvent(e){y.Q.isCheetahSetContext(e)?this._handleCheetahSetContext(e):y.Q.isCheetahChunk(e)?this._handleCheetahChunk(e):y.Q.isCheetahResult(e)?this._handleCheetahResult(e):y.Q.isCheetahError(e)?this._handleCheetahError(e):y.Q.isCheetahAck(e)?this._handleCheetahAck(e):y.Q.isError(e)?this._handleError(e):(this._logger.warn("_handleRelevantCAPIEvent() - unknown event",{event:e}),(0,f.L0)(e))}_handleCheetahSetContext(e){this._logger.debug("_handleCheetahSetContext()",{event:e}),this._clearContextTimeout();const t=this._session.get(),n=e.message,i=this._extractVoiceProfile(n.context.voice),r={id:b._y.Id.create(n.context.id),dynamicActions:this._extractDynamicActions(n.context.availableActions),userPromptAction:this._extractUserPromptAction(n.context.promptAction),quickRewriteAction:this._extractQuickRewriteAction(n.context.quickRewriteAction),intent:this._extractIntent(n.context.intent)},o=n.progressMessage?Object.assign(Object.assign({},r),{kind:"pending",loadingMessage:n.progressMessage}):Object.assign(Object.assign({},r),{kind:"received"});let s=!1;if(0===this._contextById.size&&b._y.isReceived(o)&&(s=!0,this._initialReceivedContext=o),this._contextById.set(o.id,o),this._stateBlobByContextId.set(o.id,n.context.stateBlob),this._session.set(Object.assign(Object.assign({},t),{kind:"started",voiceProfile:i,context:o,inProgressResult:"started"===t.kind?t.inProgressResult:d.none,resultHistory:"started"===t.kind?t.resultHistory:[]})),s&&b.z_.Mode.isQuickRewrite(t.mode)){const i=b.aU.QuickRewriteValue.fromInput(this._extractQuickRewriteAction(n.context.quickRewriteAction));this._logger.debug("_handleCheetahSetContext() - received initial context for quick rewrite session, submitting quick rewrite action",{session:t,event:e,quickRewriteAction:i}),this._submitAction(i)}}_handleCheetahChunk(e){this._logger.debug("_handleCheetahChunk()",{event:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahChunk() - received chunk with a session that is not `started`, skipping",{session:t,event:e});const n=e.message,i=b.x4.Id.create(n.promptId);(0,r.zG)(t.inProgressResult,d.filter(b.x4.isInProgressOngoing),d.filter((e=>b.x4.Id.eq.equals(e.id,i))),d.map((e=>{this._clearAllTimeouts(),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:d.some(Object.assign(Object.assign({},e),{text:e.text+n.token}))}))})),p.ew((()=>this._logger.warn("_handleCheetahChunk() - received chunk that does not correspond to our in-progress-ongoing result, skipping",{session:t,event:e}))))}_handleCheetahResult(e){this._logger.debug("_handleCheetahResult()",{event:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahResult() - received result with a session that is not `started`, skipping",{session:t,event:e});const n=e.message,i=b.x4.Id.create(n.promptId);(0,r.zG)(t.inProgressResult,d.filter(b.x4.isInProgressOngoing),d.filter((e=>b.x4.Id.eq.equals(e.id,i))),d.map((i=>{if(this._clearAllTimeouts(),n.error||!n.text||""===n.text.plain){const i=n.error?b.JZ.create(n.error):b.JZ.createEmptyResultError();this._logger.warn("_handleCheetahResult() - received result with error, adding error to session",{session:t,event:e,error:i}),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:d.none,error:d.some(i)}))}else if(n.text.interrupted)this._logger.debug("_handleCheetahResult() - received result with interrupted text, skipping",{session:t,event:e});else{const r=Object.assign(Object.assign({},i),{kind:"complete",text:n.text.plain,diff:n.text.renderDiff&&"ops"in n.text.delta&&d.isSome(t.selectedText)&&Array.isArray(n.text.delta.ops)?d.some({delta:new s.i([...n.text.delta.ops]),selectedText:t.selectedText.value}):d.none});let o,a,c;this._logger.debug("_handleCheetahResult() - received complete result, saving complete result into history",{session:t,event:e,result:r}),n.context?(a=this._extractVoiceProfile(n.context.voice),o={kind:"received",id:b._y.Id.create(n.context.id),dynamicActions:this._extractDynamicActions(n.context.availableActions),userPromptAction:this._extractUserPromptAction(n.context.promptAction),intent:this._extractIntent(n.context.intent)},c=n.context.stateBlob,this._logger.debug("_handleCheetahResult() - received result with context, will update voice profile and context accordingly",{session:t,event:e,voiceProfile:a,context:o})):(this._logger.warn("_handleCheetahResult() - received result without context, keeping latest voice profile and context",{session:t,event:e}),a=t.voiceProfile,o=t.context,c=this._stateBlobByContextId.get(t.context.id)),this._contextById.set(o.id,o),void 0!==c&&this._stateBlobByContextId.set(o.id,c),this._resultById.set(r.id,r),this._contextIdByResultId.set(r.id,o.id),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:a,context:o,inProgressResult:d.none,resultHistory:[r,...t.resultHistory]}))}})),p.ew((()=>this._logger.warn("_handleCheetahResult() - received result that does not correspond to our in-progress-ongoing result, skipping",{session:t,event:e}))))}_handleCheetahError(e){this._logger.debug("_handleCheetahError",{event:e}),this._clearAllTimeouts();const t=b.JZ.create(e.message.error);this._logger.warn("_handleCheetahError - received error, adding error to session",{error:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:d.none,error:d.some(t)})))}_handleUpstreamDialectChange(e){this._logger.debug("_handleUpstreamDialectChange()",{upstreamDialect:e});const t=this._session.get();if("started"===t.kind){const n=b.LA.Dialect.Id.create(e);this._logger.debug("_handleUpstreamDialectChange() - dialect changed on upstream services, updating selected dialect on voice profile",{session:t,selectedDialect:n}),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),{selectedDialect:n})}))}}_handleCheetahAck(e){this._logger.debug("_handleCheetahAck()",{event:e}),this._clearCheetahAckTimeout(),this._cheetahAckIds.add(e.id);const t=this._cheetahAckHandlers.length>0?this._cheetahAckHandlers[0]:void 0;t&&(this._logger.debug("_handleCheetahAck() - extracting `cheetah:ack` handler from queue and executing it",{event:e,cheetahAckHandlers:this._cheetahAckHandlers}),this._cheetahAckHandlers=this._cheetahAckHandlers.slice(1),t(e.id))}_handleError(e){if(this._logger.debug("_handleError()",{event:e}),this._cheetahAckIds.has(e.id))if(this._clearAllTimeouts(),y.Q.isErrorSessionNotInitialized(e)){const t=(0,r.zG)(b.z_.toStarted(this._session.get()),d.map((e=>this._stateBlobByContextId.get(e.context.id))),d.toUndefined);this._logger.warn("_handleError() - received session not initialized error, restarting session",{event:e,startSessionOptions:this._params.startSessionOptions,stateBlob:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:d.none}))),this._startSession(this._params.startSessionOptions,t)}else{const e=b.JZ.createCriticalError((0,r.zG)(b.z_.toStarting(this._session.get()),d.isSome));this._logger.warn("_handleError - received error event that corresponds to one of the `cheetah:*` messages, adding error to session",{error:e}),this._session.modify((t=>Object.assign(Object.assign({},t),{inProgressResult:d.none,error:d.some(e)})))}}_extractVoiceProfile(e){var t,n;const i=(0,r.zG)(b.z_.toStarted(this._session.get()),d.map((e=>e.voiceProfile.styles)),d.getOrElse((()=>[]))),o=(0,r.zG)(b.z_.toStarted(this._session.get()),d.map((e=>e.voiceProfile.roles)),d.getOrElse((()=>[]))),s=(0,r.zG)(null!==(t=e.styles)&&void 0!==t?t:[],m.UI((e=>({id:b.LA.Style.Id.create(e.button.label),label:e.button.label,iconUrl:e.button.iconUrl,tones:e.tones.map((e=>({id:b.LA.Tone.Id.create(e.label),label:e.label,iconUrl:e.iconUrl,description:e.description}))),maxTones:e.maxTones,description:e.button.description}))),(e=>e.length>0?e:i)),a=b.LA.Style.Id.create(e.selectedStyle),c=s.find((e=>b.LA.Style.Id.eq.equals(e.id,a))),u={styles:s,roles:(0,r.zG)(null!==(n=e.roles)&&void 0!==n?n:[],m.UI((e=>({id:b.LA.Role.Id.create(e),label:e}))),(e=>e.length>0?e:o)),selectedStyle:a,selectedTonesPerStyle:(new Map).set(a,new Set(e.selectedTones.filter((e=>null==c?void 0:c.tones.map((e=>e.id.toString())).includes(e))))),selectedRole:(0,r.zG)(d.fromNullable(e.selectedRole),d.map((e=>e.trim())),d.filter((e=>""!==e)),d.map(b.LA.Role.Id.create)),dialects:b.LA.Dialect.all(),selectedDialect:(0,r.zG)(b.z_.toStarted(this._session.get()),d.fold((()=>b.LA.Dialect.Id.create(this._upstreamDialect.get())),(e=>e.voiceProfile.selectedDialect))),needsSetup:e.needSetup};return this._logger.debug("_extractVoiceProfile()",{voice:e,voiceProfile:u}),u}_extractDynamicActions(e){const t=e.map((e=>e.group)),n=e.map((e=>({id:b.aU.Id.create(e.id),kind:"dynamic",iconUrl:e.iconUrl,group:{label:e.group,rank:t.findIndex((t=>e.group===t))},label:(0,i.sanitize)(e.label,{ALLOWED_TAGS:["b","i"]}),searchLabel:(0,i.sanitize)(e.label,{ALLOWED_TAGS:[]}),searchTags:e.searchTags,generatesResult:e.generatesText,args:e.args.map((e=>({id:b.pY.Id.create(e.name),kind:"string",label:e.label,hints:(0,r.zG)(d.fromNullable(e.hint),d.map((e=>({header:e.header,items:e.text}))))})))})));return this._logger.debug("_extractDynamicActions()",{availableActions:e,dynamicActions:n}),n}_extractUserPromptAction(e){const t=(0,r.zG)(e.args,m.YM,d.map((t=>({id:b.aU.Id.create(e.id),kind:"userPrompt",arg:{id:b.pY.Id.create(t.name),kind:"string",label:t.label,hints:(0,r.zG)(d.fromNullable(t.hint),d.map((e=>({header:e.header,items:e.text}))))}}))));return d.isSome(t)?this._logger.debug("_extractUserPromptAction()",{promptAction:e,userPromptAction:t}):this._logger.warn("_extractUserPromptAction() - failed to extract user prompt action, received empty action args",{promptAction:e}),t}_extractQuickRewriteAction(e){const t={kind:"quickRewrite",id:b.aU.Id.create(e.id),label:(0,i.sanitize)(e.label,{ALLOWED_TAGS:["b","i"]}),iconUrl:e.iconUrl};return this._logger.debug("_extractQuickRewriteAction()",{quickRewriteAction:e,extractedQuickRewriteAction:t}),t}_extractIntent(e){const t=(0,r.zG)(d.fromNullable(e),d.filter((e=>e.length>0)),d.map((e=>({header:"Sender's intent",text:(0,i.sanitize)(e,{ALLOWED_TAGS:["b","i","person"]})}))));return this._logger.debug("_extractIntent()",{intent:e,extractedIntent:t}),t}_prepareOuterContext(e){const t={title:e.title,people:{from:[b.H3.Person.extractNameAndEmailString(e.author)],to:e.directRecipients.map(b.H3.Person.extractNameAndEmailString),cc:e.indirectRecipients.map(b.H3.Person.extractNameAndEmailString),bcc:e.undisclosedRecipients.map(b.H3.Person.extractNameAndEmailString)},items:[{text:e.previousMessageInfo.text,people:{from:[b.H3.Person.extractNameAndEmailString(e.previousMessageInfo.author)],to:e.previousMessageInfo.directRecipients.map(b.H3.Person.extractNameAndEmailString)}}]};return this._logger.debug("_prepareOuterContext()",{quickReplyContext:e,preparedOuterContext:t}),t}_submitAction(e,t){var n;this._logger.debug("_submitAction()",{action:e,contextId:t});const i=this._session.get();if("started"===i.kind){const o=null!=t?t:i.context.id,s=this._stateBlobByContextId.get(o);if(void 0===s)return this._logger.warn("_submitAction() - cannot find state blob for context ID, skipping",{session:i,contextId:o,contextStateBlob:s});this._session.set(Object.assign(Object.assign({},i),{context:Object.assign(Object.assign({},i.context),{kind:"pending",loadingMessage:"Working on it..."}),inProgressResult:b.aU.willGenerateResult(e)?d.some({kind:"inProgressPending",header:{label:b.aU.isUserPrompt(e)?e.arg.value:e.label,iconUrl:b.aU.isUserPrompt(e)?d.none:d.some(e.iconUrl),copiablePrompt:b.aU.isUserPrompt(e)?d.some(e.arg.value):d.none},text:"",source:{contextId:o,action:e}}):d.none,error:d.none})),this._setupCheetahAckHandler(b._H.Error.SourceEvent.action,(e=>{this._setupContextTimeout(b._H.Error.SourceEvent.action),(0,r.zG)(b.z_.toStarted(this._session.get()),d.chain((e=>e.inProgressResult)),d.filter(b.x4.isInProgressPending),d.map((t=>Object.assign(Object.assign({},t),{kind:"inProgressOngoing",id:b.x4.Id.create(e)}))),p.bw((t=>{this._logger.debug("received `cheetah:ack` related to in-progress-pending result, transitioning result to in-progress-ongoing",{ackId:e,inProgressResult:t}),this._resultById.set(t.id,t),this._clearResultTimeout(),this._logger.debug("setting up result timeout",{ackId:e,inProgressResult:t}),this._resultTimeout=l.H(this._resultTimeoutMs).subscribe((()=>{const e=b.JZ.createCriticalError((0,r.zG)(b.z_.toStarting(this._session.get()),d.isSome));this._logger.warn("waited too long with an in-progress-ongoing result, adding error to session",{error:e}),this._session.modify((t=>Object.assign(Object.assign({},t),{inProgressResult:d.none,error:d.some(e)}))),this._monitoringService.notify(b._H.Error.WaitForResultTimeout.create(this._session.get().mode))})),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:d.some(t)})))})),p.ew((()=>this._logger.warn("received `cheetah:ack` related to in-progress-pending result but we don't have an in-progress-pending result, skipping",{ackId:e}))))}));const a={contextId:o,actionId:e.id,args:b.aU.isUserPrompt(e)?[{name:e.arg.id,value:e.arg.value}]:(0,r.zG)(x.c2(e.args),d.fold((()=>[]),(e=>e.map((e=>({name:e.id,value:e.value})))))),stateBlob:s};this._logger.debug("_submitAction() - sending `cheetah:action` to CAPI",{data:a}),_("cheetahAction",this._logger,null===(n=this._params.getCAPIClient())||void 0===n?void 0:n.cheetahAction(a),(()=>this._monitoringService.notify(b._H.Info.Action.create(this._session.get().mode))))}else this._logger.warn("_submitAction() - submitting action with a session that is not `started`, skipping",{session:i,action:e,contextId:t})}_prepareEntryPoint(e){let t;switch(e){case b.z_.Mode.ideation:t=o.vv.Schema.MessageStartSessionEntryPoint.Ideation;break;case b.z_.Mode.rewrite:t=o.vv.Schema.MessageStartSessionEntryPoint.Rewrite;break;case b.z_.Mode.quickRewrite:t=o.vv.Schema.MessageStartSessionEntryPoint.QuickRewrite;break;case b.z_.Mode.quickReply:t=o.vv.Schema.MessageStartSessionEntryPoint.QuickReply;break;default:(0,f.L0)(e)}return this._logger.debug("_prepareEntryPoint()",{sessionMode:e,entryPoint:t}),t}_extractLatestResultContext(e){return this._extractContextFromResultHistory(e,0)}_extractPreviousResultContext(e){return this._extractContextFromResultHistory(e,1)}_extractContextFromResultHistory(e,t){const n=(0,r.zG)(d.fromNullable(e.resultHistory[t]),d.map((e=>e.id)),d.chain((e=>d.fromNullable(this._contextIdByResultId.get(e)))),d.chain((e=>d.fromNullable(this._contextById.get(e)))),d.toUndefined);return n?this._logger.debug("_extractContextFromResultHistory()",{session:e,resultIndex:t,resultContext:n}):this._logger.warn("_extractContextFromResultHistory() - could not find context for result",{session:e,resultIndex:t}),n}_extractInitialContext(){return null!==this._initialReceivedContext?(this._logger.debug("_extractInitialContext()",{initialContext:this._initialReceivedContext}),this._initialReceivedContext):void this._logger.warn("_extractInitialContext() - could not find initial context")}_clearResultTimeout(){var e;this._logger.trace("_clearResultTimeout()"),null===(e=this._resultTimeout)||void 0===e||e.unsubscribe(),this._resultTimeout=void 0}_clearContextTimeout(){var e;this._logger.trace("_clearContextTimeout()"),null===(e=this._contextTimeout)||void 0===e||e.unsubscribe(),this._contextTimeout=void 0}_clearCheetahAckTimeout(){var e;this._logger.trace("_clearCheetahAckTimeout()"),null===(e=this._cheetahAckTimeout)||void 0===e||e.unsubscribe(),this._cheetahAckTimeout=void 0}_clearAllTimeouts(){this._logger.trace("_clearAllTimeouts()"),this._clearResultTimeout(),this._clearContextTimeout(),this._clearCheetahAckTimeout()}_setupContextTimeout(e){this._logger.debug("_setupContextTimeout()",{sourceEvent:e}),this._clearContextTimeout(),this._contextTimeout=l.H(this._contextTimeoutMs).subscribe((()=>{const t=b.JZ.createCriticalError((0,r.zG)(b.z_.toStarting(this._session.get()),d.isSome));this._logger.warn("waited too long to receive `cheetah:setContext`, adding error to session",{error:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:d.none,error:d.some(t)}))),this._monitoringService.notify(b._H.Error.WaitForContextTimeout.create(e,this._session.get().mode))}))}_setupCheetahAckTimeout(e){this._logger.debug("_setupCheetahAckTimeout()",{sourceEvent:e}),this._clearCheetahAckTimeout(),this._cheetahAckTimeout=l.H(this._cheetahAckTimeoutMs).subscribe((()=>{const t=b.JZ.createCriticalError((0,r.zG)(b.z_.toStarting(this._session.get()),d.isSome));this._logger.warn("waited too long to receive an ACK for a `cheetah:*` command, adding error to session",{error:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:d.none,error:d.some(t)}))),this._monitoringService.notify(b._H.Error.WaitForAckTimeout.create(e,this._session.get().mode))}))}_setupCheetahAckHandler(e,t){this._setupCheetahAckTimeout(e),this._cheetahAckHandlers.push(t)}}var E=n(14601),O=n(2844),I=n(77176),A=n(60797),T=n(93508),R=n(85985),P=n(41398),N=n(8125),D=n(17771);class B{constructor(e,t,n,i,r,o,s,a,u,l,p=g.C8.Logging.getLogger("CheetahWeb.OnboardingService")){this._assistantUIActions=e,this._onboardingUIActions=t,this._session=n,this._textStats=i,this._cheetahEnabled=r,this._patchUpstreamOnboardingClientState=s,this._trackingService=a,this._forceDisabledOnboardingSteps=u,this._client=l,this._logger=p,this._subs=new E.w,this._upstreamOnboardingState=h.h.create(b.Zq.State.empty),this._activeStep=h.h.create(d.none),this.activeStep=this._activeStep.view(),this._subs.add(o.subscribe(c.wW(this._upstreamOnboardingState))),this._subs.add(this._upstreamOnboardingState.subscribe((e=>this._logger.debug("Upstream state changed",e)))),this._subs.add(this._handleSessionChange()),this._subs.add(this._handleResultAction()),this._subs.add(this._handleSubmitActionOrOpenVoiceProfile()),this._subs.add(this._handleSessionEnd()),this._subs.add(this._handleStepClose()),this._subs.add(this._handleTryItOut()),this._subs.add(this._handleOnboardingUIItemMount()),this._subs.add(this._getActiveStep().subscribe(c.wW(this._activeStep)))}completeOnboardingStep(e){this._upstreamOnboardingState.get()[e][this._client].completed||(this._logger.debug("completeOnboardingStep()",{step:e}),this._patchUpstreamOnboardingClientState({[e]:{completed:!0,lastSeen:Date.now()}}))}seenOnboardingStep(e,t=Date.now()){this._logger.debug("seenOnboardingStep()",{step:e}),this._patchUpstreamOnboardingClientState({[e]:{completed:this._upstreamOnboardingState.get()[e][this._client].completed,lastSeen:t}})}dispose(){this._subs.unsubscribe()}_getActiveStep(){return O.aj([this._session,this._upstreamOnboardingState,this._textStats,this._cheetahEnabled]).pipe(I.U((([e,t,n,i])=>{if(i){if(d.isNone(e)){if(!this._forceDisabledOnboardingSteps.has(b.TG.StepName.initial)&&(0,r.zG)(t.initial[this._client],(({completed:e,lastSeen:t})=>!e&&void 0===t)))return d.some(b.TG.StepName.initial);return!this._forceDisabledOnboardingSteps.has(b.TG.StepName.rewrite)&&!t.rewrite[this._client].completed&&t.initial[this._client].completed&&(0,r.zG)(n,d.exists((e=>e.wordCount>30)))?d.some(b.TG.StepName.rewrite):d.none}return b.Zq.Step.everyClient((e=>!e.completed))(t.prompts)?d.some(b.TG.StepName.prompts):b.Zq.Step.everyClient((e=>!e.completed))(t.review)?d.some(b.TG.StepName.review):d.none}return d.none})))}_handleSessionChange(){return this._session.pipe(A.oA).subscribe((e=>{this.completeOnboardingStep(b.TG.StepName.initial),b.z_.Mode.isRewriteOrQuickRewrite(e.mode)&&this.completeOnboardingStep(b.TG.StepName.rewrite),"started"===e.kind&&e.resultHistory.filter((e=>"complete"===e.kind)).length>1&&this.completeOnboardingStep(b.TG.StepName.review)}))}_handleSessionEnd(){return this._session.pipe(T.O(d.none),u.G(),R.h((([e,t])=>d.isSome(e)&&d.isNone(t))),P.M(this._activeStep),I.U((([[e,t],n])=>(0,D.Y)(d.option)({step:(0,r.zG)(n,d.filter(b.TG.StepName.isAssistantOnboardingStep)),session:(0,r.zG)(e,d.chain(b.z_.toStarted))}))),A.oA).subscribe((({step:e,session:t})=>{e===b.TG.StepName.review&&t.resultHistory.filter((e=>"complete"===e.kind)).length>0?this.completeOnboardingStep(b.TG.StepName.review):e===b.TG.StepName.prompts&&this.completeOnboardingStep(e)}))}_handleOnboardingUIItemMount(){return this._onboardingUIActions.pipe(R.h(b.lG.is(b.lG.Kind.mount))).subscribe((e=>{e.name===b.nM.initialPopup?(0,r.zG)(e.element,p.bw((()=>this._trackingService.trackOnboardingPopupView()))):e.name===b.nM.promptsTooltip?(0,r.zG)(e.element,p.bw((()=>this._trackingService.trackOnboardingPromptsTooltipView()))):e.name===b.nM.reviewTooltip?(0,r.zG)(e.element,p.bw((()=>this._trackingService.trackOnboardingReviewTooltipView()))):e.name===b.nM.rewriteTooltip?(0,r.zG)(e.element,p.bw((()=>this._trackingService.trackOnboardingRewriteTooltipView()))):(0,f.L0)(e.name)}))}_handleStepClose(){return this._onboardingUIActions.pipe(R.h(b.lG.is(b.lG.Kind.close))).subscribe((e=>{e.step===b.TG.StepName.initial?(this._trackingService.trackOnboardingPopupSkip(),void 0===this._upstreamOnboardingState.get().initial[this._client].lastSeen?this.seenOnboardingStep(e.step,Date.now()):this.completeOnboardingStep(e.step)):this.completeOnboardingStep(e.step)}))}_handleTryItOut(){return this._onboardingUIActions.pipe(R.h(b.lG.is(b.lG.Kind.tryItOut))).subscribe((()=>{this._trackingService.trackOnboardingPopupNext(),this.completeOnboardingStep(b.TG.StepName.initial)}))}_handleResultAction(){return this._assistantUIActions.pipe(R.h((0,N.W9)(b.ix.isResultAction,(e=>"complete"===e.result.kind)))).subscribe((()=>{this.completeOnboardingStep(b.TG.StepName.review)}))}_handleSubmitActionOrOpenVoiceProfile(){return this._assistantUIActions.pipe(R.h((0,N.Kg)(b.ix.is(b.ix.Kind.clickActionBrick),b.ix.is(b.ix.Kind.promptSend),b.ix.is(b.ix.Kind.openVoiceProfile),b.ix.is(b.ix.Kind.openFeedbackForm))),P.M(this._activeStep,this._session.pipe(I.U(d.chain(b.z_.toStarted)))),I.U((([e,t,n])=>(0,D.Y)(d.option)({step:(0,r.zG)(t,d.filter(b.TG.StepName.isAssistantOnboardingStep)),session:n}))),A.oA).subscribe((({step:e,session:t})=>{e===b.TG.StepName.review&&t.resultHistory.filter((e=>"complete"===e.kind)).length>0?this.completeOnboardingStep(b.TG.StepName.review):e===b.TG.StepName.prompts&&this.completeOnboardingStep(e)}))}}class U{constructor(e){this.user=e}}var F=n(24209),M=n(61792);class L{constructor(e,t,n,i=g.C8.Logging.getLogger("CheetahWeb.AvailabilityService",v.i.DEBUG)){this._capiSessionStartedPartialEvent=e,this._capiCheetahSetContextEvents=t,this._capiCheetahResultEvents=n,this._logger=i,this._subs=new a.w.Keeper,this.availability=h.h.create({kind:M.a.Kind.pending}),this.promptsAllocated=this.availability.view((e=>(0,r.zG)(e,d.fromPredicate((0,N.Kg)(M.a.isActive,M.a.isPassive)),d.map((e=>e.promptsAllocated))))),this._subs.push(this._capiSessionStartedPartialEvent.subscribe((({allowedFeatures:e,cheetahUsage:t})=>this.availability.set(e.includes(o.vv.AllowedFeature)?M.a.fromUsage(t):{kind:M.a.Kind.unavailable}))),F.T(this._capiCheetahSetContextEvents,this._capiCheetahResultEvents).subscribe((e=>this.availability.set(M.a.fromUsage(e.message.usage)))),this.availability.pipe(u.G()).subscribe((([e,t])=>{this._logger.debug("availability updated",{prevAvailability:e,newAvailability:t}),(M.a.isActive(t)||M.a.isPassive(t))&&0===t.refillDate&&this._logger.warn("availability updated - error parsing refill date for new availability, setting timestamp to 0",{prevAvailability:e,newAvailability:t})})))}dispose(){this._subs.dispose()}}class G{constructor(e,t=g.C8.Logging.getLogger("CheetahWeb.TrackingService",v.i.DEBUG)){this._getCAPIClient=e,this._logger=t}trackResultInsert(e){this._logger.debug("trackResultInsert()",{contextId:e}),e||this._logger.warn("trackResultInsert() - tracking result insert without context"),this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.insert},e)}trackResultOffensive(e){this._logger.debug("trackResultOffensive()",{contextId:e}),e||this._logger.warn("trackResultOffensive() - tracking result offensive without context"),this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.offensive},e)}trackResultDismiss(e){this._logger.debug("trackResultDismiss()",{contextId:e}),e||this._logger.warn("trackResultDismiss() - tracking result dismiss without context"),this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.dismiss},e)}trackResultRephrase(e){this._logger.debug("trackResultRephrase()",{contextId:e}),e||this._logger.warn("trackResultRephrase() - tracking result rephrase without context"),this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.rephrase},e)}trackVoiceProfileOpen(e){this._logger.debug("trackVoiceProfileOpen()",{source:e}),this._trackUxInteraction({kind:"voiceProfile",userAction:"toolbar"===e?b.Z7.VoiceProfile.UserAction.open:b.Z7.VoiceProfile.UserAction.openFromBanner})}trackVoiceProfileSkip(){this._logger.debug("trackVoiceProfileSkip()"),this._trackUxInteraction({kind:"voiceProfile",userAction:b.Z7.VoiceProfile.UserAction.skip})}trackActionsOpenStore(){this._logger.debug("trackActionsOpenStore()"),this._trackUxInteraction({kind:"actions",userAction:b.Z7.Actions.UserAction.openStore})}trackActionsOffensive(e){this._logger.debug("trackActionsOffensive()"),e||this._logger.warn("trackActionsOffensive() - tracking actions offensive without context"),this._trackUxInteraction({kind:"actions",userAction:b.Z7.Actions.UserAction.offensive},e)}trackPromptSearch(){this._logger.debug("trackPromptSearch()"),this._trackUxInteraction({kind:"prompt",userAction:b.Z7.Prompt.UserAction.search})}trackUsageInfoClick(){this._logger.debug("trackUsageInfoClick()"),this._trackUxInteraction({kind:"usageInfo",userAction:b.Z7.UsageInfo.UserAction.click})}trackUsageInfoHover(){this._logger.debug("trackUsageInfoHover()"),this._trackUxInteraction({kind:"usageInfo",userAction:b.Z7.UsageInfo.UserAction.hover})}trackOnboardingPopupView(){this._logger.debug("trackOnboardingPopupView()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:b.Z7.Onboarding.UserAction.view})}trackOnboardingPopupSkip(){this._logger.debug("trackOnboardingPopupSkip()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:b.Z7.Onboarding.UserAction.skip})}trackOnboardingPopupNext(){this._logger.debug("trackOnboardingPopupNext()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:b.Z7.Onboarding.UserAction.next})}trackOnboardingPromptsTooltipView(){this._logger.debug("trackOnboardingPromptsTooltipView()"),this._trackUxInteraction({kind:"onboardingPromptsTooltip",userAction:b.Z7.Onboarding.UserAction.view})}trackOnboardingReviewTooltipView(){this._logger.debug("trackOnboardingReviewTooltipView()"),this._trackUxInteraction({kind:"onboardingReviewTooltip",userAction:b.Z7.Onboarding.UserAction.view})}trackOnboardingRewriteTooltipView(){this._logger.debug("trackOnboardingRewriteTooltipView()"),this._trackUxInteraction({kind:"onboardingRewriteTooltip",userAction:b.Z7.Onboarding.UserAction.view})}trackAssistantClose(){this._logger.debug("trackAssistantClose()"),this._trackUxInteraction({kind:"assistant",userAction:b.Z7.Assistant.UserAction.close})}_trackUxInteraction(e,t){var n;const i=b.Z7.getComponentId(e,t),r=b.Z7.getUserAction(e);this._logger.debug("_trackUxInteraction() - sending `user_action` to CAPI",{componentId:i,userAction:r,uxInteraction:e,contextId:t}),_("sendUserAction",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.sendUserAction(i,r))}}},44318:(e,t,n)=>{n.d(t,{Dg:()=>Zo,TB:()=>B,WY:()=>Ho});var i=n(57050),r=n(53664),o=n(14601),s=n(2768),a=n(85985),c=n(2834),u=n(49708),l=n(5114),d=n(55415),p=n(38983);function f(e){return(0,i.zG)(e,l.fromPredicate((e=>"initial"===e.kind||"dragged"===e.kind)))}class h{constructor(e,t){this._positionInfo=e,this._onFocus=t,this._internalState=p.h.create({managedPositionInfo:l.none,assistant:l.none,dragState:l.none,assistantMaxHeight:l.none}),this.state=this._internalState.view((e=>(0,i.zG)(e.dragState,l.map((t=>{return n=t,i=e.assistantMaxHeight,{kind:"dragged",dragging:n.dragging,referencePosition:n.translationOrigin,assistantMaxHeight:i,translation:(0,r.NN)(Object.assign(Object.assign({},n.assistantSize),{top:n.viewportSize.height-n.translationOrigin.bottom-n.assistantSize.height,left:n.viewportSize.width-n.translationOrigin.right-n.assistantSize.width}),Object.assign({left:0,top:0},n.viewportSize))(n.translation)};var n,i})),l.alt((()=>(0,i.zG)(e.managedPositionInfo,l.map((t=>({kind:"initial",referenceElement:t.referenceElement,placement:t.placement,offset:t.offset,assistantMaxHeight:e.assistantMaxHeight})))))),l.getOrElse((()=>({kind:"none"})))))),this._subs=new o.w,this._subs.add(this._positionInfo.pipe(s.R(this._internalState.view("dragState").pipe(a.h(l.isSome))),c.b((e=>this._internalState.lens("managedPositionInfo").set(l.some(e))))).subscribe()),this._subs.add(u.R(self,"resize").pipe(c.b((()=>this._internalState.lens("dragState").modify(l.map(r.eG.set("viewportSize",(0,i.zG)((0,r.C7)(),d.H6("width","height")))))))).subscribe())}onFocus(e){this._onFocus(e)}onMount(e){this._internalState.lens("assistant").set(l.some(e))}onResize(e){this._internalState.lens("dragState").modify(l.map(r.eG.set("assistantSize",(0,i.zG)(e,d.H6("width","height")))))}onMaxHeightChange(e){this._internalState.lens("assistantMaxHeight").set(l.some(e))}onDrag(e){this._internalState.modify((t=>Object.assign(Object.assign({},t),{dragState:(0,i.zG)(t.dragState,l.map((0,i.ls)(r.eG.set("translation",e),r.eG.set("dragging",!0))),l.alt((()=>(0,i.zG)(t.assistant,l.map((e=>({assistantRect:e.getBoundingClientRect(),viewportSize:(0,i.zG)((0,r.C7)(),d.H6("width","height"))}))),l.map((({assistantRect:t,viewportSize:n})=>({dragging:!0,viewportSize:n,assistantSize:{width:t.width,height:t.height},translation:e,translationOrigin:{bottom:n.height-(t.top+t.height),right:n.width-(t.left+t.width)}})))))))})))}onDragEnd(){this._internalState.lens("dragState").modify(l.map(r.eG.set("dragging",!1)))}dispose(){this._subs.unsubscribe()}}var m,g,v=n(17771),b=n(48044),x=n(13853),y=n(64015),w=n(42040),_=n(99341),C=n(32952),S=n(78674),k=n(41398),E=n(77176),O=n(98403),I=n(8125),A=n(45701),T=n(83078),R=n(22232),P=n(35152),N=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};!function(e){let t,n;e.isSupportedDynamicAction=(0,I.Kg)(P.aU.DynamicInput.isFollowUpQuestion,P.aU.DynamicInput.isQuickAction),function(e){e.ordByGroup=A.contramap((e=>e.group.rank))(A.ordNumber)}(t=e.SupportedDynamicActions||(e.SupportedDynamicActions={})),function(e){e.make=function(e){return{kind:"backendAction",action:e}}}(n=e.BackendAction||(e.BackendAction={}))}(m||(m={})),function(e){function t(e){return t=>Object.assign(Object.assign({},t),{activeView:e,previousView:t.activeView})}e.create=function(){return{activeView:"loading",previousView:"loading",stagingVoiceProfile:l.none,stagingFeedbackFormData:{},textBox:"",selectedDynamicAction:l.none,contentOverflowUnderToolbar:!1,promptAutofocusToken:0,cardsState:{hoveredCard:l.none,reportMenuVisible:l.none}}},e.updateActiveView=t,e.goToPreviousView=e=>t(e.previousView)(e)}(g||(g={}));class D{constructor(e,t,n,r,s=w.C8.Logging.getLogger(D.name)){this._handlers=e,this._user=t,this._availability=n,this._session=r,this._log=s,this._state=p.h.create(g.create()),this._subs=new o.w,this._userTyped=new C.xQ,this._focusedCard=p.h.create(l.none),this._focusedCardDebounced=p.h.create(l.none),this.promptMenuActions=new C.xQ,this.state=p.h.combine(this._state,this._user,this._availability,this._session,this._focusedCardDebounced,((e,t,n,r,o)=>{var{cardsState:s}=e,a=N(e,["cardsState"]);return Object.assign(Object.assign({},a),{user:t,availability:n,session:r,userPromptAction:(0,i.zG)(P.z_.toStarted(r),l.chain((e=>e.context.userPromptAction))),activeCards:new Set((0,i.zG)([s.hoveredCard,o,s.reportMenuVisible],y.oA))})})),this._subs.add(this.state.subscribe((e=>this._log.debug("State update",e)))),this._subs.add(this._updateActiveView().subscribe()),this._subs.add(this._userTyped.pipe(S.b(150),k.M(this._state),E.U((([e,t])=>t)),a.h((e=>l.isNone(e.selectedDynamicAction))),c.b((e=>this.promptMenuActions.next({kind:"showSearchRestuls",search:e.textBox})))).subscribe()),this._subs.add(this._focusedCard.pipe(S.b(5)).subscribe(O.wW(this._focusedCardDebounced)))}_updateActiveView(){return p.h.combine(this._session.view(P.z_.toStarting).view((0,i.ls)(l.chain((e=>e.error)),l.fold(i.jv,i.W8))),this._session.view(P.z_.toStarted).view(l.map((e=>({hasResults:e.resultHistory.length>0,hasInProgressResult:l.isSome(e.inProgressResult)})))),this._state.view("selectedDynamicAction").view(l.isSome),((e,t,n)=>{const r=e?l.some("loadingError"):(0,i.zG)(t,l.map((({hasResults:e,hasInProgressResult:t})=>n?"actionSelected":e||t?"afterResults":"beforeResults")));(0,i.zG)(r,T.bw((e=>this._state.modify((t=>"voiceProfile"!==t.activeView&&"feedbackForm"!==t.activeView?g.updateActiveView(e)(t):t)))))}))}notify(e){switch(this._handlers.notify(e),e.kind){case P.ix.Kind.close:return this._close();case P.ix.Kind.goBack:return this._goBack();case P.ix.Kind.openVoiceProfile:return this._openVoiceProfile(e.source);case P.ix.Kind.closeVoiceProfile:return this._closeVoiceProfile();case P.ix.Kind.applyVoiceProfile:return this._applyVoiceProfile();case P.ix.Kind.toggleTone:return this._toggleTone(e.id,e.selected);case P.ix.Kind.selectStyle:return this._selectStyle(e.id);case P.ix.Kind.selectRole:return this._selectRole((0,i.zG)(e.role,l.map((e=>e.id))));case P.ix.Kind.selectDialect:return this._selectDialect(e.dialect.id);case P.ix.Kind.promptFieldChange:return this._updateTextBox(e.text);case P.ix.Kind.promptFieldFocusChange:return this._onPromptFieldFocusChange(e.focused);case P.ix.Kind.clickActionBrick:return this._executeAction(e.action);case P.ix.Kind.promptSend:return this._go();case P.ix.Kind.generateStop:return this._stop();case P.ix.Kind.insert:return this._insert(e.result);case P.ix.Kind.rephrase:return this._rephrase(e.result);case P.ix.Kind.dismissResult:return this._dismissResult(e.result);case P.ix.Kind.dismissError:return this._dismissError();case P.ix.Kind.openFeedbackForm:return this._openFeedbackForm(e.source);case P.ix.Kind.updateFeedbackForm:return this._updateFeedbackForm(e.feedbackData);case P.ix.Kind.submitFeedbackForm:return this._submitFeedbackForm(e.feedbackData);case P.ix.Kind.reportOffensiveResult:return this._reportOffensiveResult(e.result);case P.ix.Kind.reportOffensiveActions:return this._reportOffensiveActions();case P.ix.Kind.clickResultHeader:return this._clickResultHeader(e.prompt);case P.ix.Kind.collapsePromptMenu:return this._collapsePromptMenu();case P.ix.Kind.creditsInfoHover:return this._onCreditsInfoHover();case P.ix.Kind.creditsInfoClick:return this._onCreditsInfoClick(e.userIsFree);case P.ix.Kind.cardHover:return this._onCardHover(e.resultId,e.hovered);case P.ix.Kind.cardFocus:return this._onCardFocus(e.resultId,e.focused);case P.ix.Kind.cardReportMenuVisibilityChange:return this._onCardReportMenuVisibilityChange(e.resultId,e.visible);case P.ix.Kind.mount:e.name===P.ec.creditsInfoButton&&l.isSome(e.element)&&this._handlers.onShowGetMorePrompts(this._user.get().isFree);break;case P.ix.Kind.escapePressed:this._onEscapePressed();break;default:(0,R.L0)(e)}}contentOverflowUnderToolbar(e){this._state.lens("contentOverflowUnderToolbar").set(e)}dispose(){this._subs.unsubscribe()}_onCardHover(e,t){this._state.lens("cardsState").lens("hoveredCard").modify(t?()=>l.some(e):l.filter((t=>t!==e)))}_onCardFocus(e,t){this._focusedCard.modify(t?()=>l.some(e):l.filter((t=>t!==e)))}_onCardReportMenuVisibilityChange(e,t){this._state.lens("cardsState").lens("reportMenuVisible").modify(t?()=>l.some(e):l.filter((t=>t!==e)))}_onEscapePressed(){this._session.view((e=>"started"===e.kind&&l.isNone(e.inProgressResult))).get()&&this._close()}_close(){this._handlers.trackAssistantClose(),this._handlers.close(P.z_.EndReason.closed)}_goBack(){const e=(0,i.zG)(P.z_.toStarted(this._session.get()),l.map((e=>e.resultHistory.length>0)),l.fold(i.jv,i.W8));this._state.modify((t=>Object.assign(Object.assign({},"actionSelected"===t.activeView?g.updateActiveView(e?"afterResults":"beforeResults")(t):g.updateActiveView(t.previousView)(t)),{selectedDynamicAction:"actionSelected"===t.activeView?l.none:t.selectedDynamicAction,textBox:"actionSelected"===t.activeView?"":t.textBox})))}_openVoiceProfile(e){(0,i.zG)(P.z_.toStarted(this._session.get()),T.bw((t=>{this._handlers.trackVoiceProfileOpen(e),this._focusedCard.set(l.none),this._state.modify((0,i.ls)(g.updateActiveView("voiceProfile"),_.e.set("stagingVoiceProfile",l.some({selectedStyle:t.voiceProfile.selectedStyle,selectedTonesPerStyle:t.voiceProfile.selectedTonesPerStyle,selectedRole:t.voiceProfile.selectedRole,selectedDialect:t.voiceProfile.selectedDialect,needsSetup:t.voiceProfile.needsSetup})),_.e.set("cardsState",{hoveredCard:l.none,reportMenuVisible:l.none})))})))}_closeVoiceProfile(){this._handlers.trackVoiceProfileSkip(),this._state.modify((e=>(0,i.zG)(g.updateActiveView(e.previousView)(e),_.e.set("stagingVoiceProfile",l.none))))}_applyVoiceProfile(){const e=this._state.get().stagingVoiceProfile;this._state.modify((e=>(0,i.zG)(g.updateActiveView(e.previousView)(e),_.e.set("stagingVoiceProfile",l.none)))),(0,i.zG)(e,T.bw((e=>{this._handlers.setVoiceProfile(e)})))}_toggleTone(e,t){this._state.lens("stagingVoiceProfile").modify(l.map((n=>Object.assign(Object.assign({},n),{selectedTonesPerStyle:(0,i.zG)(n.selectedTonesPerStyle,t?(0,_.n)(P.LA.Style.Id.eq)(n.selectedStyle,l.fold((()=>new Set([e])),x.$T(P.LA.Tone.Id.eq)(e))):(0,i.ls)(b.cq(P.LA.Style.Id.eq)(n.selectedStyle,x.Od(P.LA.Tone.Id.eq)(e)),l.getOrElse((()=>n.selectedTonesPerStyle))))}))))}_selectStyle(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedStyle:e}))))}_selectRole(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedRole:e}))))}_selectDialect(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedDialect:e}))))}_updateTextBox(e){this._state.lens("textBox").set(e),this._userTyped.next(e)}_onPromptFieldFocusChange(e){this._handlers.onFocus(e),""===this._state.view("textBox").get().trim()||e||this._handlers.trackPromptSearch()}_executeAction(e){if(this.promptMenuActions.next({kind:"close"}),"backendAction"===e.kind)if(P.aU.DynamicInput.isFollowUpQuestion(e.action)){const t=e.action;this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedDynamicAction:l.some(t)})))}else P.aU.DynamicInput.isQuickAction(e.action)?(this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedDynamicAction:l.none}))),this._handlers.submitAction(e.action)):(0,R.L0)(e.action);else"allResults"===e.kind?(this._handlers.trackActionsOpenStore(),this.promptMenuActions.next({kind:"showActionsStore"})):"go"===e.kind?this._go():(0,R.L0)(e)}_go(){this.promptMenuActions.next({kind:"close"}),l.isSome(this._state.get().selectedDynamicAction)?this._submitSelectedFollowUpAction():this._submitCustomPrompt()}_stop(){this._handlers.stopInProgressResult()}_insert(e){this._handlers.trackResultInsert(e.id),this._handlers.insertText(e.text)}_rephrase(e){this._handlers.regenerateResult(e.id)}_dismissResult(e){this._handlers.dismissResult(e.id),this._focusedCard.modify(l.filter((t=>t!==e.id))),this._state.lens("cardsState").modify((t=>Object.assign(Object.assign({},t),{hoveredCard:(0,i.zG)(t.hoveredCard,l.filter((t=>t!==e.id))),reportMenuVisible:(0,i.zG)(t.reportMenuVisible,l.filter((t=>t!==e.id)))})))}_dismissError(){this._handlers.dismissError()}_openFeedbackForm(e){this._focusedCard.set(l.none),this._state.modify((t=>Object.assign(Object.assign({},g.updateActiveView("feedbackForm")(t)),{stagingFeedbackFormData:{source:e},cardsState:{hoveredCard:l.none,reportMenuVisible:l.none}})))}_updateFeedbackForm(e){this._state.modify((t=>Object.assign(Object.assign({},t),{stagingFeedbackFormData:Object.assign(Object.assign({},t.stagingFeedbackFormData),e)})))}_submitFeedbackForm(e){this._state.modify((e=>Object.assign(Object.assign({},g.goToPreviousView(e)),{stagingFeedbackFormData:{}}))),this._handlers.submitFeedback(e)}_reportOffensiveResult(e){this._handlers.trackResultOffensive(e.id)}_reportOffensiveActions(){this._handlers.trackActionsOffensive()}_clickResultHeader(e){this._state.modify((t=>Object.assign(Object.assign({},t),{textBox:e,promptAutofocusToken:t.promptAutofocusToken+1})))}_collapsePromptMenu(){this.promptMenuActions.next({kind:"close"})}_onCreditsInfoHover(){this._handlers.trackUsageInfoHover()}_onCreditsInfoClick(e){this._handlers.trackUsageInfoClick(),this._handlers.onClickGetMorePrompts(e)}_submitSelectedFollowUpAction(){const e=(0,i.zG)(this._state.get().textBox.trim(),l.fromPredicate((e=>""!==e)));(0,i.zG)(v.Y(l.option)({text:e,selectedDynamicAction:this._state.get().selectedDynamicAction}),l.map((({text:e,selectedDynamicAction:t})=>P.aU.FollowUpQuestionValue.fromInputAndValue(t,e))),T.bw((e=>{this._state.modify((e=>Object.assign(Object.assign({},e),{selectedDynamicAction:l.none,textBox:""}))),this._handlers.submitAction(e)})))}_submitCustomPrompt(){(0,i.zG)(this._state.get().textBox.trim(),l.fromPredicate((e=>""!==e)),l.chain((e=>(0,i.zG)(P.z_.toStarted(this._session.get()),l.chain((e=>e.context.userPromptAction)),l.map((t=>({userPromptAction:t,text:e})))))),T.bw((({text:e,userPromptAction:t})=>{this._state.lens("textBox").set(""),this._handlers.submitAction(P.aU.UserPromptValue.fromInput(t,e))})))}}var B,U,F=n(80900),M=n(28043);class L{constructor(e,t,n=3e3,i=1){this._assistantUIActions=e,this._activeView=t,this._notificationsDurationMs=n,this._maxNotificationsCountAtOnce=i,this._state=p.h.create([]),this._notificationsSubs=new Map,this._subs=new o.w,this._nextToastId=0,this.state=this._state.view(),this._subs.add(this._showFeedbackSubmittedToast().subscribe()),this._subs.add(this._clearNotificationsOnViewChange().subscribe())}dismiss(e){var t;null===(t=this._notificationsSubs.get(e))||void 0===t||t.unsubscribe(),this._notificationsSubs.delete(e),this._state.modify(y.hX((t=>t.id!==e)))}clearAll(){this._notificationsSubs.forEach((e=>e.unsubscribe())),this._notificationsSubs.clear(),this._state.set([])}dispose(){this._subs.unsubscribe(),this.clearAll()}_showNotification(e){const t=this._nextToastId++;this._notificationsSubs.set(t,F.H(this._notificationsDurationMs).subscribe((()=>this.dismiss(t)))),this._state.modify((0,i.ls)(y.QI({kind:e,id:t}),y.ke(this._maxNotificationsCountAtOnce)))}_showFeedbackSubmittedToast(){return this._assistantUIActions.pipe(a.h((0,I.Kg)(P.ix.is(P.ix.Kind.submitFeedbackForm),P.ix.is(P.ix.Kind.reportOffensiveResult),P.ix.is(P.ix.Kind.reportOffensiveActions))),c.b((()=>this._showNotification(P.Cl.Kind.feedbackSubmitted))))}_clearNotificationsOnViewChange(){return this._activeView.pipe(M.x(),c.b((e=>{"feedbackForm"!==e&&"voiceProfile"!==e||this.clearAll()})))}}!function(e){e.create=function(e,t,n,i,r){const o=U.create(e,t,n,i),s=new h(r,(t=>e.onFocus(t)));return Object.assign(Object.assign({},o),{position:s,dispose:()=>{s.dispose(),o.dispose()}})}}(B||(B={})),function(e){e.create=function(e,t,n,i){const r=new C.xQ,o=new D(Object.assign(Object.assign({},e),{notify:t=>{r.next(t),e.notify(t)}}),t,n,i),s=new L(r,o.state.view("activeView"));return{assistant:o,notifications:s,dispose:()=>{s.dispose(),o.dispose()}}}}(U||(U={}));var G=n(34217),j=n(27378),z=n(19703),V=n(12187),$=n(74204),Z=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const H=e=>{var{placement:t,onMount:n,onMaxSizeChange:o,children:s}=e,a=Z(e,["placement","onMount","onMaxSizeChange","children"]);const[c,u]=j.useState(null),d="initial"===t.kind?t:void 0,p=(0,r.gM)(o),{styles:f}=(0,$.D)(null==d?void 0:d.referenceElement,c,{placement:null==d?void 0:d.placement,modifiers:[p,...(0,i.zG)((null==d?void 0:d.offset)||l.none,l.fold((()=>[]),(e=>[{name:"offset",options:{offset:e}}])))]});return j.createElement("div",Object.assign({ref:e=>{u(e),e&&e!==c&&n(e)},style:"initial"===t.kind?f.popper:{position:"fixed",top:t.referencePosition.top,left:t.referencePosition.left,bottom:t.referencePosition.bottom,right:t.referencePosition.right,transform:`translate(${t.translation.x}px, ${t.translation.y}px)`},tabIndex:0},a),s)};var K=n(89894),W=n(62172),q=n(88392),Y=n(9546);const X="content",Q="toolbar",J=e=>K.ux.color(W.BlueGray40).toRGBA().fade(e).toString(),ee={fontFamily:"Inter, sans-serif",width:K.ux.rem(26.875),boxShadow:`0px 0px 0px 0.5px ${W.BlueGray40}, 0px 0px 2px 0.5px ${J(.5)}, 0px 1px 8px 0.5px ${J(.1)}, 0px 2px 12px 0.5px ${J(.1)}, 0px 4px 20px 0.5px ${J(.25)}`,backdropFilter:`blur(${K.ux.rem(.34375)})`,borderRadius:K.ux.rem(q.ze),background:"linear-gradient(180deg, #FCFCFC 0%, #FCFCFC 100%)",$nest:{"&[data-dragging='true']":{cursor:"grabbing",$nest:{[`.${X}`]:{pointerEvents:"none"},[`.${Q}`]:{pointerEvents:"none"}}}}},te={maxWidth:K.ux.rem(40),minWidth:K.ux.rem(18),width:K.ux.percent(100)},ne={display:"flex",alignItems:"center",justifyContent:"space-between",gap:K.ux.rem(Y.x),padding:`${K.ux.rem(Y.F2+Y.yC)} ${K.ux.rem(Y.x)}`,height:K.ux.rem(2.5),boxSizing:"border-box"},ie={borderBottom:`0.5px solid ${W.BlueGray10}`},re={container:K.ux.style(ee),fixedContainer:K.ux.style(ee,te),toolbar:K.ux.joinClasses([Q,K.ux.style(ne)]),toolbarDraggable:K.ux.joinClasses([Q,K.ux.style(ne,{cursor:"grab",$nest:{"&:active":{cursor:"grabbing"}}})]),toolbarOverflow:K.ux.style(ie),content:X};var oe=n(86545),se=n(99094),ae=n(31278);const ce=G.UI.Grid.make((({slots:e,state:t,notify:n})=>j.createElement(se.f.Context.Provider,{value:se.f.emptyWithName("cheetahAssistant")},j.createElement(z.F.Fragment,null,t.pipe(E.U((t=>"initial"===t.kind||"dragged"===t.kind?j.createElement(H,{placement:t,onFocus:n({kind:"focus",focused:!0}),onBlur:n({kind:"focus",focused:!1}),onMount:e=>n({kind:"mount",element:e})(),onMaxSizeChange:e=>n({kind:"maxSize",maxSize:e})(),"data-grammarly-part":"ideation-assistant","data-dragging":"dragged"===t.kind&&t.dragging,className:re.container},j.createElement("header",Object.assign({},(0,V.Sh)(re.toolbarDraggable,t.contentOverflowUnderToolbar?re.toolbarOverflow:null),{ref:e=>e&&n({kind:"dragHandleMount",element:e})()}),e.toolbar,j.createElement(oe.zx.Tertiary,{onClick:n({kind:P.ix.Kind.close}),compact:!0,name:"toolbarClose","aria-label":"Close Assistant"},j.createElement(ae.JO.Close,null))),j.createElement("main",{className:re.content},e.content)):"none"===t.kind?null:(0,R.L0)(t))))))));var ue=n(38194),le=n(24209),de=n(49143),pe=n(2844),fe=n(60797),he=n(66310),me=n(14811),ge=n(93508),ve=n(83401),be=n(90845);function xe(e,t){return(0,i.ls)(ue.B(),(n=>le.T(n.pipe(c.b((n=>function(e,t,n){switch(e.kind){case"focus":return t.onFocus(e.focused);case"mount":return t.onMount(e.element);case"maxSize":return t.onMaxHeightChange(e.maxSize.height);case"dragHandleMount":break;case P.ix.Kind.close:return n.notify(e);default:(0,R.L0)(e)}}(n,e,t))),de.l()),n.pipe(function(e){return(0,i.ls)(E.U((e=>"dragHandleMount"===e.kind?l.some(e.element):l.none)),fe.oA,(0,r.uj)(),(t=e,(0,i.ls)(ue.B(),(e=>(0,i.zG)(le.T(e.pipe(a.h((e=>r.E9.l1Distance(r.E9.fromCartesian(e.translate),r.E9.fromCartesian(e.lastTranslate))>=3)),c.b((e=>t.onDrag(e.translate)))),e.pipe(a.h((e=>e.dragEnd)),c.b((()=>t.onDragEnd())))),de.l())))),de.l());var t}(e)),n.pipe(function(e){return(0,i.ls)(E.U((e=>"mount"===e.kind?l.some(e.element):l.none)),fe.oA,he.w((e=>me.YC(e).pipe(ge.O(null),E.U((()=>e.getBoundingClientRect()))))),c.b((t=>e.onResize(t))),de.l())}(e)),n.pipe((0,i.ls)(E.U((e=>"mount"===e.kind?l.some(e.element):l.none)),fe.oA,E.U(l.some),be.P.FocusTrap.dynamicFocusTrap(be.P.FocusTrap.InitialFocus.none,ye,we),de.l())),pe.aj([e.state,t.state]).pipe(E.U((([e,{contentOverflowUnderToolbar:t,activeView:n}])=>Object.assign(Object.assign({},e),{contentOverflowUnderToolbar:t&&"voiceProfile"!==n&&"feedbackForm"!==n})))))))}function ye(e){var t;if(e instanceof HTMLIFrameElement){const n=null===(t=e.contentWindow)||void 0===t?void 0:t.document;if(n){const e=n.body.querySelector("textarea:not([disabled]), input:not([disabled])");e&&"focus"in e&&"function"==typeof e.focus&&e.focus()}}else e.focus()}function we(e,t){return e instanceof HTMLIFrameElement?e.contentDocument?u.R(e.contentDocument.body,t):ve.C:u.R(e,t)}const _e=G.UI.Grid.make((({slots:e,state:t,notify:n})=>j.createElement(se.f.Context.Provider,{value:se.f.emptyWithName("cheetahAssistant")},j.createElement(z.F.Fragment,null,t.pipe(E.U((t=>j.createElement(z.F.div,{key:"ideation-assistant-container",className:re.fixedContainer,mount:(0,i.ls)(l.fromNullable,T.bw((e=>{n({kind:"mount",element:e})})))},j.createElement(z.F.header,Object.assign({},(0,V.Sh)(re.toolbar,t.contentOverflowUnderToolbar?re.toolbarOverflow:null)),e.toolbar,j.createElement(oe.zx.Tertiary,{onClick:n({kind:P.ix.Kind.close}),compact:!0,name:"toolbarClose","aria-label":"Close Assistant"},j.createElement(ae.JO.Close,null))),j.createElement(z.F.main,{className:re.content},e.content)))))))));var Ce=n(95195),Se=n(13578);const ke="brick",Ee={$nest:{[`&.${ke}.${ke}.${ke}.${ke}`]:{padding:`0 ${K.ux.rem(Y.x)} 0 ${K.ux.rem(Y.F2)}`}}},Oe={display:"flex",alignItems:"center",gap:K.ux.rem(Y.x)},Ie={$nest:{[`&.${ke}.${ke}.${ke}.${ke}`]:{minHeight:K.ux.rem(1.75),fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),color:W.BlueGray80}}},Ae={$nest:{[`&.${ke}.${ke}.${ke}.${ke}`]:{minHeight:K.ux.rem(2),fontSize:K.ux.rem(.875),lineHeight:K.ux.rem(1.375),color:Se.XY.Content.Primary.Default}}},Te={$nest:{[`&.${ke}.${ke}.${ke}.${ke}`]:{boxShadow:`inset 0 0 0 ${K.ux.rem(.125)} ${r.BO.BrandGreen60}`}}},Re={textAlign:"left",whiteSpace:"initial",lineHeight:K.ux.rem(1.125),margin:`${K.ux.rem(.25)} 0 ${K.ux.rem(.25)} 0`},Pe=Object.assign({},r.Es.iconSizeRems(1.5)),Ne={brick:K.ux.joinClasses([ke,K.ux.style(Ee)]),content:K.ux.style(Oe),compact:K.ux.style(Ie),standard:K.ux.style(Ae),goAction:K.ux.style(Te),label:K.ux.style(Re),ideasIcon:K.ux.style(Pe),goIcon:K.ux.style(Pe)},De=(0,V.xb)(oe.zx.Secondary),Be=G.UI.Node.make((({view:e,notify:t})=>j.createElement(De,Object.assign({onClick:e("action").pipe(E.U((e=>t({kind:P.ix.Kind.clickActionBrick,action:e})))),name:"actionBrick"},(0,V.Sh)(Ne.brick,e("action").pipe(E.U((({kind:e})=>"go"===e?Ne.goAction:null))),e("mode").pipe(E.U((e=>"compact"===e?Ne.compact:"standard"===e?Ne.standard:(0,R.L0)(e)))))),j.createElement(z.F.div,{className:Ne.content},e("icon").pipe(E.U(Ce.g_((({kind:e})=>{switch(e){case"allResults":return j.createElement(oe.k8,{className:Ne.ideasIcon});case"go":return j.createElement(oe.CT,{className:Ne.goIcon});default:(0,R.L0)(e)}}),(({url:e})=>j.createElement("img",{src:e,style:{width:20,height:20}}))))),j.createElement(z.F.span,{dangerouslySetInnerHTML:e("label").pipe(E.U((e=>({__html:e})))),className:Ne.label})))));function Ue(e,t,n){return G.Z.fromSideEffect((t=>e.notify(t)),pe.aj([t,e.state.view("textBox")]).pipe(E.U((([e,t])=>({icon:"backendAction"===e.kind?Ce.F2({url:e.action.iconUrl}):Ce.t$({kind:e.kind}),label:"backendAction"===e.kind?e.action.label:"allResults"===e.kind?"More":"go"===e.kind?`”${t.trim()}”`:(0,R.L0)(e),action:e,mode:n})))))}const Fe=G.UI.List.make(y.Bk,Be);var Me=n(76974);function Le(e,t,n){return G.Z.composeList(y.Bk,(()=>t.pipe(E.U(l.getOrElse((()=>[]))))),(t=>Ue(e,Me.of(t),n)))}var Ge=n(17889);function je(e){return e.state.view("session").view(P.z_.toStarted).view((0,i.ls)(l.map((e=>e.context.dynamicActions)),l.chain((0,i.ls)(y.hX(m.isSupportedDynamicAction),Ge.c2))))}function ze(e=3,t=(t=>t.length>e)){return n=>t(n)?Ge.Ss(y.ke(e)(n),{kind:"allResults"}):n}const Ve={background:"white",display:"flex",flexDirection:"column",gap:K.ux.rem(Y.x)},$e={color:Se.XY.Content.Secondary.Default,fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ze={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:K.ux.rem(Y.x)},He=K.ux.prefixedStylesheet("action_group",{container:[Ve],header:[$e],content:[Ze]}),Ke=({className:e,children:t,header:n})=>j.createElement("div",Object.assign({},(0,V.Sh)(He.container,e)),n?j.createElement("div",{className:He.header},n):null,j.createElement("div",{className:He.content},t)),We={background:"transparent",padding:`${K.ux.rem(Y.x)} 0`},qe=K.ux.prefixedStylesheet("action_groups",{group:[We]}),Ye=G.UI.Grid.make((({slots:e,view:t})=>j.createElement(Ke,{header:j.createElement(z.F.Fragment,null,t("group")),className:qe.group},e.actions))),Xe=G.UI.Knot.make(Ye,{actions:Fe}),Qe=G.UI.List.make(y.Bk,Xe);function Je(e,t){return G.Z.composeList(y.Bk,(()=>t),(t=>function(e,t){return G.Z.composeKnot({root:()=>Me.of({group:t.group}),actions:Le(e,Me.of(l.some(t.actions)),"standard")})}(e,t)))}const et={display:"flex",flexDirection:"column",gap:K.ux.rem(Y.x)},tt={position:"relative",backgroundColor:W.White,padding:`${K.ux.rem(Y.F2)} ${K.ux.rem(Y.qp)}`,border:`0.5px solid ${W.BlueGray10}`,borderRadius:K.ux.rem(q.xB+q.fe)},nt={position:"absolute",top:K.ux.rem(Y.qp),right:K.ux.rem(Y.qp)},it=K.ux.stylesheet({wrapper:[et],actionsContainer:[tt],reportMenu:[nt]}),rt={display:"flex",flexDirection:"column",padding:K.ux.rem(Y.qp),border:`0.5px solid ${W.BlueGray10}`,borderRadius:K.ux.rem(q.xB+q.fe),gap:K.ux.rem(Y.yC)},ot={color:Se.XY.Content.Secondary.Default,fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125)},st={color:Se.XY.Content.Primary.Default,fontStyle:"normal",fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),fontFeatureSettings:"'ss01' on",$nest:{"& person":{color:W.Blue60,fontWeight:700,$nest:{"&::before":{content:"''",display:"inline-block",width:K.ux.rem(1),height:K.ux.rem(1),backgroundSize:"cover",verticalAlign:"text-bottom",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,${encodeURIComponent(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${W.Blue60}"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${W.Blue60}"/></svg>`)}')`}}}}},at={container:K.ux.style(rt),header:K.ux.style(ot),text:K.ux.style(st)},ct=G.UI.Node.make((({view:e})=>j.createElement("div",{className:at.container},j.createElement(z.F.div,{className:at.header},e("header")),j.createElement(z.F.div,{className:at.text,dangerouslySetInnerHTML:e("text").pipe(E.U((e=>({__html:e}))))})))),ut=G.UI.Union.asOption(ct),lt="setVoiceBtn",dt={padding:K.ux.rem(Y.qp),border:`0.5px solid ${W.BlueGray10}`,borderRadius:K.ux.rem(q.xB+q.fe),backgroundColor:"#D8F2EC",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"},pt={fontWeight:700,fontSize:K.ux.rem(.875),lineHeight:K.ux.rem(1.375),color:Se.XY.Content.Primary.Default},ft={fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),color:Se.XY.Content.Secondary.Default},ht={$nest:{[`&.${lt}.${lt}.${lt}.${lt}`]:{marginTop:K.ux.rem(Y.x),padding:`0 ${K.ux.rem(Y.x)} 0 ${K.ux.rem(Y.F2)}`,lineHeight:K.ux.rem(1.125),gap:K.ux.rem(Y.F2),$nest:{"& > i":Object.assign({marginLeft:0},r.Es.iconSizeRems(1.5))}}}},mt={container:K.ux.style(dt),header:K.ux.style(pt),description:K.ux.style(ft),setVoiceBtn:K.ux.joinClasses([lt,K.ux.style(ht)]),voiceIcon:K.ux.style({stroke:"white"})},gt=G.UI.Node.make((({notify:e})=>j.createElement("div",{className:mt.container},j.createElement("div",{className:mt.header},"Set your voice"),j.createElement("div",{className:mt.description},"Choose how you want your generated text to sound."),j.createElement(oe.zx.Primary,{className:mt.setVoiceBtn,onClick:e({kind:P.ix.Kind.openVoiceProfile,source:"banner"}),name:"bannerVoiceProfile"},j.createElement(oe.uA,{className:mt.voiceIcon}),"Set voice")))),vt=G.UI.Union.asOption(gt);function bt(e){return G.Z.fromSideEffect((t=>e.notify(t)),null)}var xt=n(80544),yt=n(79692),wt=n(42210),_t=n(64757),Ct=n(45212),St=n(55219);const kt={width:K.ux.rem(13.375),marginTop:0,marginBottom:0},Et={display:"flex",alignItems:"center",gap:K.ux.rem(Y.x),padding:`${K.ux.rem(Y.x)} ${K.ux.rem(Y.qp)}`,fontSize:K.ux.rem(.875),lineHeight:1.5},Ot=Object.assign({},r.Es.iconSizeRems(1.5)),It=Object.assign({},r.Es.iconSizeRems(1.5)),At={menu:K.ux.style(kt),menuButton:K.ux.style(Et),menuIcon:K.ux.style(Ot),reportIconSmall:K.ux.style(It)},Tt=({className:e,reportMenuButtonClassName:t,onClickReportOffensive:n,onClickProvideFeedback:i,onVisibilityChange:o})=>j.createElement("div",{className:e},j.createElement(wt.L,{name:"reportMenu",label:j.createElement(Ct.z.Tertiary,Object.assign({},(0,V.Sh)(At.menuButton,t),{compact:!0,name:"reportMenuToggle",title:"Provide feedback"}),j.createElement(St.Gv,{className:At.reportIconSmall})),align:"right",vAlign:"top",showDelay:0,closeDelay:200,appearanceBehavior:"mouseClick",onVisibilityChange:o,theme:{dropdownList:At.menu}},j.createElement(_t.zx.Flat,{name:"provideFeedback",onClick:(0,r.m)(i),className:At.menuButton},j.createElement(St.Ak,{className:At.menuIcon}),j.createElement("span",null,"Share your thoughts")),j.createElement(_t.zx.Flat,{name:"reportOffensive",onClick:(0,r.m)(n),className:At.menuButton},j.createElement(St.cW,{className:At.menuIcon}),j.createElement("span",null,"Report as offensive")))),Rt=G.UI.Knot.make(G.UI.Grid.make((({slots:e,notify:t,view:n})=>{const{ref:i,onMount:r}=be.P.useElWatcher(),o=j.useMemo((()=>i.pipe(xt.QV(yt.E),c.b((e=>t({kind:P.ix.Kind.mount,name:P.ec.initialActionsList,element:e})())))),[i]);return be.P.useSubscriptionTo(o),j.createElement("div",{className:it.actionsContainer,ref:r},j.createElement(z.F.Fragment,null,n("isQuickReply").pipe(E.U((e=>e?j.createElement(Tt,{className:it.reportMenu,onClickProvideFeedback:t({kind:P.ix.Kind.openFeedbackForm,source:P.x2.Source.quickReplyInitialActions}),onClickReportOffensive:t({kind:P.ix.Kind.reportOffensiveActions})}):null))),e.actions))})),{actions:Qe}),Pt=G.UI.Union.asOption(Rt),Nt=G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:it.wrapper},e.voiceBanner,e.intent,e.initialActions))),Dt=G.UI.Knot.make(Nt,{voiceBanner:vt,intent:ut,initialActions:Pt}),Bt=G.UI.Union.asOption(Dt);var Ut=n(45626);function Ft(e){const t=e.state.view("session").view((0,i.ls)(Ut.z.toStarted,l.filter((e=>Ut.z.Mode.isQuickReply(e.mode))),l.map(d.ei("context")),l.chain((e=>e.intent))));return G.Z.composeOption(function(e){return()=>e.pipe(fe.oA)}(t),(()=>t))}function Mt(e){const t=e.state.view("session").view((0,i.ls)(Ut.z.toStarted,l.chain((e=>e.selectedText)))),n=e.state.view("session").view((0,i.ls)(Ut.z.toStarted,l.fold(i.jv,(e=>e.voiceProfile.needsSetup)))),r=e.state.view("session").view((0,i.ls)(Ut.z.toStarted,l.fold(i.jv,(e=>Ut.z.Mode.isQuickReply(e.mode))))),o=p.h.combine(je(e),t,r,((e,t,n)=>(0,i.zG)(e,l.map(Ge.UI(m.BackendAction.make)),l.map((e=>Ge.of({group:n?"Ways to reply":l.isSome(t)?`Your text: "${t.value}"`:"Ideas for you",actions:n?e:ze()(e)}))))));return G.Z.composeOption(function(e,t,n,i){return G.Z.composeKnot({initialActions:Lt(e,t,i),voiceBanner:G.Z.composeOption(bt(e),(()=>n.view((e=>e?l.some(null):l.none)))),intent:Ft(e)})}(e,o,n,r),(()=>p.h.combine(o,n,((e,t)=>l.isSome(e)||t?l.some(null):l.none))))}function Lt(e,t,n){return G.Z.composeOption(G.Z.composeKnot({root:G.Z.fromSideEffect((t=>e.notify(t)),n.view((e=>({isQuickReply:e})))),actions:Je(e,t.pipe(fe.oA))}),(()=>t))}const Gt={border:`0.5px solid ${W.BlueGray10}`,borderRadius:K.ux.rem(q.xB+q.fe),padding:K.ux.rem(Y.qp),background:"white",display:"flex",alignItems:"center",flexDirection:"row",gap:K.ux.rem(Y.x),color:Se.XY.Content.Secondary.Default,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125)},jt=K.ux.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),zt=Object.assign({animation:`${jt} 1s linear infinite`},r.Es.iconSizeRems(1)),Vt=K.ux.prefixedStylesheet("loading",{container:[Gt],icon:[zt]}),$t=G.UI.Node.make((({view:e})=>j.createElement(z.F.div,{className:Vt.container},j.createElement(oe.Ho,{className:Vt.icon}),e("loadingMessage"))));function Zt(e){return()=>e.state.view("session").view(P.z_.toStarted).view((0,i.ls)(l.map((e=>e.context)),l.filter(P._y.isPending),l.fold((()=>({loadingMessage:"Working on it..."})),(e=>({loadingMessage:e.loadingMessage})))))}const Ht="primaryBtn",Kt="rephraseBtn",Wt="dismissBtn",qt="reportBtn",Yt="editHeaderBtn",Xt="headerBtn",Qt=Object.assign({},r.Es.iconSizeRems(1.5)),Jt={dismissButton:Wt,reportButton:qt,insertButton:Ht,rephraseButton:Kt,editHeaderButton:Yt,ignoreIcon:K.ux.style(Qt)},en={background:"white",$nest:{[`& .${Wt}, & .${qt}`]:{visibility:"visible"},[`& .${Ht}.${Ht}.${Ht}.${Ht}`]:{color:"white",backgroundColor:r.BO.BrandGreen60,border:"1px solid transparent"}}},tn={display:"flex",flexDirection:"column",padding:K.ux.rem(Y.qp),gap:K.ux.rem(Y.x),background:"transparent",border:`0.5px solid ${W.BlueGray10}`,borderRadius:K.ux.rem(q.xB+q.fe),$nest:{"&:not(:last-of-type)":{borderBottom:`0.5px solid ${W.BlueGray10}`},[`& .${Ht}.${Ht}.${Ht}.${Ht}`]:{lineHeight:K.ux.rem(1.125),backgroundColor:"white",color:Se.XY.Content.Secondary.Default,border:`1px solid ${W.BlueGray5}`,boxSizing:"border-box"},[`& .${Kt}.${Kt}.${Kt}.${Kt}`]:{lineHeight:K.ux.rem(1.5)},[`& .${Wt}, & .${qt}`]:{visibility:"hidden",justifyContent:"center"},"&:focus, &:hover":Object.assign({},en),"&[data-active='true']":Object.assign({},en)}},nn={gap:K.ux.rem(Y.x),display:"flex",alignItems:"center",justifyContent:"space-between"},rn={display:"flex",alignItems:"center",gap:K.ux.rem(Y.x)},on=rn,sn={whiteSpace:"break-spaces",overflowWrap:"anywhere",fontStyle:"normal",fontWeight:"normal",fontSize:K.ux.rem(.875),fontFeatureSettings:"'ss03' on",lineHeight:K.ux.rem(1.3125),color:Se.XY.Content.Primary.Default},an={backgroundColor:W.Blue0,borderRadius:K.ux.rem(q.fe)},cn={container:K.ux.style(tn),footer:K.ux.style(nn),footerLeft:K.ux.style(rn),footerRight:K.ux.style(on),result:K.ux.style(sn),insertPart:K.ux.style(an)},un={$nest:{[`&.${Xt}.${Xt}.${Xt}.${Xt}.${Xt}`]:{height:K.ux.rem(1.5),lineHeight:K.ux.rem(1.125),padding:`0 ${K.ux.rem(Y.F2)}`,margin:`0 ${K.ux.rem(-Y.F2)}`,$nest:{[`& .${Yt}`]:{visibility:"hidden"},"&:focus, &:hover":{background:W.BlueGray0,[`& .${Yt}`]:{visibility:"visible",color:Se.XY.Content.Primary.Default}}}}}},ln={display:"flex",alignItems:"center",gap:K.ux.rem(Y.x+Y.yC),height:K.ux.rem(1.5),fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),color:W.BlueGray60},dn={display:"flex",justifyContent:"space-between",width:"100%",gap:K.ux.rem(Y.F2)},pn=K.ux.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),fn={marginBottom:`-${K.ux.rem(Y.yC)}`,display:"inline-flex",alignItems:"center",justifyContent:"center",animation:`${pn} 1s linear infinite`,width:K.ux.rem(1),height:K.ux.rem(1),minWidth:K.ux.rem(1),minHeight:K.ux.rem(1)},hn={header:K.ux.style(ln),headerButton:K.ux.joinClasses([Xt,K.ux.style(un)]),headerWrapper:K.ux.style(dn),loadingIcon:K.ux.style(fn),label:K.ux.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left"})},mn=({isActive:e,id:t,children:n,onHovered:i,onFocused:r})=>j.createElement("div",{className:cn.container,"data-active":e,"data-id":t,onMouseEnter:()=>null==i?void 0:i(!0),onMouseLeave:()=>null==i?void 0:i(!1),onFocus:()=>null==r?void 0:r(!0),onBlur:()=>null==r?void 0:r(!1)},n),gn=({diff:e})=>j.createElement("div",{className:cn.result},(0,r.Nv)(e.delta,e.selectedText).map(((e,t)=>{switch(e.kind){case"retain":return j.createElement(j.Fragment,{key:t},e.text);case"insert":return j.createElement("span",{key:t,className:cn.insertPart},e.text);default:(0,R.L0)(e.kind)}}))),vn=({responseText:e,responseDiff:t,header:n,footer:r,isActive:o,resultId:s,onHovered:a,onFocused:c})=>j.createElement(mn,{id:s,isActive:o,onHovered:a,onFocused:c},n,(0,i.zG)(t,l.fold((()=>""!==e.trim()?j.createElement("div",{className:cn.result},e):null),(e=>j.createElement(gn,{diff:e})))),r),bn=({onInsert:e,onRephrase:t,onDismiss:n,onProvideFeedback:i,onReportOffensive:r,onReportMenuVisibilityChange:o,disabled:s})=>j.createElement("div",{className:cn.footer},j.createElement("div",{className:cn.footerLeft},j.createElement(oe.zx.Primary,{className:Jt.insertButton,name:"insertResult",onClick:e},"Insert"),j.createElement(oe.zx.Tertiary,{className:Jt.rephraseButton,name:"rephraseResult",onClick:t,disabled:s},"Rephrase")),j.createElement("div",{className:cn.footerRight},j.createElement(oe.zx.Tertiary,{onClick:n,className:Jt.dismissButton,compact:!0,name:"dismissResult",title:"Delete"},j.createElement(oe.L3,{className:Jt.ignoreIcon})),j.createElement(Tt,{reportMenuButtonClassName:Jt.reportButton,onClickProvideFeedback:i,onClickReportOffensive:r,onVisibilityChange:o}))),xn=({header:e,onClick:t,disabled:n})=>j.createElement(oe.zx.Tertiary,{compact:!0,disabled:n,onClick:t,className:hn.headerButton,name:"editResultPrompt"},j.createElement("div",{className:hn.headerWrapper},j.createElement("div",{className:hn.label,dangerouslySetInnerHTML:{__html:e}}),j.createElement("div",{className:Jt.editHeaderButton},"Edit"))),yn=({iconUrl:e,loading:t,header:n})=>j.createElement("div",{className:hn.header},t?j.createElement(oe.Ho,{className:hn.loadingIcon}):(0,i.zG)(e,l.fold(i.gn,(e=>j.createElement("img",{src:e,style:{width:K.ux.rem(1.25),height:K.ux.rem(1.25)}})))),j.createElement("span",{className:hn.label,dangerouslySetInnerHTML:{__html:n}})),wn=G.UI.Node.make((({state:e})=>j.createElement(z.F.Fragment,null,e.pipe(E.U((({result:e})=>j.createElement(vn,{resultId:"in-progress",responseText:e.text,responseDiff:l.none,header:j.createElement(yn,{header:"Working on it...",iconUrl:l.none,loading:!0}),isActive:!0}))))))),_n=G.UI.Union.asOption(wn);function Cn(e){const t=e.state.view("session").view(P.z_.toStarted).view((0,i.ls)(l.chain(d.ei("inProgressResult")),l.map((e=>({result:e})))));return G.Z.composeOption((()=>t.pipe(fe.oA)),(()=>t))}const Sn=G.UI.Node.make((({state:e,notify:t})=>j.createElement(z.F.Fragment,null,e.pipe(E.U((({result:e,disabled:n,isActive:r})=>j.createElement(vn,{resultId:e.id,responseText:e.text,responseDiff:e.diff,header:(0,i.zG)(e.header.copiablePrompt,l.fold((()=>j.createElement(yn,{header:e.header.label,iconUrl:e.header.iconUrl,loading:!1})),(i=>j.createElement(xn,{header:e.header.label,disabled:n,onClick:t({kind:P.ix.Kind.clickResultHeader,prompt:i})})))),footer:j.createElement(bn,{onRephrase:t({kind:P.ix.Kind.rephrase,result:e}),onInsert:t({kind:P.ix.Kind.insert,result:e}),onDismiss:t({kind:P.ix.Kind.dismissResult,result:e}),onProvideFeedback:t({kind:P.ix.Kind.openFeedbackForm,source:P.x2.Source.resultCard}),onReportOffensive:t({kind:P.ix.Kind.reportOffensiveResult,result:e}),onReportMenuVisibilityChange:n=>t({kind:P.ix.Kind.cardReportMenuVisibilityChange,visible:n,resultId:e.id})(),disabled:n}),isActive:r,onHovered:n=>t({kind:P.ix.Kind.cardHover,hovered:n,resultId:e.id})(),onFocused:n=>t({kind:P.ix.Kind.cardFocus,focused:n,resultId:e.id})()})))))));function kn(e,t,n){return G.Z.fromSideEffect((t=>e.notify(t)),pe.aj([e.state.view("availability").view(P.a8.isUnavailable),p.h.combine(e.state.view("activeCards"),e.state.view("session").view(P.z_.toStarted),((e,r)=>(0,i.zG)(!!e.has(t.id)||0===e.size&&n&&!function(e){return(0,i.zG)(e,l.fold(i.jv,(e=>l.isSome(e.inProgressResult)||l.isSome(e.error))))}(r))))]).pipe(E.U((([e,n])=>({disabled:e,isActive:n,result:t})))))}const En=G.UI.List.make(y.Bk,Sn);const On={display:"flex",flexDirection:"column",gap:K.ux.rem(Y.x)},In={display:"flex",flexDirection:"column",gap:K.ux.rem(Y.x)},An={display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",width:"100%",gap:K.ux.rem(Y.x),marginBottom:K.ux.rem(Y.x)},Tn=K.ux.prefixedStylesheet("results",{container:[On],history:[In],actions:[An]}),Rn={display:"flex",alignItems:"center",gap:K.ux.rem(Y.F2)},Pn={fontSize:K.ux.rem(.875),lineHeight:K.ux.rem(1.375),fontWeight:700,color:Se.XY.Content.Primary.Default},Nn={fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),color:Se.XY.Content.Secondary.Default,whiteSpace:"break-spaces",overflowWrap:"anywhere"},Dn=Object.assign({padding:K.ux.rem(Y.yC)},r.Es.iconSizeRems(1.125)),Bn={header:K.ux.style(Rn),title:K.ux.style(Pn),body:K.ux.style(Nn),gotItBtn:Ht,warningIcon:K.ux.style(Dn)},Un=G.UI.Node.make((({view:e,notify:t})=>j.createElement(mn,{id:"error",isActive:!1},j.createElement(z.F.div,{className:Bn.header},e("error").pipe(E.U((e=>j.createElement(j.Fragment,null,j.createElement(oe.T6,{className:Bn.warningIcon}),j.createElement("span",{className:Bn.title},e.header)))))),j.createElement(z.F.div,{className:Bn.body},e("error").pipe(E.U((e=>e.text)))),j.createElement(z.F.div,null,e("showGotItButton").pipe(E.U((e=>e?j.createElement(oe.zx.Primary,{className:Bn.gotItBtn,name:"gotItButton",onClick:t({kind:P.ix.Kind.dismissError})},"OK"):null))))))),Fn=G.UI.Union.asOption(Un);function Mn(e){const t=e.state.view("session").pipe(E.U((e=>e.error)));return G.Z.composeOption(function(e,t){const n=e.state.view("activeView").view((e=>"loadingError"!==e));return G.Z.fromSideEffect((t=>e.notify(t)),t.pipe(k.M(n),E.U((([e,t])=>({error:e,showGotItButton:t})))))}(e,t.pipe(fe.oA)),(()=>t))}var Ln=n(60135);const Gn=G.UI.Grid.make((({slots:e,view:t})=>{const{ref:n,onMount:i}=be.P.useElWatcher(),r=j.useMemo((()=>pe.aj([n.pipe(fe.oA),t("scrollToken").pipe(M.x())]).pipe(E.U(Ln.li),c.b((e=>e.scrollIntoView({behavior:"auto",block:"end"}))))),[n]);return be.P.useSubscriptionTo(r),j.createElement("div",{className:Tn.container,ref:i},e.intent,e.history,e.belowHistory)})),jn=G.UI.Knot.make(G.UI.Grid.make((({slots:e,notify:t})=>{const{ref:n,onMount:i}=be.P.useElWatcher(),r=j.useMemo((()=>n.pipe(xt.QV(yt.E),c.b((e=>t({kind:P.ix.Kind.mount,name:P.ec.followUpActionsList,element:e})())))),[n]);return be.P.useSubscriptionTo(r),j.createElement("div",{className:Tn.actions,ref:i},e.actions)})),{actions:Fe}),zn=G.UI.Union.asOption(jn),Vn=G.UI.Union.asOption(G.UI.Composite.make(G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:Tn.history},e.history))),En)),$n=G.UI.Union.make("kind",{inProgressResult:_n,error:Fn,followUpActions:zn}),Zn=G.UI.Union.asOption($n),Hn=G.UI.Knot.make(Gn,{intent:ut,history:Vn,belowHistory:Zn});function Kn(e,t){return G.Z.composeOption(function(e,t){return G.Z.composeList(y.Bk,(()=>t.pipe(E.U((0,i.ls)(y.ke(50),y.Su(((e,t)=>({result:t,isLast:0===e}))),y.GY)))),(({result:t,isLast:n})=>kn(e,t,n)))}(e,t.view(l.getOrElse((()=>[])))),(()=>t))}function Wn(e){const t=e.state.view("session").view(P.z_.toStarted).pipe(E.U(l.map((e=>l.isSome(e.error)?"error":l.isSome(e.inProgressResult)?"inProgressResult":"followUpActions"))));return G.Z.composeOption(function(e,t){return G.Z.composeUnion({inProgressResult:Cn(e),followUpActions:(0,i.zG)(je(e).view((t=>(0,i.zG)(t,l.filter((()=>!P.a8.isUnavailable(e.state.get().availability))),l.map((0,i.ls)(Ge.UI(m.BackendAction.make),ze()))))),(t=>G.Z.composeOption(G.Z.composeKnot({root:G.Z.fromSideEffect((t=>e.notify(t)),null),actions:Le(e,t,"compact")}),(()=>t)))),error:Mn(e)},(()=>t.pipe(fe.oA,E.U((e=>({kind:e}))))))}(e,t),(()=>t))}function qn(e){const t=e.state.view("session").view((0,i.ls)(P.z_.toStarted,l.map((e=>e.resultHistory)),l.chain(Ge.c2)));return G.Z.composeKnot({root:()=>e.state.view("session").view((0,i.ls)(P.z_.toStarted,l.chain((e=>e.inProgressResult)),l.map((e=>e.text)))).pipe(fe.oA,ge.O(""),E.U((e=>({scrollToken:e})))),intent:Ft(e),history:Kn(e,t),belowHistory:Wn(e)})}const Yn=Y.x,Xn=Y.x,Qn={display:"flex",flexDirection:"column",gap:K.ux.rem(Xn)},Jn=K.ux.prefixedStylesheet("chat",{container:[Qn]}),ei=G.UI.Union.make("kind",{loading:$t,loadingError:Fn,initialError:Fn,initialActions:Bt,results:Hn}),ti=10,ni=34.75,ii=G.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{rect:r,onMount:o}=be.P.useRectWatcher(),s=j.useMemo((()=>r.pipe(fe.oA,c.b((e=>n({kind:"contentSizeChange",height:e.height})())))),[r]);return be.P.useSubscriptionTo(s),j.createElement(z.F.div,{mount:o,onScroll:e=>n({kind:"contentScroll",scrollTop:e.currentTarget.scrollTop})(),className:K.ux.style({overflow:"auto"}),style:{maxHeight:t.pipe(E.U((({assistantMaxHeight:e,promptHeight:t})=>(0,i.zG)(v.Y(l.option)({assistantMaxHeight:e,promptHeight:t}),l.fold((()=>K.ux.rem(ni)),(({assistantMaxHeight:e,promptHeight:t})=>(0,i.zG)(function(e,t,n=.25){const i=`calc(${K.ux.rem(Yn+Xn+2.5)} + ${K.ux.px(t)})`;return`calc(${e}px - ${i} - ${K.ux.rem(n)})`}(e,t),(e=>`max(min(${e}, ${K.ux.rem(ni)}), ${K.ux.rem(ti)})`))))))),ge.O(K.ux.rem(ni)))}},e.content)})),ri=G.UI.Knot.make(ii,{content:ei}),oi=G.UI.Union.asOption(ri);var si=n(61792);function ai(e,t){return G.Z.composeUnion({loading:Zt(e),loadingError:Mn(e),initialError:Mn(e),initialActions:Mt(e),results:qn(e)},(()=>t.pipe(fe.oA,E.U((e=>({kind:e}))))))}function ci(e,t,n,i){const r=e.state.pipe(E.U((({activeView:e,availability:t,session:n})=>{switch(e){case"loading":return l.some("loading");case"loadingError":return l.some("loadingError");case"beforeResults":return l.isSome(n.error)?l.some("initialError"):si.a.isUnavailable(t)?l.none:l.some("initialActions");case"actionSelected":case"voiceProfile":case"feedbackForm":return l.none;case"afterResults":return l.some("results");default:(0,R.L0)(e)}})));return G.Z.composeOption(function(e,t,n,i,r){return G.Z.composeKnot({root:G.Z.fromSideEffect((t=>{switch(t.kind){case"contentScroll":return e.contentOverflowUnderToolbar(t.scrollTop>0);case"contentSizeChange":return n.set(l.some(t.height+8));default:(0,R.L0)(t)}}),p.h.combine(i,r,((e,t)=>({assistantMaxHeight:e,promptHeight:t})))),content:ai(e,t)})}(e,r,t,n,i),(()=>r))}const ui="goBtn",li={display:"flex",alignItems:"flex-start",padding:`${K.ux.rem(Y.x)} ${K.ux.rem(Y.qp)}`,gap:K.ux.rem(Y.F2),justifyContent:"space-between"},di={flexGrow:1,$nest:{"&[data-hashints='false']":{paddingTop:K.ux.rem(Y.F2+Y.W9)}}},pi={width:K.ux.percent(100),border:"none"},fi={$nest:{[`&.${ui}.${ui}.${ui}.${ui}`]:{alignSelf:"flex-end",$nest:{"&[data-disabled='true']":{opacity:1,$nest:{"& svg":{fill:W.BlueGray30}}}}}}},hi={container:K.ux.style(li),textBoxContainer:K.ux.style(di),textBoxIframe:K.ux.style(pi),goBtn:K.ux.joinClasses([ui,K.ux.style(fi)])},mi=G.UI.Node.make((({state:e,view:t,notify:n})=>j.createElement(z.F.div,{className:hi.container},j.createElement(z.F.div,{className:hi.textBoxContainer,"data-hashints":t("hasHints")},e.pipe(E.U((({placeholder:e,kind:t,text:i,autofocusToken:r,availability:o})=>j.createElement(oe.b,{text:i,className:hi.textBoxIframe,placeholder:"ready"===t?l.toUndefined(e):void 0,fitContentHeight:!0,autofocus:r,onChange:e=>n({kind:P.ix.Kind.promptFieldChange,text:e})(),onKeyPressEnter:"ready"===t?n({kind:P.ix.Kind.promptSend,text:i}):()=>null,onKeyUpEscape:()=>{n({kind:P.ix.Kind.escapePressed})(),"waitingForResult"===t&&n({kind:P.ix.Kind.generateStop})()},onFocus:n({kind:P.ix.Kind.promptFieldFocusChange,focused:!0}),onBlur:n({kind:P.ix.Kind.promptFieldFocusChange,focused:!1}),disabled:P.a8.isUnavailable(o)}))))),e.pipe(E.U((({kind:e,text:t,availability:i})=>"waitingForResult"===e?j.createElement(oe.zx.Tertiary,{onClick:n({kind:P.ix.Kind.generateStop}),name:"generateStop",compact:!0},j.createElement(oe.wN,null)):"ready"===e?j.createElement(oe.zx.Tertiary,{className:hi.goBtn,onClick:n({kind:P.ix.Kind.promptSend,text:t}),disabled:""===t.trim()||P.a8.isUnavailable(i),name:"promptSend",compact:!0},j.createElement(oe.kc,null)):null))))));function gi(e){return G.Z.fromSideEffect((t=>e.notify(t)),e.state.view((e=>{return{kind:(0,i.zG)(P.z_.toStarted(e.session),l.fold((()=>"loading"),(e=>(0,i.zG)(e.inProgressResult,l.fold((()=>"ready"),(()=>"waitingForResult")))))),availability:e.availability,placeholder:(t=e,(0,i.zG)(t.selectedDynamicAction,l.map((e=>(""!==e.args[0].label.trim()?[e.args[0].label]:[]).concat((0,i.zG)(e.args[0].hints,l.fold((()=>[]),(e=>(""!==e.header.trim()?[e.header]:[]).concat(...e.items.filter((e=>""!==e.trim())).map((e=>`• ${e}`))))))))),l.alt((()=>(0,i.zG)(t.userPromptAction,l.map((e=>[e.arg.label]))))))),hasHints:(0,i.zG)(e.selectedDynamicAction,l.fold(i.jv,(e=>l.isSome(e.args[0].hints)))),text:e.textBox,autofocusToken:oe.vw.create(`${e.activeView}_${(0,i.zG)(P.z_.toStarted(e.session),l.chain((e=>e.inProgressResult)),l.fold((()=>"done"),(()=>"inProgress")))}_${(0,i.zG)(e.selectedDynamicAction,l.fold((()=>"no-selected-action"),(()=>"selected-action")))}_${e.promptAutofocusToken}`)};var t})))}const vi={padding:"12px 12px 0 12px",color:Se.XY.Content.Secondary.Default,fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125)},bi={display:"flex",alignItems:"center",gap:K.ux.rem(Y.x)},xi=K.ux.prefixedStylesheet("header",{container:[vi],header:[bi]}),yi=G.UI.Node.make((({view:e})=>j.createElement("div",{className:xi.container},j.createElement("div",{className:xi.header},j.createElement(z.F.img,{src:e("iconUrl"),style:{width:16,height:16}}),j.createElement(z.F.span,{dangerouslySetInnerHTML:e("label").pipe(E.U((e=>({__html:e}))))}))))),wi=G.UI.Union.asOption(yi);function _i(e){return G.Z.composeOption(function(e){return()=>e.state.view("selectedDynamicAction").pipe(fe.oA,E.U((e=>({label:e.label,iconUrl:e.iconUrl}))))}(e),(()=>e.state.view("selectedDynamicAction")))}const Ci={padding:`${K.ux.rem(Y.F2)} ${K.ux.rem(Y.qp)}`},Si=K.ux.stylesheet({container:[Ci]}),ki=G.UI.Union.asOption(G.UI.Composite.make(G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:Si.container},e.content))),Qe));function Ei(e,t){const n=t.pipe(E.U(l.map((e=>Ge.QI({group:"Ideas for you",actions:Ge.QI(m.BackendAction.make(e[0]),(0,i.zG)(e.slice(1),y.ke(2),y.UI(m.BackendAction.make)))},function(e){return(0,i.zG)(e,y.pO((e=>{const{init:t,rest:n}=y.zT((t=>t.group.label===e[0].group.label))(e);return[t,n]})),y.UI((e=>v.Y(l.option)({group:(0,i.zG)(e,y.YM,l.map((e=>e.group.label))),actions:(0,i.zG)(e,y.UI(m.BackendAction.make),Ge.c2)}))),y.oA,Ge.c2,l.getOrElse((()=>[{group:e[0].group.label,actions:[m.BackendAction.make(e[0])]}])))}((0,i.zG)(e,Ge.DY(m.SupportedDynamicActions.ordByGroup))))))));return G.Z.composeOption(Je(e,n.pipe(fe.oA)),(()=>n))}const Oi={background:"transparent",padding:K.ux.rem(Y.qp),display:"flex",flexDirection:"column",alignItems:"flex-start",gap:K.ux.rem(Y.x)},Ii={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:K.ux.rem(Y.x)},Ai=K.ux.prefixedStylesheet("search_results",{container:[Oi],actions:[Ii]}),Ti=G.UI.List.make(y.Bk,Be),Ri=G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:Ai.container},e.customPromptGo,j.createElement("div",{className:Ai.actions},e.searchResults)))),Pi=G.UI.Knot.make(Ri,{searchResults:Ti,customPromptGo:Be});function Ni(e,t){return G.Z.composeKnot({searchResults:Le(e,t.pipe(E.U(l.map(Ge.UI(m.BackendAction.make)))),"standard"),customPromptGo:Ue(e,Me.of({kind:"go"}),"standard")})}const Di={overflowY:"scroll",borderBottom:`0.5px solid ${Se.XY.Boundaries.Secondary.Default}`},Bi={position:"absolute",top:K.ux.rem(Y.x),right:K.ux.rem(Y.x),zIndex:1,$nest:{"&:not(:hover)":{backgroundColor:K.ux.important(W.White)}}},Ui=Object.assign({},r.Es.iconSizeRems(1.5)),Fi=K.ux.prefixedStylesheet("menu",{container:[Di],collapseBtn:[Bi],arrowIcon:[Ui]}),Mi=G.UI.Union.make("kind",{searchResults:Pi,actionsStore:ki}),Li=G.UI.Knot.make(G.UI.Grid.make((({slots:e,view:t,notify:n})=>j.createElement(z.F.div,{className:Fi.container,style:{maxHeight:t("maxHeight")}},j.createElement(oe.zx.Tertiary,{compact:!0,className:Fi.collapseBtn,onClick:n({kind:P.ix.Kind.collapsePromptMenu}),name:"collapsePromptMenu"},j.createElement(ae.JO.Arrow,{direction:ae.n4.down,className:Fi.arrowIcon})),e.content))),{content:Mi}),Gi=G.UI.Union.asOption(Li);function ji(e,t){return G.Z.composeOption(G.Z.composeKnot({root:G.Z.fromSideEffect((t=>e.notify(t)),t.pipe(fe.oA)),content:G.Z.composeUnion({searchResults:Ni(e,t.pipe(E.U((0,i.ls)(l.filter((({kind:e})=>"searchResults"===e)),l.map(d.ei("actions")))))),actionsStore:Ei(e,t.pipe(E.U((0,i.ls)(l.filter((({kind:e})=>"actionsStore"===e)),l.map(d.ei("actions"))))))},(()=>t.pipe(fe.oA)))}),(()=>t))}var zi=n(19751);function Vi(e){return e.split(/\s+/).map((e=>e.trim())).filter((e=>""!==e))}function $i(e,t){const n=e.promptMenuActions.pipe(he.w((t=>"showSearchRestuls"===t.kind?e.state.view("session").view(P.z_.toStarted).pipe(E.U((e=>(0,i.zG)(e,l.filter((()=>""!==t.search.trim())),l.chain((e=>function(e,t){return(0,i.zG)(e,y.DZ((e=>(0,i.zG)(function(e,t,n){const r=Vi(e),o=[...Vi(t),...(0,i.zG)(n,y.tS((e=>Vi(e))))],s=r.map((()=>null));let a=0;for(const e of o){if(a>=r.length)break;e.toLowerCase().includes(r[a].toLowerCase())&&(s[a]=0,++a)}return s.includes(null)?l.none:l.some(s.map((e=>null!=e?e:0)).reduce(((e,t)=>e+t),0))}(t,e.searchLabel,e.searchTags),l.map((t=>({data:e,matchScore:t})))))),y.DY(A.contramap((({matchScore:e})=>e))(A.ordNumber)),y.UI((({data:e})=>e)),Ge.c2)}((0,i.zG)(e.context.dynamicActions,y.hX(m.isSupportedDynamicAction)),t.search))),l.map((e=>({kind:"searchResults",actions:e}))))))):"showActionsStore"===t.kind?je(e).view(l.map((e=>({kind:"actionsStore",actions:e})))):"close"===t.kind?Me.of(l.none):(0,R.L0)(t))),ge.O(l.none),zi.shareReplay({bufferSize:1,refCount:!0})),r=pe.aj([n,e.state.view("availability")]).pipe(E.U((([e,t])=>si.a.isUnavailable(t)?l.none:e)));return pe.aj([t,r]).pipe(E.U((([e,t])=>(0,i.zG)(v.Y(l.option)({maxHeight:e,content:t}),l.map((({content:e,maxHeight:t})=>Object.assign(Object.assign({},e),{maxHeight:t})))))))}const Zi=e=>K.ux.color(W.BlueGray40).toRGBA().fade(e).toString(),Hi={background:"white",boxShadow:`0px 0px 0px 0.5px ${W.BlueGray40}, 0px 0px 2px 0.5px ${Zi(.5)}, 0px 1px 6px 0.5px ${Zi(.25)}`,borderRadius:K.ux.rem(q.xB+q.fe),$nest:{"&[data-expanded='true']":{position:"absolute",bottom:0,width:"100%"}}},Ki=K.ux.prefixedStylesheet("prompt",{container:[{position:"relative"}],promptAndMenuContainer:[Hi],placeholder:[{opacity:0,pointerEvents:"none"}]}),Wi=G.UI.Grid.make((({slots:e,view:t,notify:n})=>{const{onMount:r,rect:o}=be.P.useRectWatcher(),s=j.useMemo((()=>o.pipe(c.b((e=>n({kind:"promptHeight",height:(0,i.zG)(e,l.map((e=>e.height)))})())))),[o]);return be.P.useSubscriptionTo(s),j.createElement(z.F.div,{className:Ki.container},j.createElement(z.F.div,{className:Ki.promptAndMenuContainer,"data-expanded":t("menuExpanded")},e.promptMenu,j.createElement("div",{ref:r},e.promptHeader,e.promptField)),pe.aj([o,t("menuExpanded")]).pipe(E.U((([e,t])=>(0,i.zG)(e,l.filter((()=>t)),l.fold(i.gn,(e=>j.createElement("div",{className:Ki.placeholder,style:{height:e.height}}))))))))})),qi=G.UI.Knot.make(Wi,{promptField:mi,promptHeader:wi,promptMenu:Gi}),Yi=G.UI.Union.asOption(qi);var Xi=n(598);function Qi(e,t,n){const i=e.state.view((({activeView:e})=>"loadingError"!==e?l.some(!0):l.none));return G.Z.composeOption(function(e,t,n){const i=$i(e,t);return G.Z.composeKnot({root:G.Z.fromSideEffect((e=>{if("promptHeight"===e.kind)return n.set(e.height);(0,R.L0)(e.kind)}),i.pipe(E.U((e=>({menuExpanded:l.isSome(e)}))))),promptField:gi(e),promptHeader:_i(e),promptMenu:ji(e,i)})}(e,i.pipe(fe.oA,Xi.c(t)),n),(()=>i))}const Ji=G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:Jn.container},e.content,e.prompt))),er=G.UI.Knot.make(Ji,{content:oi,prompt:Yi});function tr(e,t){const n=p.h.create(l.none),i=p.h.create(l.none);return G.Z.composeKnot({content:ci(e,n,t,i),prompt:Qi(e,n,i)})}const nr={display:"flex",alignItems:"center",justifyContent:"center",gap:K.ux.rem(Y.x),padding:`${K.ux.rem(Y.F2)} ${K.ux.rem(.625)} ${K.ux.rem(Y.F2)} ${K.ux.rem(Y.x)}`,background:Se.XY.Surface.Primary.Default,border:`${K.ux.px(1)} solid transparent`,borderRadius:K.ux.rem(1.875),fontSize:K.ux.rem(.875),lineHeight:K.ux.rem(1.375),boxSizing:"border-box",$nest:{"&[data-kind='unselected']":{border:`${K.ux.px(1)} solid ${W.BlueGray5}`,color:Se.XY.Content.Primary.Default,cursor:"pointer"},"&[data-kind='disabled']":{border:`${K.ux.px(1)} solid ${W.BlueGray5}`,color:W.BlueGray40,cursor:"default"},"&[data-kind='selected']":{border:`${K.ux.px(2)} solid ${r.BO.BrandGreen60}`,padding:`${K.ux.rem(.1875)} ${K.ux.rem(.5625)} ${K.ux.rem(.1875)} ${K.ux.rem(.4375)}`,position:"relative",$nest:{"&[data-unselectable='true']":{cursor:"pointer"}}}}},ir=Object.assign(Object.assign({position:"absolute",top:K.ux.rem(-(Y.F2+Y.W9)),right:K.ux.rem(-(Y.F2+Y.W9)),boxSizing:"content-box"},r.Es.iconSizeRems(.75)),{border:`${K.ux.rem(.125)} solid white`,borderRadius:"50%",background:r.BO.BrandGreen60,display:"flex",alignItems:"center",justifyContent:"center"}),rr=K.ux.prefixedStylesheet("selectable_chip",{chip:[nr],selectedIcon:[ir]});var or=n(65223);const sr=({kind:e,label:t,description:n,iconUrl:i,isUnselectable:o,onToggle:s})=>j.createElement(or.u,{title:n},j.createElement("button",{disabled:"disabled"===e,className:rr.chip,"data-kind":e,"data-unselectable":o,onClick:(0,r.m)((()=>{"disabled"!==e&&s("selected"!==e&&("unselected"===e||(0,R.L0)(e)))}))},i?j.createElement("img",{src:i,style:{width:20,height:20}}):null,j.createElement("span",null,t),o&&"selected"===e?j.createElement(oe.cv,{className:rr.selectedIcon}):null)),ar={display:"flex",flexWrap:"wrap",gap:K.ux.rem(Y.F2),$nest:{div:{marginTop:K.ux.rem(Y.F2)}}},cr=K.ux.prefixedStylesheet("chip_selector",{chips:[ar]}),ur=({chips:e,className:t,onToggle:n})=>j.createElement(z.F.div,Object.assign({},(0,V.Sh)(cr.chips,t)),e.pipe(E.U(y.UI((e=>j.createElement(sr,Object.assign({},e,{onToggle:t=>n(e,t),key:e.label}))))))),lr={margin:0,padding:K.ux.rem(Y.mh),background:"white",border:`0.5px solid ${W.BlueGray10}`,borderRadius:K.ux.rem(q.xB+q.fe),display:"flex",flexDirection:"column",gap:K.ux.rem(Y.mh)},dr={color:Se.XY.Content.Primary.Default,fontWeight:700,fontSize:K.ux.rem(.875),lineHeight:K.ux.rem(1.375),margin:"0"},pr={color:Se.XY.Content.Secondary.Default,fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125)},fr={marginTop:K.ux.rem(Y.x)},hr={color:W.BlueGray60,fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125)},mr={display:"flex",justifyContent:"flex-end",gap:K.ux.rem(Y.x)},gr={fontSize:K.ux.important(K.ux.rem(.875))},vr={marginTop:K.ux.rem(Y.x)},br={marginTop:K.ux.rem(Y.x)},xr={display:"flex",alignItems:"center",gap:K.ux.rem(Y.x)},yr={width:K.ux.rem(1.5),height:K.ux.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center"},wr=K.ux.prefixedStylesheet("voice_profile",{container:[lr],sectionTitle:[dr],chips:[fr],sectionDescription:[pr],description:[hr],footer:[mr],applyButton:[gr],skipButton:[gr],roleTypeAhead:[vr],dialectSelect:[br],dialectLabel:[xr],dialectIcon:[yr]});var _r=n(9295);const Cr=G.UI.Node.make((({view:e,state:t,notify:n})=>j.createElement("div",{className:wr.container},j.createElement("section",null,j.createElement("h2",{className:wr.sectionTitle},"Formality"),j.createElement(ur,{className:wr.chips,chips:e("styles").pipe(E.U(y.UI((e=>Object.assign(Object.assign({},e),{isUnselectable:!1}))))),onToggle:e=>n({kind:P.ix.Kind.selectStyle,id:e.id})()})),j.createElement("section",null,j.createElement("h2",{className:wr.sectionTitle},"Tone"),j.createElement(z.F.div,{className:wr.sectionDescription},"Select up to"," ",e("maxSelectableTones").pipe(E.U((e=>{return t=e,Number.isInteger(t)&&t>=0&&t<10?function(e){return["zero","one","two","three","four","five","six","seven","eight","nine"][e]}(e):`${e}`;var t})))),j.createElement(ur,{className:wr.chips,chips:e("tones").pipe(E.U(y.UI((e=>Object.assign(Object.assign({},e),{isUnselectable:!0}))))),onToggle:(e,t)=>n({kind:P.ix.Kind.toggleTone,selected:t,id:e.id})()})),j.createElement(z.F.Fragment,null,t.pipe(E.U((e=>(0,i.zG)(e.roles,Ge.c2,l.fold(i.gn,(t=>j.createElement("section",null,j.createElement("h2",{className:wr.sectionTitle},"Your profession"),j.createElement(oe.pY,{className:wr.roleTypeAhead,placeholder:"Product designer",text:e.roleTypeaheadText,onInputChange:e=>n({kind:"updateRoleTypeaheadText",text:e})(),onSelectionChange:e=>n({kind:P.ix.Kind.selectRole,role:l.fromNullable(e)})(),options:t,label:e=>e.label,clearButton:!0,selectOnBlur:!0}))))))))),j.createElement("section",null,j.createElement("h2",{className:wr.sectionTitle},"I write in"),j.createElement(z.F.Fragment,null,t.pipe(E.U((({dialects:e,selectedDialect:t})=>j.createElement(oe.Ph,{className:wr.dialectSelect,options:e.filter((e=>!_r.L.Dialect.Id.eq.equals(e.id,t.id))),selection:t,onSelectionChange:e=>n({kind:P.ix.Kind.selectDialect,dialect:e})(),label:e=>e.label,renderOption:e=>j.createElement("div",{className:wr.dialectLabel},j.createElement("div",{className:wr.dialectIcon},j.createElement("img",{src:e.iconUrl,style:{width:K.ux.rem(1),height:K.ux.rem(1)}})),e.label)})))))),j.createElement(z.F.Fragment,null,e("description").pipe(E.U((e=>""!==e.trim()?j.createElement("div",{className:wr.description},e):null)))),j.createElement(z.F.div,{className:wr.footer},j.createElement(oe.zx.Tertiary,{className:wr.skipButton,onClick:n({kind:P.ix.Kind.closeVoiceProfile}),name:"closeVoiceProfile"},"Close"),e("applyButtonEnabled").pipe(E.U((e=>j.createElement(oe.zx.Primary,{className:wr.applyButton,onClick:n({kind:P.ix.Kind.applyVoiceProfile}),disabled:!e,name:"applyVoiceProfile"},"Use this voice"))))))));function Sr(e){const t=p.h.create("");return G.Z.fromSideEffect((n=>{"updateRoleTypeaheadText"===n.kind?t.set(n.text):(n.kind===P.ix.Kind.selectRole&&t.set((0,i.zG)(n.role,l.fold((()=>""),(e=>e.label)))),e.notify(n))}),p.h.combine(e.state,t,(({stagingVoiceProfile:e,session:t},n)=>(0,i.zG)(v.Y(l.option)({voiceProfile:(0,i.zG)(P.z_.toStarted(t),l.map((e=>e.voiceProfile))),stagingVoiceProfile:e}),l.fold((()=>({tones:[],styles:[],roles:[],maxSelectableTones:0,applyButtonEnabled:!1,description:"",roleTypeaheadText:"",dialects:P.LA.Dialect.all(),selectedDialect:P.LA.Dialect.american})),(({stagingVoiceProfile:e,voiceProfile:t})=>(0,i.zG)(t.styles,y.Ew((t=>t.id===e.selectedStyle)),(r=>({styles:(0,i.zG)(t.styles,y.UI((t=>Object.assign(Object.assign({},t),{kind:t.id===e.selectedStyle?"selected":"unselected"})))),tones:(0,i.zG)(r,l.fold((()=>[]),(t=>(0,i.zG)(t.tones,y.UI((n=>Object.assign(Object.assign({},n),{kind:(0,i.zG)(l.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),l.getOrElse((()=>new Set)),(e=>e.has(n.id)?"selected":e.size>=t.maxTones?"disabled":"unselected"))}))))))),roles:t.roles,maxSelectableTones:(0,i.zG)(r,l.fold((()=>3),(e=>e.maxTones))),applyButtonEnabled:!P.LA.Selections.eq.equals(e,t),description:"These voice settings will apply to any text you generate with GrammarlyGO.",roleTypeaheadText:(0,i.zG)(e.selectedRole,l.filter((()=>""===n)),l.chain((e=>l.fromNullable(t.roles.find((t=>t.id===e))))),l.fold((()=>n),(e=>e.label))),dialects:t.dialects,selectedDialect:t.dialects.find((t=>P.LA.Dialect.Id.eq.equals(t.id,e.selectedDialect)))||P.LA.Dialect.american})))))))))}const kr="submitBtn",Er={padding:K.ux.rem(Y.mh),background:"white",border:`0.5px solid ${W.BlueGray10}`,borderRadius:K.ux.rem(q.xB+q.fe),display:"flex",flexDirection:"column",gap:K.ux.rem(Y.mh)},Or={color:Se.XY.Content.Primary.Default,fontWeight:700,fontSize:K.ux.rem(1.25),lineHeight:K.ux.rem(1.5),margin:0},Ir={border:`${K.ux.px(1)} solid ${W.NeutralGray20}`,borderRadius:K.ux.rem(q.xB),padding:`${K.ux.rem(Y.x+Y.yC)} ${K.ux.rem(Y.x)}`,height:K.ux.rem(8)},Ar={display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${K.ux.rem(Y.W9)} ${K.ux.rem(Y.x)} 0 0`,minWidth:K.ux.rem(1),minHeight:K.ux.rem(1)},"& label":{color:Se.XY.Content.Primary.Default,fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125)}}},Tr={width:K.ux.percent(100),$nest:{[`&.${kr}.${kr}.${kr}.${kr}`]:{fontSize:K.ux.rem(.875)}}},Rr={display:"flex",flexDirection:"column",gap:K.ux.rem(Y.x)},Pr={container:K.ux.style(Er),title:K.ux.style(Or),feedbackTextarea:K.ux.style(Ir),checkboxGroup:K.ux.style(Ar),domain:K.ux.style({fontWeight:700}),submitButton:K.ux.joinClasses([kr,K.ux.style(Tr)]),bottomSection:K.ux.style(Rr)};var Nr=n(18208);const Dr={display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:K.ux.rem(Y.mh),paddingRight:K.ux.rem(Y.mh)},Br={width:K.ux.rem(5),height:K.ux.rem(5),cursor:"pointer",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",gap:K.ux.rem(Y.x),borderRadius:K.ux.rem(q.HP),fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),$nest:{"&:hover":{backgroundColor:Se.XY.Surface.Secondary.Default}}},Ur={backgroundColor:W.Blue10,$nest:{"&:hover":{backgroundColor:W.Blue10}}},Fr=Object.assign({},r.Es.iconSizeRems(1.5)),Mr=K.ux.stylesheet({scoreRow:[Dr],scoreButton:[Br],scoreButtonSelected:[Ur],emojiIcon:[Fr]}),Lr=(e,t)=>(0,V.Sh)(Mr.scoreButton,e===t&&Mr.scoreButtonSelected),Gr=(0,V.xb)((({selectedScore:e,onSelectScore:t})=>j.createElement("div",{className:Mr.scoreRow},j.createElement("div",Object.assign({},Lr(P.x2.Mood.dissatisfied,e),{onClick:()=>t(P.x2.Mood.dissatisfied)}),j.createElement(oe.XR,{className:Mr.emojiIcon}),"I dislike it"),j.createElement("div",Object.assign({},Lr(P.x2.Mood.ok,e),{onClick:()=>t(P.x2.Mood.ok)}),j.createElement(oe.R6,{className:Mr.emojiIcon}),"It′s OK"),j.createElement("div",Object.assign({},Lr(P.x2.Mood.satisfied,e),{onClick:()=>t(P.x2.Mood.satisfied)}),j.createElement(oe.OJ,{className:Mr.emojiIcon}),"I like it!")))),jr=(0,V.xb)(oe.b),zr=G.UI.Node.make((({state:e,view:t,notify:n})=>{const r="domainCheckbox"+Nr.fg(5);return j.createElement(z.F.div,{className:Pr.container},j.createElement("h1",{className:Pr.title},"How do you like Grammarly?"),j.createElement(Gr,{selectedScore:t("formData").pipe(E.U(d.ei("mood"))),onSelectScore:e=>n({kind:P.ix.Kind.updateFeedbackForm,feedbackData:{mood:e}})()}),j.createElement(jr,{className:Pr.feedbackTextarea,placeholder:["How can we improve?"],fitContentHeight:!1,text:t("formData").pipe(E.U((({message:e})=>null!=e?e:""))),onChange:e=>n({kind:P.ix.Kind.updateFeedbackForm,feedbackData:{message:e}})()}),e.pipe(E.U((({formData:e,domain:t,source:o})=>j.createElement("div",{className:Pr.bottomSection},(0,i.zG)(t,l.fold(i.gn,(t=>j.createElement("div",{className:Pr.checkboxGroup},j.createElement("input",{type:"checkbox",id:r,checked:void 0!==e.domain,onChange:n({kind:P.ix.Kind.updateFeedbackForm,feedbackData:{domain:void 0!==e.domain?void 0:t}})}),j.createElement("label",{htmlFor:r},"Include the domain ",j.createElement("b",null,t)," with my feedback to help improve Grammarly."))))),(0,i.zG)(l.fromNullable(void 0!==e.mood?Object.assign(Object.assign({},e),{mood:e.mood,source:o}):null),l.fold((()=>j.createElement(oe.zx.Primary,{disabled:!0,className:Pr.submitButton,onClick:i.Q1},"Submit")),(e=>j.createElement(oe.zx.Primary,{disabled:!1,className:Pr.submitButton,onClick:n({kind:P.ix.Kind.submitFeedbackForm,feedbackData:e})},"Submit")))))))))}));var Vr;function $r(e,t){return G.Z.fromSideEffect((t=>e.notify(t)),e.state.view((e=>{var n,i;return{formData:e.stagingFeedbackFormData,domain:t.showDomainCheckbox,source:null!==(i=null===(n=e.stagingFeedbackFormData)||void 0===n?void 0:n.source)&&void 0!==i?i:P.x2.Source.resultCard}})))}!function(e){e.empty={showDomainCheckbox:l.none}}(Vr||(Vr={}));const Zr={position:"relative",padding:K.ux.rem(Y.x),paddingTop:0},Hr=K.ux.stylesheet({contentGrid:[Zr]}),Kr={position:"absolute",top:0,right:K.ux.rem(Y.x),display:"flex",flexDirection:"column",gap:K.ux.rem(Y.x),zIndex:1,transition:"top 0.1s ease-in"},Wr={top:K.ux.rem(Y.F2)},qr=K.ux.stylesheet({container:[Kr],containerWithOffset:[Kr,Wr]}),Yr=K.ux.keyframes({from:{transform:`translateY(${K.ux.rem(.25)})`,opacity:0},to:{transform:"translateY(0)",opacity:1}}),Xr={background:Se.S5.Surface.Primary.Default,color:Se.S5.Content.Primary.Default,borderRadius:K.ux.rem(q.xB+q.fe),display:"flex",flexDirection:"row",alignItems:"center",padding:`${K.ux.rem(Y.x)} ${K.ux.rem(Y.qp)}`,gap:K.ux.rem(Y.qp),fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),animation:`${Yr} 0.1s ease-in`},Qr=Object.assign({},r.Es.iconSizeRems(1.5)),Jr=K.ux.stylesheet({notification:[Xr],checkmarkIcon:[Qr]}),eo=G.UI.Node.make((({view:e,notify:t})=>j.createElement(z.F.div,{className:Jr.notification,"data-id":e("id")},e("kind").pipe(E.U((e=>{if(e===P.Cl.Kind.feedbackSubmitted)return j.createElement(j.Fragment,null,j.createElement(oe.j4,{className:Jr.checkmarkIcon}),j.createElement("div",null,"Thanks for the feedback!"));(0,R.L0)(e)}))),e("id").pipe(E.U((e=>j.createElement(oe.xx,{name:"notificationClose",onClick:t({kind:"dismissNotification",id:e})})))))));const to=G.UI.List.make(y.Bk,eo),no=G.UI.Grid.make((({slots:e,view:t})=>j.createElement(z.F.div,{className:t("contentOverflowUnderToolbar").pipe(E.U((0,I.RN)(qr.containerWithOffset,qr.container)))},e.content))),io=G.UI.Knot.make(no,{content:to});function ro(e){return G.Z.composeKnot({root:()=>e.assistant.state.view(d.H6("contentOverflowUnderToolbar")),content:(t=e.notifications,G.Z.composeList(y.Bk,(()=>t.state.view(y.GY)),(e=>function(e,t){return G.Z.fromSideEffect((e=>{if("dismissNotification"===e.kind)return t.dismiss(e.id);(0,R.L0)(e.kind)}),e)}(e,t))))});var t}const oo=G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:Hr.contentGrid},e.notifications,e.content))),so=G.UI.Union.make("kind",{chat:er,voiceProfile:Cr,feedbackForm:zr}),ao=G.UI.Knot.make(oo,{content:so,notifications:io});function co({vms:e,assistantMaxHeight:t,feedbackFormOptions:n}){return G.Z.composeKnot({content:uo(e.assistant,t,n),notifications:ro(e)})}function uo(e,t,n){return G.Z.composeUnion({chat:tr(e,t),voiceProfile:Sr(e),feedbackForm:$r(e,n)},(()=>e.state.view("activeView").view((e=>({kind:"voiceProfile"===e||"feedbackForm"===e?e:"chat"})))))}var lo=n(13444);const po={padding:`${K.ux.rem(Y.x)}`,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125),color:Se.XY.Content.Secondary.Default,cursor:"default"},fo={color:W.Blue60},ho=K.ux.stylesheet({label:[po],upgrade:[fo]});const mo=G.UI.Node.make((({state:e,notify:t})=>{const{ref:n,onMount:i}=be.P.useElWatcher(),{ref:r,onMount:o}=be.P.useElWatcher(),a=j.useMemo((()=>n.pipe(fe.oA,he.w((e=>u.R(e,"mouseenter").pipe(Xi.c(Me.of(null).pipe(lo.g(500),s.R(u.R(e,"mouseleave"))))))),c.b(t({kind:P.ix.Kind.creditsInfoHover})))),[n]);be.P.useSubscriptionTo(a);const l=j.useMemo((()=>r.pipe(xt.QV(yt.E),c.b((e=>t({kind:P.ix.Kind.mount,name:P.ec.creditsInfoButton,element:e})())))),[r]);return be.P.useSubscriptionTo(l),j.createElement(z.F.Fragment,null,e.pipe(E.U((({user:e,availability:n})=>{const r=P.a8.isActive(n)?function(e){const t=`${e.promptsRemaining}/${e.promptsAllocated} prompts left. `,n=P.a8.Active.daysUntilRefillDate(e.refillDate),i=P.a8.Active.hoursUntilRefillDate(e.refillDate);return n>0?t+`Next refill in ${n} ${Nr._6(n,"day","days")}.`:i>0?t+`Next refill in ${i} ${Nr._6(i,"hour","hours")}.`:t+"Next refill in less than an hour."}(n):e.isFree?"To get more prompts, upgrade to Premium.":"To get more prompts, contact support.",s=P.a8.isActive(n)?`${n.promptsRemaining} ${Nr._6(n.promptsRemaining,"prompt","prompts")}`:e.isFree?j.createElement(j.Fragment,null,"0 prompts. ",j.createElement("span",{className:ho.upgrade},"Upgrade")):"0 prompts";return!e.isFree&&P.a8.isActive(n)?j.createElement(or.u,{title:r},j.createElement("div",{ref:i,className:ho.label},s)):j.createElement(oe.zx.Tertiary,{onClick:t({kind:P.ix.Kind.creditsInfoClick,userIsFree:e.isFree}),title:r,name:"creditsInfo",mount:o},j.createElement("div",{ref:i},s))}))))})),go=G.UI.Union.asOption(mo);var vo=n(40327);function bo(e){const t=e.state.view((e=>(0,vo.pipe)(e.availability,l.fromPredicate((0,I.Kg)(P.a8.isActive,P.a8.isPassive)),l.filter((()=>l.isSome(P.z_.toStarted(e.session)))))));return G.Z.composeOption(function(e,t,n){return G.Z.fromSideEffect((t=>e.notify(t)),(0,vo.pipe)(pe.aj([t,n]),E.U((([e,t])=>({user:e,availability:t})))))}(e,e.state.view("user"),t.pipe(fe.oA)),(()=>p.h.combine(t,e.state.view("activeView"),((e,t)=>(0,vo.pipe)(e,l.filter((()=>"voiceProfile"!==t&&"feedbackForm"!==t)))))))}const xo="voiceBtn",yo={$nest:{[`&.${xo}.${xo}.${xo}.${xo}`]:{padding:0,paddingRight:K.ux.rem(Y.x),paddingLeft:K.ux.rem(Y.F2),gap:K.ux.rem(Y.x),flexWrap:"nowrap",$nest:{"& > i":Object.assign({},r.Es.iconSizeRems(1.5))}}}},wo={stroke:W.BlueGray60},_o={voiceButton:K.ux.joinClasses([xo,K.ux.style(yo)]),voiceIcon:K.ux.style(wo)},Co=G.UI.Node.make((({view:e,notify:t})=>j.createElement(oe.zx.Tertiary,{className:_o.voiceButton,onClick:t({kind:P.ix.Kind.openVoiceProfile,source:"toolbar"}),name:"toolbarVoiceProfile"},j.createElement(oe.uA,{className:_o.voiceIcon}),j.createElement(z.F.span,null,e("styleLabel"))))),So={display:"flex",alignItems:"center",gap:K.ux.rem(Y.x),color:W.BlueGray60,fontWeight:400,fontSize:K.ux.rem(.75),lineHeight:K.ux.rem(1.125)},ko=K.ux.prefixedStylesheet("back_button",{buttonAndLabel:[So]}),Eo=G.UI.Node.make((({notify:e,view:t})=>j.createElement("div",{className:ko.buttonAndLabel},j.createElement(oe.zx.Tertiary,{compact:!0,onClick:e({kind:P.ix.Kind.goBack}),name:"goBack"},j.createElement(ae.JO.Arrow,{direction:ae.n4.left})),j.createElement(z.F.Fragment,null,t("activeViewLabel").pipe(E.U(l.fold(i.gn,(e=>j.createElement("span",null,e)))))))));var Oo=n(5315);const Io={display:"flex",alignItems:"center",justifyContent:"space-between",width:K.ux.percent(100),gap:K.ux.rem(Y.x)},Ao={display:"flex",flexDirection:"row",alignItems:"center",gap:K.ux.rem(Oo.x)},To={height:K.ux.rem(1),borderLeft:`1px solid ${W.BlueGray20}`},Ro={display:"flex",alignItems:"center",justifyContent:"center",height:K.ux.rem(2),width:38},Po={width:K.ux.rem(10),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"},No=Object.assign(Object.assign({},To),{marginLeft:K.ux.rem(Y.x),marginRight:K.ux.rem(Y.F2)}),Do=K.ux.prefixedStylesheet("toolbar",{toolbarContent:[Io],backAndVoice:[Ao],buttonSeparator:[To],goLogoAndVoice:[{display:"flex",flexDirection:"row",alignItems:"center"}],goLogo:[Ro],goTooltip:[Po],logoAndBetaBadge:[{display:"flex",flexDirection:"row",alignItems:"center"}],goLogoAndVoiceSeparator:[No]}),Bo=G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:Do.backAndVoice},e.back,j.createElement("div",{className:Do.buttonSeparator}),e.voice))),Uo=G.UI.Knot.make(Bo,{back:Eo,voice:Co}),Fo=()=>j.createElement("div",{className:Do.logoAndBetaBadge},j.createElement("div",{className:Do.goLogo},j.createElement(oe.T3,null)),j.createElement(or.u,{title:j.createElement("div",{className:Do.goTooltip},"GrammarlyGO is still in beta testing. Please check your text for inaccuracies.")},j.createElement(oe.Ct,null,"Beta"))),Mo=G.UI.Node.make(Fo),Lo=G.UI.Composite.make(G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:Do.goLogoAndVoice},j.createElement(Fo,null),j.createElement("div",{className:Do.goLogoAndVoiceSeparator}),e.content))),Co),Go=G.UI.Union.make("kind",{empty:Mo,backButton:Eo,voiceButton:Lo,backAndVoiceButton:Uo}),jo=G.UI.Union.asOption(Go),zo=G.UI.Grid.make((({slots:e})=>j.createElement("div",{className:Do.toolbarContent},e.left,e.right))),Vo=G.UI.Knot.make(zo,{left:jo,right:go});function $o(e){return G.Z.fromSideEffect((t=>{if("Some"===t.key&&"value"===t.action.key){const n=t.action.action;"backAndVoiceButton"===n.key?e.notify(n.action.action):e.notify(n.action)}}),function(e){const t=e=>{var t;return(null===(t=e.styles.find((t=>P.LA.Style.Id.eq.equals(t.id,e.selectedStyle))))||void 0===t?void 0:t.label)||""};return e.state.view((({activeView:e,session:n})=>(0,i.zG)(P.z_.toStarted(n),l.map((e=>e.voiceProfile)),l.fold((()=>l.some({kind:"empty"})),(n=>"loadingError"===e?l.some({kind:"empty"}):"voiceProfile"===e?l.some({kind:"backButton",activeViewLabel:l.some("My voice")}):"feedbackForm"===e?l.some({kind:"backButton",activeViewLabel:l.some("Share your thoughts")}):"loading"===e||"beforeResults"===e||"afterResults"===e?l.some({kind:"voiceButton",styleLabel:t(n)}):"actionSelected"===e?l.some({kind:"backAndVoiceButton",back:{activeViewLabel:l.none},voice:{styleLabel:t(n)}}):(0,R.L0)(e))))))}(e))}const Zo=G.UI.Knot.make(ce,{toolbar:Vo,content:ao});function Ho(e,t=Vr.empty){return G.Z.composeKnot({root:xe(e.position,e.assistant),content:co({vms:e,assistantMaxHeight:e.position.state.view((0,i.ls)(f,l.chain(d.ei("assistantMaxHeight")))),feedbackFormOptions:t}),toolbar:(n=e.assistant,G.Z.composeKnot({left:$o(n),right:bo(n)}))});var n}G.UI.Knot.make(_e,{toolbar:Vo,content:ao})},45212:(e,t,n)=>{n.d(t,{z:()=>b});var i=n(27378),r=n(64757),o=n(12187),s=n(89894),a=n(88392),c=n(9546),u=n(13578),l=n(62172),d=n(53664);const p="button",f={$nest:{[`&.${p}.${p}.${p}.${p}`]:{lineHeight:s.ux.rem(2),borderRadius:s.ux.rem(a.xB),fontSize:s.ux.rem(.75),textAlign:"center",padding:`0 ${s.ux.rem(c.x)}`,userSelect:"none",minWidth:s.ux.rem(1.5),minHeight:s.ux.rem(1.5),display:"inline-flex",alignItems:"center",justifyContent:"center",$nest:{"& > i":{marginLeft:s.ux.rem(-.25)},"&[data-disabled='true']":{opacity:.4,cursor:"not-allowed"},"&[data-compact='true']":{padding:0,$nest:{"& > i":{marginLeft:0}}}}}}},h={$nest:{[`&.${p}.${p}.${p}.${p}`]:{color:u.XY.Content.OnPrimary.Default,backgroundColor:d.BO.BrandGreen60,fontWeight:"bold",$nest:{"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":{backgroundColor:d.BO.BrandGreen80},"&:focus-visible":{boxShadow:`0 0 0 2px ${u.XY.Surface.Primary.Default}, 0 0 0 4px ${d.BO.BrandGreen80}`},"&[data-active='true'], &:active":{backgroundColor:d.BO.BrandGreen60,color:u.XY.Surface.Primary.Default}}}}}}},m={$nest:{[`&.${p}.${p}.${p}.${p}`]:{backgroundColor:"transparent",fontWeight:"normal",color:l.BlueGray80,stroke:l.BlueGray80,boxShadow:`inset 0 0 0 1px ${l.BlueGray5}`,$nest:{"& > i":{stroke:l.BlueGray80,fill:l.BlueGray80},"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":{backgroundColor:l.BlueGray0},"&:focus-visible":{boxShadow:`inset 0 0 0 1px ${l.BlueGray80}, 0 0 0 1px ${l.BlueGray80}, 0 0 0 2px ${u.XY.Surface.Primary.Default}, 0 0 0 4px ${l.BlueGray80}`},"&[data-active='true'], &:active":{backgroundColor:"transparent",color:l.BlueGray80}}}}}}},g={$nest:{[`&.${p}.${p}.${p}.${p}`]:{backgroundColor:"transparent",fontWeight:"normal",color:u.XY.Content.Secondary.Default,$nest:{"& > i":{stroke:u.XY.Content.Secondary.Default,fill:u.XY.Content.Secondary.Default},"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true'], &[data-active='true'], &:active":{backgroundColor:l.BlueGray0,color:u.XY.Content.Secondary.Default},"&[data-theme='dark']":{$nest:{"&[data-hovered='true'], &[data-active='true'], &:active":{backgroundColor:s.ux.color(l.BlueGray0).toRGBA().fade(.2).toString()}}},"&:focus-visible":{boxShadow:`0 0 0 2px ${u.XY.Surface.Primary.Default}, 0 0 0 4px ${u.XY.Content.Secondary.Default}`}}}}}}},v={primary:s.ux.joinClasses([p,s.ux.style(f,h)]),secondary:s.ux.joinClasses([p,s.ux.style(f,m)]),tertiary:s.ux.joinClasses([p,s.ux.style(f,g)])};var b,x=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};!function(e){e.Primary=e=>{var{className:t,compact:n,theme:s,children:a,onClick:c}=e,u=x(e,["className","compact","theme","children","onClick"]);return i.createElement(r.zx.Primary,Object.assign({},(0,o.Sh)(v.primary,t),u,{onClick:(0,d.m)(c),"data-compact":n,"data-theme":null!=s?s:"light"}),a)},e.Secondary=e=>{var{className:t,compact:n,theme:s,children:a,onClick:c}=e,u=x(e,["className","compact","theme","children","onClick"]);return i.createElement(r.zx.Ghost,Object.assign({},(0,o.Sh)(v.secondary,t),u,{onClick:(0,d.m)(c),"data-compact":n,"data-theme":null!=s?s:"light"}),a)},e.Tertiary=e=>{var{className:t,compact:n,theme:s,children:a,onClick:c}=e,u=x(e,["className","compact","theme","children","onClick"]);return i.createElement(r.zx.Tertiary,Object.assign({},(0,o.Sh)(v.tertiary,t),u,{onClick:(0,d.m)(c),"data-compact":n,"data-theme":null!=s?s:"light"}),a)}}(b||(b={}))},55219:(e,t,n)=>{n.d(t,{j4:()=>k,XR:()=>w,Ak:()=>f,CT:()=>c,T3:()=>x,rN:()=>y,k8:()=>u,L3:()=>s,Ho:()=>h,R6:()=>_,kc:()=>b,cW:()=>p,Gv:()=>d,cv:()=>m,OJ:()=>C,wN:()=>l,uA:()=>o,T6:()=>g});var i=n(27378),r=n(31278);const o=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("path",{d:"M12 7L12 17",strokeLinecap:"round"}),i.createElement("path",{d:"M9 9L9 15",strokeLinecap:"round"}),i.createElement("path",{d:"M15 9L15 15",strokeLinecap:"round"}),i.createElement("path",{d:"M18 11L18 13",strokeLinecap:"round"}),i.createElement("path",{d:"M6 11L6 13",strokeLinecap:"round"})),s=e=>i.createElement(r.a1,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0.5C3.67157 0.5 3 1.17157 3 2V3H0.5C0.223858 3 0 3.22386 0 3.5C0 3.77614 0.223858 4 0.5 4H1.04536L1.82983 12.237C1.95203 13.5201 3.02968 14.5 4.31857 14.5H7.68143C8.97032 14.5 10.048 13.5201 10.1702 12.237L10.9546 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H9V2C9 1.17157 8.32843 0.5 7.5 0.5H4.5ZM8 3V2C8 1.72386 7.77614 1.5 7.5 1.5H4.5C4.22386 1.5 4 1.72386 4 2V3H8ZM2.04988 4H9.95012L9.17467 12.1422C9.10135 12.9121 8.45476 13.5 7.68143 13.5H4.31857C3.54524 13.5 2.89865 12.9121 2.82533 12.1422L2.04988 4Z",stroke:"none"}));var a=n(13578);const c=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("path",{d:"M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",stroke:a.XY.Content.Secondary.Default,strokeMiterlimit:"4.25735"})),u=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("rect",{x:"4.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:a.XY.Content.Secondary.Default}),i.createElement("rect",{x:"4.5",y:"13.5",width:"6",height:"6",rx:"1.5",stroke:a.XY.Content.Secondary.Default}),i.createElement("rect",{x:"13.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:a.XY.Content.Secondary.Default}),i.createElement("path",{d:"M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",fill:a.XY.Content.Secondary.Default,stroke:a.XY.Content.Secondary.Default})),l=e=>i.createElement(r.a1,Object.assign({width:"32",height:"32",fill:a.XY.Content.Secondary.Default,viewBox:"0 0 32 32"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",stroke:"none"})),d=e=>i.createElement(r.a1,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",stroke:"none"})),p=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:a.XY.Content.Secondary.Default},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 4.5C5.77614 4.5 6 4.72386 6 5V6H19C19.2022 6 19.3845 6.12182 19.4619 6.30866C19.5393 6.4955 19.4966 6.71055 19.3536 6.85355L15.7071 10.5L19.3536 14.1464C19.4966 14.2894 19.5393 14.5045 19.4619 14.6913C19.3845 14.8782 19.2022 15 19 15H6V20.5C6 20.7761 5.77614 21 5.5 21C5.22386 21 5 20.7761 5 20.5V5C5 4.72386 5.22386 4.5 5.5 4.5ZM6 14H17.7929L14.6464 10.8536C14.4512 10.6583 14.4512 10.3417 14.6464 10.1464L17.7929 7H6V14Z",stroke:"none"})),f=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:a.XY.Content.Secondary.Default},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 8C3.5 6.61929 4.61929 5.5 6 5.5H18C19.3807 5.5 20.5 6.61929 20.5 8V14.3429C20.5 15.7236 19.3807 16.8429 18 16.8429H10.3884L6.16667 19.9979V16.8429H6C4.61929 16.8429 3.5 15.7236 3.5 14.3429V8ZM6 6.5C5.17157 6.5 4.5 7.17157 4.5 8V14.3429C4.5 15.1713 5.17157 15.8429 6 15.8429H7.16667V18.0021L10.056 15.8429H18C18.8284 15.8429 19.5 15.1713 19.5 14.3429V8C19.5 7.17157 18.8284 6.5 18 6.5H6ZM17 10H7V9H17V10ZM17 13H7V12H17V13Z",stroke:"none"})),h=e=>i.createElement(r.a1,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),i.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#C2C6D4",strokeWidth:"2"}),i.createElement("path",{d:"M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",stroke:"#05735A",strokeWidth:"2",strokeLinecap:"round"})),m=e=>i.createElement(r.a1,Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),i.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:".857",d:"m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8"})),g=e=>i.createElement(r.a1,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",stroke:"none"}));var v=n(53664);const b=e=>i.createElement(r.a1,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:v.BO.BrandGreen60},e),i.createElement("path",{d:"M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",stroke:"none"})),x=e=>i.createElement(r.a1,Object.assign({width:"26",height:"12",viewBox:"0 0 26 12",fill:v.BO.BrandGreen60},e),i.createElement("path",{d:"M19.3727 0.000327934C16.1036 0.000327934 13.4619 2.6865 13.4619 6.00016C13.4619 9.31383 16.1081 12 19.3727 12C22.6374 12 25.2836 9.31474 25.2836 6.00016C25.2836 2.68559 22.6374 0.000327934 19.3727 0.000327934ZM19.3727 9.73428C17.3867 9.73428 15.7766 8.06247 15.7766 6.00016C15.7766 3.93786 17.3867 2.26604 19.3727 2.26604C21.3587 2.26604 22.9688 3.93786 22.9688 6.00016C22.9688 8.06247 21.3587 9.73428 19.3727 9.73428Z",stroke:"none"}),i.createElement("path",{d:"M12.6746 6.42151H7.39304V8.29493H8.68981C9.01927 8.30238 9.34872 8.28019 9.67419 8.22864L9.69144 8.24589C9.08392 9.13311 7.98875 9.75788 6.70651 9.75788C4.63967 9.75788 2.99964 8.11512 2.99964 5.9938C2.99964 3.87247 4.63967 2.23062 6.70651 2.23062C7.30404 2.23157 7.89242 2.3776 8.42105 2.65615C8.94969 2.93471 9.40278 3.33745 9.74139 3.82979L11.593 2.55844C11.0537 1.76195 10.3255 1.11146 9.47342 0.665066C8.62136 0.218676 7.672 -0.00970839 6.71014 0.000316333C5.92081 -0.00586192 5.13814 0.145157 4.40777 0.444568C3.6774 0.74398 3.01395 1.18579 2.45608 1.74425C1.89822 2.3027 1.45712 2.96663 1.15848 3.69731C0.859842 4.428 0.709651 5.21083 0.716666 6.00015C0.716666 9.35378 3.34108 12 6.60571 12C8.60354 12 10.2626 10.8658 10.9192 9.61622L10.9519 9.63347C10.8546 10.0093 10.8049 10.3958 10.8039 10.784V11.7221L12.6755 11.7167V6.42242L12.6746 6.42151Z",stroke:"none"})),y=()=>i.createElement("svg",{width:"240",height:"35",viewBox:"0 0 240 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M209.923 15.8961H197.325V20.5059H200.418C201.204 20.5238 201.989 20.4701 202.766 20.3428L202.807 20.3852C201.358 22.5683 198.746 24.1056 195.687 24.1056C190.757 24.1056 186.845 20.0635 186.845 14.8437C186.845 9.62393 190.757 5.58174 195.687 5.58174C197.113 5.58398 198.514 5.94373 199.775 6.62748C201.035 7.31123 202.116 8.30558 202.926 9.51667L207.343 6.39063C206.054 4.42875 204.315 2.82438 202.279 1.72725C200.245 0.627883 197.977 0.0692616 195.685 0.0960754C193.807 0.080434 191.94 0.449124 190.2 1.18651C188.461 1.92165 186.88 3.00985 185.55 4.38406C184.22 5.75827 183.169 7.39168 182.456 9.19044C181.746 10.9892 181.384 12.9153 181.402 14.8593C181.402 23.1113 187.662 29.6226 195.449 29.6226C200.219 29.6226 204.172 26.8317 205.738 23.7571L205.816 23.7995C205.584 24.7246 205.465 25.6743 205.463 26.6306V28.9388L209.927 28.9254H209.923V15.8984V15.8961Z",fill:"white"}),i.createElement("path",{d:"M225.901 0C218.113 0 211.801 6.62972 211.801 14.8102C211.801 22.9906 218.113 29.6204 225.901 29.6204C233.688 29.6204 240 22.9906 240 14.8102C240 6.62972 233.688 0 225.901 0ZM226.018 24.1191C221.187 24.1191 217.271 20.0054 217.271 14.9308C217.271 9.85632 221.187 5.74263 226.018 5.74263C230.848 5.74263 234.765 9.85632 234.765 14.9308C234.765 20.0054 230.848 24.1191 226.018 24.1191Z",fill:"white"}),i.createElement("path",{d:"M17.223 8.39048C15.737 8.39048 14.5348 9.63062 14.5348 11.1277V11.1635C13.0857 9.52113 11.3528 8.24524 8.41547 8.24524C4.06802 8.24301 0 11.5277 0 17.3642V17.4379C0 23.2386 3.99653 26.5591 8.41763 26.5591C11.2813 26.5591 13.0164 25.3547 14.6063 23.3839V24.3335C14.6063 27.835 12.8734 29.6606 9.19528 29.6606C7.1786 29.6606 5.51717 29.2226 3.96188 28.4942C3.71494 28.3847 3.43117 28.3109 3.07809 28.3109C1.87588 28.3109 0.885953 29.3321 0.885953 30.5722C0.885953 31.5934 1.48814 32.3598 2.40659 32.724C4.63555 33.6357 6.82768 34.0737 9.33824 34.0737C13.0164 34.0737 15.7392 33.2715 17.5089 31.4482C19.1011 29.8058 19.9134 27.2518 19.9134 23.7503V11.1612C19.9134 9.62839 18.7111 8.38825 17.2252 8.38825L17.223 8.39048ZM14.6063 17.4379C14.6063 20.1014 12.5896 21.9628 9.97293 21.9628C7.35622 21.9628 5.3742 20.1394 5.3742 17.4379V17.3642C5.3742 14.7007 7.35406 12.8393 9.97293 12.8393C12.5918 12.8393 14.6063 14.7007 14.6063 17.3642V17.4379Z",fill:"white"}),i.createElement("path",{d:"M32.3836 8.39038C30.7914 8.39038 29.5199 10.1422 28.7401 12.0393V11.1634C28.7401 9.63052 27.5379 8.39038 26.0519 8.39038C24.5659 8.39038 23.3637 9.63052 23.3637 11.1634V25.6093C23.3637 27.1422 24.5659 28.3823 26.0519 28.3823C27.5379 28.3823 28.7401 27.1422 28.7401 25.6093V20.4298C28.7401 16.4904 30.2607 14.3364 32.9836 13.6816C34.0797 13.4269 35.0003 12.551 35.0003 11.0919C35.0003 9.52327 34.045 8.39262 32.3836 8.39262V8.39038Z",fill:"white"}),i.createElement("path",{d:"M44.2178 8.39038C41.7072 8.39038 39.8682 8.7546 38.1699 9.41154C37.3208 9.74001 36.7207 10.5779 36.7207 11.5634C36.7207 12.8392 37.7107 13.8247 38.9497 13.8247C39.1967 13.8247 39.4089 13.7889 39.7274 13.6794C40.7519 13.3509 41.9563 13.132 43.4401 13.132C46.1283 13.132 47.5081 14.4079 47.5081 16.7071V17.0356C46.1651 16.5619 44.7853 16.2334 42.8748 16.2334C38.3843 16.2334 35.2348 18.2042 35.2348 22.4721V22.5459C35.2348 26.4138 38.1699 28.5298 41.7419 28.5298C44.3586 28.5298 46.163 27.5444 47.4713 26.0495V26.0853C47.4713 27.2517 48.4959 28.3846 50.0534 28.3846C51.5025 28.3846 52.6701 27.2182 52.6701 25.7211V16.8189C52.6701 14.1911 52.0332 12.0393 50.6187 10.5802C49.2757 9.1948 47.1529 8.39038 44.2178 8.39038ZM47.5775 21.2677C47.5775 23.2743 45.8792 24.6977 43.3686 24.6977C41.6357 24.6977 40.4335 23.8217 40.4335 22.3269V22.2531C40.4335 20.5013 41.848 19.5539 44.1463 19.5539C45.4546 19.5539 46.6568 19.8466 47.5775 20.2846V21.27V21.2677Z",fill:"white"}),i.createElement("path",{d:"M78.6766 8.24286C76.0945 8.24286 74.1147 9.33776 72.4511 11.3443C71.4611 9.37351 69.5874 8.24286 67.1115 8.24286C64.3887 8.24286 62.7619 9.73773 61.5229 11.3801V11.1611C61.5229 9.62824 60.3207 8.3881 58.8347 8.3881C57.3487 8.3881 56.1465 9.62824 56.1465 11.1611V25.6093C56.1465 27.1422 57.3487 28.3823 58.8347 28.3823C60.3207 28.3823 61.5229 27.1422 61.5229 25.6093V17.2545C61.5229 14.629 62.7597 13.2772 64.7764 13.2772C66.7931 13.2772 67.9238 14.6268 67.9238 17.2545V25.6093C67.9238 27.1422 69.126 28.3823 70.612 28.3823C72.098 28.3823 73.3002 27.1422 73.3002 25.6093V17.2545C73.3002 14.629 74.5371 13.2772 76.5537 13.2772C78.5704 13.2772 79.7011 14.6268 79.7011 17.2545V25.6093C79.7011 27.1422 80.9034 28.3823 82.3893 28.3823C83.8753 28.3823 85.0775 27.1422 85.0775 25.6093V15.4312C85.0775 10.7254 82.6731 8.24509 78.6766 8.24509V8.24286Z",fill:"white"}),i.createElement("path",{d:"M111.077 8.24286C108.495 8.24286 106.516 9.33776 104.852 11.3443C103.862 9.37351 101.988 8.24286 99.5124 8.24286C96.7895 8.24286 95.1628 9.73773 93.9237 11.3801V11.1611C93.9237 9.62824 92.7215 8.3881 91.2355 8.3881C89.7496 8.3881 88.5474 9.62824 88.5474 11.1611V25.6093C88.5474 27.1422 89.7496 28.3823 91.2355 28.3823C92.7215 28.3823 93.9237 27.1422 93.9237 25.6093V17.2545C93.9237 14.629 95.1606 13.2772 97.1773 13.2772C99.194 13.2772 100.325 14.6268 100.325 17.2545V25.6093C100.325 27.1422 101.527 28.3823 103.013 28.3823C104.499 28.3823 105.701 27.1422 105.701 25.6093V17.2545C105.701 14.629 106.938 13.2772 108.955 13.2772C110.971 13.2772 112.102 14.6268 112.102 17.2545V25.6093C112.102 27.1422 113.304 28.3823 114.79 28.3823C116.276 28.3823 117.478 27.1422 117.478 25.6093V15.4312C117.478 10.7254 115.074 8.24509 111.077 8.24509V8.24286Z",fill:"white"}),i.createElement("path",{d:"M128.461 8.39038C125.95 8.39038 124.111 8.7546 122.413 9.41154C121.564 9.74001 120.964 10.5779 120.964 11.5634C120.964 12.8392 121.954 13.8247 123.193 13.8247C123.44 13.8247 123.652 13.7889 123.97 13.6794C124.995 13.3509 126.199 13.132 127.683 13.132C130.371 13.132 131.751 14.4079 131.751 16.7071V17.0356C130.408 16.5619 129.028 16.2334 127.118 16.2334C122.625 16.2334 119.478 18.2042 119.478 22.4721V22.5459C119.478 26.4138 122.413 28.5298 125.985 28.5298C128.602 28.5298 130.406 27.5444 131.714 26.0495V26.0853C131.714 27.2517 132.739 28.3846 134.296 28.3846C135.745 28.3846 136.913 27.2182 136.913 25.7211V16.8189C136.913 14.1911 136.276 12.0393 134.862 10.5802C133.519 9.1948 131.396 8.39038 128.461 8.39038ZM131.82 21.2677C131.82 23.2743 130.122 24.6977 127.612 24.6977C125.879 24.6977 124.676 23.8217 124.676 22.3269V22.2531C124.676 20.5013 126.091 19.5539 128.389 19.5539C129.698 19.5539 130.9 19.8466 131.82 20.2846V21.27V21.2677Z",fill:"white"}),i.createElement("path",{d:"M149.373 8.39038C147.781 8.39038 146.507 10.1422 145.73 12.0393V11.1634C145.73 9.63052 144.527 8.39038 143.041 8.39038C141.555 8.39038 140.353 9.63052 140.353 11.1634V25.6093C140.353 27.1422 141.555 28.3823 143.041 28.3823C144.527 28.3823 145.73 27.1422 145.73 25.6093V20.4298C145.73 16.4904 147.25 14.3364 149.973 13.6816C151.069 13.4269 151.99 12.551 151.99 11.0919C151.99 9.52327 151.034 8.39262 149.373 8.39262V8.39038Z",fill:"white"}),i.createElement("path",{d:"M156.456 1.31152C154.97 1.31152 153.768 2.55166 153.768 4.08452V25.6093C153.768 27.1422 154.97 28.3823 156.456 28.3823C157.942 28.3823 159.144 27.1422 159.144 25.6093V4.08452C159.144 2.55166 157.942 1.31152 156.456 1.31152Z",fill:"white"}),i.createElement("path",{d:"M176.788 8.39038C175.408 8.39038 174.63 9.3378 174.206 10.5064L170.244 21.8532L166.141 10.4707C165.682 9.15681 164.904 8.39038 163.559 8.39038C162.073 8.39038 160.906 9.48528 160.906 11.0539C160.906 11.4181 161.046 11.9656 161.189 12.3298L167.662 27.7991L167.484 28.2371C166.988 29.2225 166.529 29.4035 165.574 29.4035C165.184 29.4035 164.902 29.3298 164.443 29.1845C164.231 29.1108 163.984 29.0393 163.559 29.0393C162.463 29.0393 161.436 29.9509 161.436 31.3006C161.436 32.6502 162.357 33.3071 163.135 33.5999C164.018 33.9283 164.867 34.1116 166.07 34.1116C169.289 34.1116 170.879 32.6167 172.471 28.6393L179.084 12.2583C179.19 12.0035 179.331 11.3824 179.331 10.9444C179.331 9.48528 178.163 8.39038 176.783 8.39038H176.788Z",fill:"white"})),w=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11023_disheartening_emoji)",stroke:"none"}),i.createElement("path",{d:"M8.97126 19.5491C10.9569 18.1193 14.0431 18.1193 16.0295 19.5491C16.3344 19.7674 16.5155 19.5315 16.4184 19.3455C14.4879 15.6555 10.5121 15.6555 8.58164 19.3455C8.48451 19.5315 8.66564 19.7674 8.97126 19.5491Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M19.895 12.8239C17.9806 13.5491 15.4865 12.8809 14.1909 11.2954C13.9925 11.0531 13.7945 11.2046 13.8328 11.376C14.5936 14.775 17.807 15.6364 20.1654 13.0721C20.2839 12.9435 20.1886 12.7133 19.895 12.8239Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M10.8091 11.2954C9.51351 12.8813 7.01976 13.5491 5.10501 12.8239C4.81176 12.7133 4.71614 12.9431 4.83464 13.0721C7.19301 15.6364 10.4064 14.775 11.1673 11.376C11.2059 11.2046 11.0079 11.0531 10.8091 11.2954Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_4506_11023_disheartening_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),_=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11027_neutral_emoji)",stroke:"none"}),i.createElement("path",{d:"M17.3266 17.25H7.6726C6.7336 17.25 6.7336 15.75 7.6726 15.75H17.3266C18.2656 15.75 18.2656 17.25 17.3266 17.25Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M8.7496 12.1875C9.68158 12.1875 10.4371 11.1801 10.4371 9.9375C10.4371 8.69486 9.68158 7.6875 8.7496 7.6875C7.81762 7.6875 7.0621 8.69486 7.0621 9.9375C7.0621 11.1801 7.81762 12.1875 8.7496 12.1875Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M16.2496 12.1875C17.1816 12.1875 17.9371 11.1801 17.9371 9.9375C17.9371 8.69486 17.1816 7.6875 16.2496 7.6875C15.3176 7.6875 14.5621 8.69486 14.5621 9.9375C14.5621 11.1801 15.3176 12.1875 16.2496 12.1875Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_4506_11027_neutral_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),C=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M5.82085 15.8453C7.89191 15.8453 9.57085 14.1663 9.57085 12.0953C9.57085 10.0242 7.89191 8.34528 5.82085 8.34528C3.74978 8.34528 2.07085 10.0242 2.07085 12.0953C2.07085 14.1663 3.74978 15.8453 5.82085 15.8453Z",fill:"url(#paint1_radial_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M19.1792 15.75C21.2502 15.75 22.9292 14.0711 22.9292 12C22.9292 9.92893 21.2502 8.25 19.1792 8.25C17.1081 8.25 15.4292 9.92893 15.4292 12C15.4292 14.0711 17.1081 15.75 19.1792 15.75Z",fill:"url(#paint2_radial_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M14.0844 9.3015C15.5 7.72425 17.7012 7.7235 19.1176 9.3015C19.3344 9.543 19.4634 9.282 19.3944 9.07725C18.0181 5.0055 15.1831 5.0055 13.8069 9.07725C13.7379 9.282 13.8669 9.54262 14.0844 9.3015Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M5.88312 9.3015C7.29949 7.72425 9.49999 7.7235 10.9164 9.3015C11.1331 9.543 11.2629 9.282 11.1931 9.07725C9.81687 5.0055 6.98187 5.0055 5.60562 9.07725C5.53699 9.282 5.66562 9.54262 5.88312 9.3015Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M17.1961 13.647C14.3352 15.7061 10.6614 15.705 7.802 13.647C7.397 13.356 7.15512 13.6706 7.28487 13.9178C9.4805 18.1151 15.5187 18.1144 17.7147 13.9178C17.8437 13.6703 17.6026 13.3556 17.1961 13.647Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_11994_841_smiling_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})),i.createElement("radialGradient",{id:"paint1_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82103 12.0952) scale(3.75 3.75)"},i.createElement("stop",{stopColor:"#F18D84"}),i.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),i.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),i.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),i.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})),i.createElement("radialGradient",{id:"paint2_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.179 12) scale(3.75)"},i.createElement("stop",{stopColor:"#F18D84"}),i.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),i.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),i.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),i.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"}))));var S=n(62172);const k=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:S.Green30},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM18.2071 9.20711C18.5976 8.81658 18.5976 8.18342 18.2071 7.79289C17.8166 7.40237 17.1834 7.40237 16.7929 7.79289L10 14.5858L8.20711 12.7929C7.81658 12.4024 7.18342 12.4024 6.79289 12.7929C6.40237 13.1834 6.40237 13.8166 6.79289 14.2071L10 17.4142L18.2071 9.20711Z",stroke:"none"}))},86545:(e,t,n)=>{n.d(t,{vw:()=>y,Ct:()=>se,zx:()=>r.z,j4:()=>i.j4,xx:()=>de,XR:()=>i.XR,CT:()=>i.CT,T3:()=>i.T3,rN:()=>i.rN,k8:()=>i.k8,L3:()=>i.L3,Ho:()=>i.Ho,R6:()=>i.R6,kc:()=>i.kc,Ph:()=>ie,cv:()=>i.cv,OJ:()=>i.OJ,wN:()=>i.wN,b:()=>g,pY:()=>H,uA:()=>i.uA,T6:()=>i.T6});var i=n(55219),r=n(45212),o=n(88392),s=n(89894),a=n(27378),c=n(15073),u=n(5114),l=n(31542),d=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const p="#161719",f="#646B81",h=e=>{var{children:t,style:n,dataGrammarlyPart:i="ui-kit-iframe"}=e,r=d(e,["children","style","dataGrammarlyPart"]);const[o,s]=a.useState(null),p=a.useCallback((e=>{var t,n;let i=null;"contentDocument"in e.target&&(i=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),s(i),i&&(i.style.margin="0",i.style.height="100vh",i.style.overflowY="hidden")}),[]),f=a.useContext(c.u.Context);return a.useEffect((()=>{const e=f.subscribe((e=>{o&&c.u.setRootCssVar(o,u.some(e))}));return()=>e.unsubscribe()}),[o]),a.createElement("iframe",Object.assign({},r,{style:Object.assign({},n),onLoad:p,srcDoc:"<html><body></body></html>","data-grammarly-part":i}),o&&(0,l.createPortal)(t,o))},m=1.375,g=({fitContentHeight:e,text:t,onChange:n,placeholder:i,disabled:r,className:c,onFocus:u,onBlur:l,onKeyPressEnter:d,autofocus:g,onKeyUpEscape:v})=>{const b=m*(i?i.length:1),[x,y]=a.useState({kind:"rem",value:b}),[w,_]=a.useState(null);return a.useEffect((()=>{w&&void 0!==g&&w.focus()}),[g,w]),a.useLayoutEffect((()=>{if(""===t)y({kind:"rem",value:b});else{const e=null==w?void 0:w.scrollHeight;y(e?{kind:"px",value:e}:{kind:"rem",value:b})}}),[t,w,i]),a.createElement(h,{className:c,style:{height:e?"rem"===x.kind?s.ux.rem(x.value):s.ux.px(x.value):void 0}},a.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${s.ux.rem(o.xB)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0px;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${s.ux.rem(.875)};\n        font-weight: 400;\n        color: ${p};\n      }\n      .textarea::placeholder {\n        color: ${f};\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      .placeholder {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        font-family: Inter, sans-serif;\n        font-size: ${s.ux.rem(.875)};\n        font-weight: 400;\n        z-index: -1;\n        color: ${f};\n      }\n      `}}),a.createElement("div",{className:"container"},a.createElement("textarea",{className:"textarea",style:{lineHeight:s.ux.rem(m)},value:t,ref:_,onChange:e=>n(e.target.value),placeholder:1===(null==i?void 0:i.length)?i[0]:void 0,disabled:r,onFocus:()=>null==u?void 0:u(),onBlur:()=>null==l?void 0:l(),onKeyPress:e=>{d&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),d())},onKeyUp:e=>{v&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),v())}}),((null==i?void 0:i.length)||0)>1&&""===t?a.createElement("div",{className:"placeholder",style:{lineHeight:s.ux.rem(m)}},(i||[]).map(((e,t)=>a.createElement(a.Fragment,{key:t},e,a.createElement("br",null))))):null))};var v=n(22232),b=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this._capacity=e,this._start=t,this._allowOverflow=n,this._nextId=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._nextId},enumerable:!1,configurable:!0}),e.prototype.newId=function(){var e=this._nextId;if(e>this._capacity){if(!this._allowOverflow)throw new v.ej("ids limit reached: "+this._capacity);this._nextId=e=0}return this._nextId++,e},e.prototype.reset=function(){this._nextId=this._start},e}();const x=new b(999999);var y;!function(e){e.create=function(e){return null!=e?e:x.newId()}}(y||(y={}));var w=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const _=e=>{var{text:t,onChange:n,placeholder:i,disabled:r,className:c,onFocus:u,onBlur:l,onKeyPressEnter:d,autofocus:m,onKeyUpEscape:g}=e,v=w(e,["text","onChange","placeholder","disabled","className","onFocus","onBlur","onKeyPressEnter","autofocus","onKeyUpEscape"]);const[b,x]=a.useState(null);return a.useEffect((()=>{b&&void 0!==m&&b.focus()}),[m,b]),a.createElement(h,{className:c,style:{height:s.ux.rem(1.375)}},a.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${s.ux.rem(o.xB)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${s.ux.rem(.875)};\n        font-weight: 400;\n        color: ${p};\n      }\n      .textBox::placeholder {\n        color: ${f};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `}}),a.createElement("input",Object.assign({},v,{className:"textBox",style:{lineHeight:s.ux.rem(1.375)},value:t,ref:x,onChange:e=>n(e.target.value),placeholder:i,disabled:r,onFocus:()=>null==u?void 0:u(),onBlur:()=>null==l?void 0:l(),onKeyPress:e=>{d&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),d())},onKeyDown:e=>{g&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),g())}})))};var C=n(64015),S=n(90845),k=n(31278),E=n(32952),O=n(78674),I=n(85985),A=n(2834),T=n(74204),R=n(57050),P=n(12187),N=n(9546),D=n(13578),B=n(62172),U=n(53664);const F={padding:`${s.ux.rem(N.F2)} ${s.ux.rem(N.F2+N.Ze)} ${s.ux.rem(N.F2)} ${s.ux.rem(N.qp)}`,border:`1px solid ${D.S5.InteractiveNeutral.Primary.Default}`,borderRadius:s.ux.rem(o.xB),width:s.ux.rem(15),height:s.ux.rem(2),boxSizing:"border-box",position:"relative"},M={position:"absolute",right:s.ux.rem(N.x),top:s.ux.rem(.1875),border:"none",background:"transparent",display:"flex",alignItems:"center",cursor:"pointer",width:s.ux.rem(1.5),height:s.ux.rem(1.5),padding:0},L=Object.assign(Object.assign({},U.Es.iconSizeRems(1.5)),{$nest:{"& svg":{stroke:D.XY.Content.Secondary.Default}}}),G=e=>s.ux.color(B.BlueGray40).toRGBA().fade(e).toString(),j={padding:s.ux.rem(N.F2),background:"white",boxShadow:`0px 0px 0px 0.5px ${B.BlueGray40}, 0px 0px 2px 0.5px ${G(.5)}, 0px 1px 6px 0.5px ${G(.25)}`,borderRadius:s.ux.rem(o.xB),width:s.ux.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:s.ux.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},z={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:s.ux.rem(.875),lineHeight:s.ux.rem(1.375),color:D.XY.Content.Primary.Default,padding:`${s.ux.rem(.1875)} ${s.ux.rem(N.qp)}`,borderRadius:s.ux.rem(o.xB),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:B.Blue0},"& mark":{backgroundColor:"unset",fontWeight:"bold"}}},V={width:s.ux.percent(100),border:"none"},$=s.ux.prefixedStylesheet("select",{container:[F],clearBtn:[M],closeIcon:[L],menu:[j],menuOption:[z],menuOptionPart:[{whiteSpace:"pre"}],inputIframe:[V]}),Z=new b(999999);function H({text:e,placeholder:t,clearButton:n,selectOnBlur:i,label:r,options:o,className:s,filterBy:c=((e,t)=>r(e).toLowerCase().includes(t.toLowerCase())),onInputChange:u,onSelectionChange:l}){const[d,p]=a.useState(!1),f=a.useRef(Z.newId().toString()),[h,m]=a.useState(null),[g,v]=a.useState(null),{styles:b,attributes:x}=(0,T.D)(h,g,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),y=o.filter((t=>c(t,e.trim()))),w=d&&y.length>0,C=a.useMemo((()=>new E.xQ),[]);return S.P.useSubscriptionTo(C.pipe(O.b(50),I.h((e=>!e)),A.b((()=>{p(!1),i&&""!==e.trim()&&l(y.length>0?y[0]:null)})))),a.createElement("div",Object.assign({},(0,P.Sh)($.container,s),{ref:m}),a.createElement(_,{className:$.inputIframe,placeholder:t,onChange:u,text:e,onFocus:()=>{p(!0),C.next(!0)},onBlur:()=>C.next(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":f.current,"aria-expanded":w}),""!==e.trim()&&!!n&&a.createElement("button",{onClick:(0,U.m)((()=>l(null))),className:$.clearBtn,"aria-label":"Clear",type:"button"},a.createElement(k.JO.Close,{className:$.closeIcon})),w&&a.createElement("div",Object.assign({ref:v,style:b.popper},x.popper,{className:$.menu,onFocus:()=>C.next(!0),onBlur:()=>C.next(!1)}),a.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:f.current},y.map((t=>{const n=r(t);return a.createElement("li",{key:n,"aria-label":n,role:"option"},a.createElement("button",{className:$.menuOption,onClick:(0,U.m)((()=>{l(t),p(!1)}))},a.createElement(K,{label:n,pattern:e})))})))))}const K=({label:e,pattern:t})=>{if(""===t.trim())return a.createElement(a.Fragment,null,e);const n=t.trim(),i=e.split(new RegExp(n,"i")),r=(0,R.zG)(i.map(((e,t)=>({token:e,mark:!1,end:t*n.length+i.slice(0,t).join("").length+e.length}))),C.iD({token:"",mark:!0,end:0})).map(((t,i,r)=>t.mark&&i>0?{token:e.slice(r[i-1].end,r[i-1].end+n.length),mark:!0}:{token:t.token,mark:!1})).filter((e=>e.token.length>0));return a.createElement(a.Fragment,null,r.map(((e,t)=>e.mark?a.createElement("mark",{key:t,className:$.menuOptionPart},e.token):a.createElement("span",{key:t,className:$.menuOptionPart},e.token))))},W={border:`1px solid ${D.S5.InteractiveNeutral.Primary.Default}`,borderRadius:s.ux.rem(o.xB),width:s.ux.rem(15),height:s.ux.rem(2),boxSizing:"border-box",position:"relative"},q={padding:`${s.ux.rem(N.F2)} ${s.ux.rem(N.F2+N.Ze)} ${s.ux.rem(N.F2)} ${s.ux.rem(N.qp)}`,width:"100%",height:"100%",border:"none",background:"transparent",position:"relative",cursor:"pointer",display:"flex",alignItems:"center"},Y={fontWeight:400,fontSize:s.ux.rem(.875),lineHeight:s.ux.rem(1.375),color:D.XY.Content.Primary.Default},X=Object.assign(Object.assign({position:"absolute",top:s.ux.rem(N.F2),right:s.ux.rem(N.x)},U.Es.iconSizeRems(1.5)),{$nest:{"& svg":{stroke:D.XY.Content.Secondary.Default}}}),Q=e=>s.ux.color(B.BlueGray40).toRGBA().fade(e).toString(),J={padding:s.ux.rem(N.F2),background:"white",boxShadow:`0px 0px 0px 0.5px ${B.BlueGray40}, 0px 0px 2px 0.5px ${Q(.5)}, 0px 1px 6px 0.5px ${Q(.25)}`,borderRadius:s.ux.rem(o.xB),width:s.ux.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:s.ux.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},ee={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:s.ux.rem(.875),lineHeight:s.ux.rem(1.375),color:D.XY.Content.Primary.Default,padding:`${s.ux.rem(.1875)} ${s.ux.rem(N.qp)}`,borderRadius:s.ux.rem(o.xB),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:B.Blue0}}},te=s.ux.prefixedStylesheet("select",{container:[W],selectBtn:[q],selectBtnLabel:[Y],menu:[J],menuOption:[ee],chevronIcon:[X]}),ne=new b(999999);function ie({label:e,selection:t,className:n,placeholder:i,options:r,onSelectionChange:o,renderOption:s}){const[c,u]=a.useState(!1),l=a.useRef(ne.newId().toString()),d=a.useRef(ne.newId().toString()),[p,f]=a.useState(null),[h,m]=a.useState(null),{styles:g,attributes:v}=(0,T.D)(p,h,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),b=a.useMemo((()=>new E.xQ),[]),x=a.useMemo((()=>b.pipe(O.b(50),I.h((e=>!e)),A.b((()=>{u(!1)})))),[b,u]);return S.P.useSubscriptionTo(x),a.createElement("div",Object.assign({},(0,P.Sh)(te.container,n),{ref:f}),a.createElement("button",{className:te.selectBtn,onFocus:()=>{u(!0),b.next(!0)},onBlur:()=>b.next(!1),type:"button","aria-haspopup":"listbox","aria-owns":l.current,"aria-expanded":c,"aria-labelledby":d.current},a.createElement("div",{id:d.current,className:te.selectBtnLabel},t?s?s(t):e(t):i),a.createElement(k.JO.Arrow,{direction:k.n4.down,className:te.chevronIcon})),c&&a.createElement("div",Object.assign({ref:m,style:g.popper},v.popper,{className:te.menu,onFocus:()=>b.next(!0),onBlur:()=>b.next(!1)}),a.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:l.current},r.map(((t,n)=>{const i=e(t);return a.createElement("li",{key:n,"aria-label":i,role:"option"},a.createElement("button",{className:te.menuOption,onClick:(0,U.m)((()=>{o(t),u(!1)}))},s?s(t):e(t)))})))))}const re={color:B.BlueGray60,fontWeight:400,fontSize:s.ux.rem(.625),lineHeight:s.ux.rem(1),background:B.BlueGray0,borderRadius:s.ux.rem(o.fe),padding:`0 ${s.ux.rem(N.F2)}`,cursor:"default"},oe=s.ux.stylesheet({badge:[re]}),se=({children:e})=>a.createElement("div",{className:oe.badge},e),ae="closeBtn",ce="closeIcon",ue={$nest:{[`&.${ae}.${ae}.${ae}.${ae}`]:{$nest:{[`& .${ce}`]:Object.assign(Object.assign({},U.Es.iconSizeRems(1.5)),{stroke:s.ux.important(D.S5.Content.Primary.Default)})}}}},le={closeButton:s.ux.joinClasses([ae,s.ux.style(ue)]),closeIcon:ce},de=({name:e,className:t,onClick:n})=>a.createElement(r.z.Tertiary,Object.assign({},(0,P.Sh)(le.closeButton,t),{onClick:n,compact:!0,theme:"dark",name:e}),a.createElement(k.JO.Close,{className:le.closeIcon}))},55404:(e,t,n)=>{n.d(t,{Xd:()=>i,gy:()=>ge,oy:()=>h,Bx:()=>be});var i,r=n(14601),o=n(98403),s=n(93508),a=n(16118),c=n(85985),u=n(5114),l=n(22232),d=n(38983),p=n(35152),f=n(57050);!function(e){e.isTooltipOnboardingStep=function(e){return p.TG.StepName.isTooltipOnboardingStep(e.name)}}(i||(i={}));class h{constructor(e,t,n,i,h,m,g){this._sessionActive=e,this._activeStep=t,this._assistantMountActions=n,this.promptsAllocated=m,this._notify=g,this._subs=new r.w,this._assistantElements=d.h.create({}),this._externalElements=d.h.create({}),this._hideAssistantTooltips=d.h.create(!1),this.activeStep=d.h.combine(this._activeStep,this._assistantElements,this._externalElements,this._hideAssistantTooltips,((e,t,n,i)=>(0,f.zG)(e,u.chain((e=>function(e,t,n,i){switch(e){case p.TG.StepName.initial:return(0,f.zG)(u.fromNullable(n[p.nF.initialPopupAnchor]),u.map((e=>({name:p.TG.StepName.initial,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case p.TG.StepName.rewrite:return(0,f.zG)(u.fromNullable(n[p.nF.rewriteTooltipAnchor]),u.map((e=>({name:p.TG.StepName.rewrite,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case p.TG.StepName.prompts:return(0,f.zG)(u.fromNullable(t[p.ec.initialActionsList]),u.map((e=>({name:p.TG.StepName.prompts,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case p.TG.StepName.review:return(0,f.zG)(u.fromNullable(t[p.ec.followUpActionsList]),u.map((e=>({name:p.TG.StepName.review,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));default:(0,l.L0)(e)}}(e,t,n,i)))))),this._subs.add(this._assistantMountActions.subscribe((e=>this._assistantElements.modify((t=>Object.assign(Object.assign({},t),{[e.name]:(0,f.zG)(e.element,u.fold(f.r5,(e=>({reference:e,placement:"left"}))))})))))),this._subs.add(i.subscribe(o.wW(this._externalElements))),this._subs.add(h.subscribe(o.wW(this._hideAssistantTooltips))),this._subs.add(this._sessionActive.pipe(s.O(!1),a.G(),c.h((([e,t])=>e&&!t))).subscribe((()=>this._assistantElements.set({}))))}notify(e){this._notify(e)}dispose(){this._subs.unsubscribe()}}var m=n(34217),g=n(27378),v=n(86545),b=n(89894),x=n(88392),y=n(13578),w=n(9546);const _="tryItOutBtn",C="skipBtn",S=b.ux.rem(x.xB+x.fe),k={width:b.ux.rem(25.875),background:y.XY.Surface.Primary.Default},E={display:"flex",alignItems:"center",justifyContent:"center",height:b.ux.rem(14.5625),width:"100%",backgroundColor:"#00231F",backgroundImage:"url(https://assets.grammarly.com/icons/v1/cheetah-onboarding.2x.png)",backgroundPosition:`top ${b.ux.rem(1)} left 0`,backgroundSize:"100%",backgroundRepeat:"no-repeat",borderTopLeftRadius:S,borderTopRightRadius:S},O={display:"flex",flexDirection:"column",gap:b.ux.rem(w.F2),padding:`${b.ux.rem(w.mh)} ${b.ux.rem(w.x0)} ${b.ux.rem(w.sD)} ${b.ux.rem(w.sD)}`,color:y.XY.Content.Primary.Default},I={display:"flex",flexDirection:"row",alignItems:"center",gap:b.ux.rem(w.x),fontWeight:"bold",fontSize:b.ux.rem(1),lineHeight:b.ux.rem(1.5)},A={fontSize:b.ux.rem(.875),lineHeight:b.ux.rem(1.375)},T={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomLeftRadius:S,borderBottomRightRadius:S,padding:`${b.ux.rem(w.qp)} ${b.ux.rem(w.sD)} ${b.ux.rem(w.qp)} ${b.ux.rem(w.sD)}`,backgroundColor:y.XY.Surface.Secondary.Default,color:y.XY.Content.Secondary.Default,fontSize:b.ux.rem(.875),lineHeight:b.ux.rem(1.3125),$nest:{a:{color:"inherit"}}},R={width:b.ux.rem(12),lineHeight:b.ux.rem(1.25)},P={marginRight:b.ux.rem(.5),$nest:{[`&.${C}.${C}.${C}.${C}`]:{fontSize:b.ux.rem(.875)}}},N={$nest:{[`&.${_}.${_}.${_}.${_}`]:{fontSize:b.ux.rem(.875)}}},D={position:"absolute",top:b.ux.rem(w.x),right:b.ux.rem(w.x)},B={container:b.ux.style(k),image:b.ux.style(E),content:b.ux.style(O),contentHeader:b.ux.style(I),contentText:b.ux.style(A),footer:b.ux.style(T),footerText:b.ux.style(R),footerButtons:b.ux.style({display:"flex",flexDirection:"row",alignItems:"flex-end"}),skipButton:b.ux.joinClasses([C,b.ux.style(P)]),tryItOutButton:b.ux.joinClasses([_,b.ux.style(N)]),link:b.ux.style({display:"inline"}),closeButton:b.ux.style(D)};var U=n(12187),F=n(53664),M=n(74204),L=n(62172);const G=e=>b.ux.color(L.BlueGray40).toRGBA().fade(e).toString(),j={filter:`drop-shadow(0px 0px 0.5px ${L.BlueGray40}) drop-shadow(0px 0px 2px ${G(.5)}) drop-shadow(0px 1px 6px ${G(.25)})`,borderRadius:b.ux.rem(x.xB+x.fe)},z=b.ux.stylesheet({popover:[j]}),V=g.forwardRef((function({placement:e,style:t,arrowColor:n},i){return g.createElement("div",{ref:i,style:{width:33}},g.createElement("svg",{width:33,height:12,viewBox:"0 0 33 12.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign(Object.assign({position:"absolute"},t),{transform:`${(null==t?void 0:t.transform)||""} rotate(${$(e)}deg)`.trimStart()}),Z(e))},g.createElement("path",{d:"M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",fill:n||"white"})))}));function $(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function Z(e){return(null==e?void 0:e.startsWith("bottom"))?{top:-12}:(null==e?void 0:e.startsWith("top"))?{bottom:-12}:(null==e?void 0:e.startsWith("right"))?{transformOrigin:"top left",top:-16.5,left:0}:(null==e?void 0:e.startsWith("left"))?{transformOrigin:"top right",top:-16.5,right:0}:{}}const H=(0,U.xb)((({reference:e,placement:t,offset:n,boundaryAreaPadding:i,className:r,arrowColor:o,children:s})=>{const[a,c]=g.useState(null),[u,l]=g.useState(null),d=(0,F.sJ)(),{styles:p,attributes:f,state:h}=(0,M.D)(e,a,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:u,padding:12}},{name:"preventOverflow",options:{padding:null!=i?i:5}},d]});return g.createElement("div",Object.assign({ref:c,style:p.popper},f.popper,(0,U.Sh)(z.popover,r)),g.createElement(V,{ref:l,style:p.arrow,placement:null==h?void 0:h.placement,arrowColor:o}),s)}));var K=n(90845),W=n(80544),q=n(79692),Y=n(2834);const X=m.UI.Node.make((({view:e,notify:t})=>{const{ref:n,onMount:i}=K.P.useElWatcher(),r=g.useMemo((()=>n.pipe(W.QV(q.E),Y.b((e=>t({kind:p.lG.Kind.mount,name:p.nM.initialPopup,element:e})())))),[n]);return K.P.useSubscriptionTo(r),g.createElement(H,{className:B.container,reference:e("reference"),placement:e("placement"),offset:e("offset"),boundaryAreaPadding:e("boundaryAreaPadding"),arrowColor:y.XY.Surface.Secondary.Default},g.createElement(v.xx,{onClick:t({kind:p.lG.Kind.close,step:p.TG.StepName.initial}),name:"onboardingClose",className:B.closeButton}),g.createElement("div",{className:B.image},g.createElement(v.rN,null)),g.createElement("div",{className:B.content,ref:i},g.createElement("div",{className:B.contentHeader},g.createElement("div",null,"Write faster with GrammarlyGO"),g.createElement(v.Ct,null,"Beta")),g.createElement("div",{className:B.contentText},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips.")),g.createElement("div",{className:B.footer},g.createElement("div",{className:B.footerText},"If you use GrammarlyGO,"," ",g.createElement("a",{href:"https://grammarly.com/terms",rel:"noreferrer",target:"_blank",className:B.link},"additional terms")," ","apply."),g.createElement("div",{className:B.footerButtons},g.createElement(v.zx.Tertiary,{onClick:t({kind:p.lG.Kind.close,step:p.TG.StepName.initial}),className:B.skipButton,name:"skip"},"Skip"),g.createElement(v.zx.Primary,{onClick:t({kind:p.lG.Kind.tryItOut}),className:B.tryItOutButton,name:"tryItOut"},"Try it out"))))}));var Q=n(60797);function J(e){return m.Z.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(Q.oA))}var ee=n(41398),te=n(77176);const ne={animation:`${b.ux.keyframes({from:{opacity:0},to:{opacity:1}})} linear 0.1s`,background:L.Green80,borderRadius:b.ux.rem(w.x),width:b.ux.rem(13.75),color:y.S5.Content.Primary.Default,padding:b.ux.rem(w.mh),fontSize:b.ux.rem(.875),lineHeight:b.ux.rem(1.375),display:"flex",flexDirection:"column",gap:b.ux.rem(w.yC),$nest:{"&[data-popper-reference-hidden='true']":{visibility:"hidden"}}},ie=b.ux.rem(.5),re=b.ux.rem(-.5),oe=L.Green80,se={$nest:{"&[data-placement='bottom']":{top:re,borderLeft:`${ie} solid transparent`,borderRight:`${ie} solid transparent`,borderBottom:`${ie} solid ${oe}`},"&[data-placement='top']":{bottom:re,borderLeft:`${ie} solid transparent`,borderRight:`${ie} solid transparent`,borderTop:`${ie} solid ${oe}`},"&[data-placement='right']":{left:re,borderTop:`${ie} solid transparent`,borderBottom:`${ie} solid transparent`,borderRight:`${ie} solid ${oe}`},"&[data-placement='left']":{right:re,borderTop:`${ie} solid transparent`,borderBottom:`${ie} solid transparent`,borderLeft:`${ie} solid ${oe}`}}},ae=b.ux.stylesheet({tooltip:[ne],arrow:[se]}),ce=(0,U.xb)((({reference:e,placement:t,offset:n,boundaryAreaPadding:i,children:r})=>{var o,s;const[a,c]=g.useState(null),[u,l]=g.useState(null),d=(0,F.sJ)(),{styles:p,attributes:f,state:h}=(0,M.D)(e,a,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:u,padding:12}},{name:"preventOverflow",options:{padding:null!=i?i:5}},d]});return g.createElement("div",Object.assign({ref:c,style:p.popper},f.popper,{className:ae.tooltip}),g.createElement("div",{ref:l,style:p.arrow,className:ae.arrow,"data-placement":(null===(o=null==h?void 0:h.placement)||void 0===o?void 0:o.startsWith("bottom"))?"bottom":(null==h?void 0:h.placement.startsWith("top"))?"top":(null==h?void 0:h.placement.startsWith("right"))?"right":(null===(s=null==h?void 0:h.placement)||void 0===s?void 0:s.startsWith("left"))?"left":void 0}),r)})),ue={position:"absolute",top:b.ux.rem(w.x),right:b.ux.rem(w.x)},le=b.ux.stylesheet({title:[{fontWeight:700}],closeButton:[ue]}),de={[p.TG.StepName.prompts]:{title:"Start with a prompt",description:e=>e?`Choose a suggested prompt, or type your own to get started. You’ll get ${e} each month.`:"Choose a suggested prompt, or type your own to get started."},[p.TG.StepName.review]:{title:"How does this sound?",description:"Adjust it to your liking with additional prompts. Don’t forget to check for any inaccuracies. "},[p.TG.StepName.rewrite]:{title:"Want help rewriting?",description:"Select your text to rewrite it with GrammarlyGO."}};function pe(e){switch(e){case p.TG.StepName.prompts:return p.nM.promptsTooltip;case p.TG.StepName.review:return p.nM.reviewTooltip;case p.TG.StepName.rewrite:return p.nM.rewriteTooltip;default:(0,l.L0)(e)}}const fe=m.UI.Node.make((({state:e,view:t,notify:n})=>{const{ref:i,onMount:r}=K.P.useElWatcher(),o=g.useMemo((()=>i.pipe(ee.M(t("name")),W.QV(q.E),te.U((([e,t])=>({element:e,stepName:t}))),Y.b((({element:e,stepName:t})=>n({kind:p.lG.Kind.mount,name:pe(t),element:e})())))),[i]);return K.P.useSubscriptionTo(o),g.createElement(ce,{reference:t("reference"),placement:t("placement"),offset:t("offset"),boundaryAreaPadding:t("boundaryAreaPadding")},e.pipe(te.U((e=>g.createElement(g.Fragment,null,g.createElement(v.xx,{onClick:n({kind:p.lG.Kind.close,step:e.name}),name:"tooltipClose",className:le.closeButton}),g.createElement("div",{className:le.title},de[e.name].title),g.createElement("div",{ref:r},e.name===p.TG.StepName.prompts?de[e.name].description(e.promptsAllocated):de[e.name].description))))))})),he=m.UI.Union.asOption(fe);function me(e){return m.Z.composeOption(function(e){return m.Z.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(Q.oA,c.h(i.isTooltipOnboardingStep),ee.M(e.promptsAllocated.pipe(te.U(u.toUndefined))),te.U((([e,t])=>Object.assign(Object.assign({},e),{promptsAllocated:t})))))}(e),(()=>e.activeStep.pipe(te.U(u.filter(i.isTooltipOnboardingStep)))))}const ge=m.UI.Union.make("kind",{none:m.UI.Node.empty,initial:X,tooltip:he});var ve=n(76974);function be(e){return m.Z.composeUnion({none:()=>ve.of(null),initial:J(e),tooltip:me(e)},(()=>e.activeStep.view(xe).view((e=>({kind:e})))))}function xe(e){return(0,f.zG)(e,u.filter((e=>e.show)),u.fold((()=>"none"),(e=>{switch(e.name){case p.TG.StepName.initial:return"initial";case p.TG.StepName.prompts:case p.TG.StepName.review:case p.TG.StepName.rewrite:return"tooltip";default:(0,l.L0)(e.name)}})))}},53664:(e,t,n)=>{n.d(t,{Es:()=>i,BO:()=>o,eG:()=>C.e,E9:()=>s,Nv:()=>k,C7:()=>a,uj:()=>_,m:()=>R,NN:()=>c,gM:()=>T,sJ:()=>I});var i={};n.r(i),n.d(i,{heightAndMinHeightRems:()=>D,iconSizeRems:()=>B,widthAndMinWidthRems:()=>N});var r=n(62172);const o=Object.assign(Object.assign({},r),{BrandGreen60:"#018374",BrandGreen80:"#017467"});var s;function a(e=document){return{top:0,left:0,height:e.documentElement.clientHeight,width:e.documentElement.clientWidth}}function c(e,t){return n=>{const i=function(e,t){const n=e.left<t.left?t.left:e.left+e.width>t.left+t.width?t.left+t.width-e.width:e.left,i=e.top<t.top?t.top:e.top+e.height>t.top+t.height?t.top+t.height-e.height:e.top;return Object.assign(Object.assign({},e),{left:n,top:i})}({left:e.left+n.x,top:e.top+n.y,width:e.width,height:e.height},t);return{x:i.left-e.left,y:i.top-e.top}}}!function(e){e.fromCartesian=function({x:e,y:t}){return{top:t,left:e}},e.l1Distance=function(e,t){return Math.abs(e.top-t.top)+Math.abs(e.left-t.left)}}(s||(s={}));var u=n(57050);function l(e){const t=function(e){const t=e.ownerDocument;if(t)return t;throw new Error("target does not have ownerDocument")}(e).defaultView;if(t)return t;throw new Error("active document is detached from a window")}var d,p=n(85985),f=n(28043),h=n(66310),m=n(49708),g=n(2834),v=n(77176),b=n(2768),x=n(55721),y=n(39719),w=n(67434);function _(){return(0,u.ls)(p.h((e=>!!e)),f.x(),h.w((e=>m.R(e,"mousedown").pipe(p.h((e=>!e.button)),g.b((e=>e.preventDefault())),v.U((t=>({element:e,startPos:{x:t.clientX,y:t.clientY}}))),h.w((e=>m.R(l(e.element),"mousemove").pipe(b.R(m.R(l(e.element),"mouseup")),x.p(10),v.U((({clientX:t,clientY:n})=>({kind:"dragInProgress",element:e.element,startPos:e.startPos,delta:{x:t-e.startPos.x,y:n-e.startPos.y}}))),y.l({kind:"dragDone"}))))))),w.R(((e,t)=>"dragDone"===t.kind?{translate:e.translate,lastTranslate:e.translate,dragging:!1,dragStart:!1,dragEnd:e.dragging}:{dragging:!0,dragStart:!e.dragging,dragEnd:!1,lastTranslate:e.lastTranslate,translate:{x:t.delta.x+e.lastTranslate.x,y:t.delta.y+e.lastTranslate.y}}),d.create()))}!function(e){e.create=function(){return{translate:{x:0,y:0},lastTranslate:{x:0,y:0},dragging:!1,dragStart:!1,dragEnd:!1}}}(d||(d={}));var C=n(99341),S=n(36991);function k(e,t){return e.reduce(((e,n)=>(S.s.isInsertString(n)?e.parts.push({text:n.insert,kind:"insert"}):E(n)?e.parts.push({text:"\n",kind:"insert"}):S.s.isDelete(n)?e.index+=n.delete:S.s.isRetain(n)&&(e.parts.push({text:t.substring(e.index,e.index+n.retain),kind:"retain"}),e.index+=n.retain),e)),{parts:[],index:0}).parts}function E(e){var t;return S.s.isInsertEmbed(e)&&!0===(null===(t=e.insert)||void 0===t?void 0:t.linebreak)}var O=n(27378);function I(){return O.useMemo((()=>({name:"nudgeArrow",phase:"afterMain",enabled:!0,fn:()=>{},effect:({instance:e})=>{const t=setTimeout((()=>e.forceUpdate()),0);return()=>clearTimeout(t)}})),[])}var A=n(34530);function T(e){return O.useMemo((()=>({name:"maxSize",phase:"main",enabled:!0,requiresIfExists:["offset","preventOverflow","flip"],fn({state:t,name:n}){const i=(0,A.Z)(t),{x:r,y:o}=t.modifiersData.preventOverflow||{x:0,y:0},{width:s,height:a}=t.rects.popper,[c]=t.placement.split("-"),u="top"===c?"top":"bottom",l={width:s-i["left"===c?"left":"right"]-r,height:a-i[u]-o};t.modifiersData[n]=l,null==e||e(l)}})),[])}function R(e){return t=>{(null==t?void 0:t.isTrusted)&&(null==e||e(t))}}var P=n(89894);function N(e){return{width:P.ux.rem(e),minWidth:P.ux.rem(e)}}function D(e){return{height:P.ux.rem(e),minHeight:P.ux.rem(e)}}function B(e,t){return Object.assign(Object.assign({},N(e)),D(null!=t?t:e))}},99341:(e,t,n)=>{n.d(t,{e:()=>i,n:()=>a});var i,r=n(57050),o=n(48044),s=n(5114);function a(e){return(t,n)=>i=>(0,r.zG)(i,o.cq(e)(t,(0,r.ls)(s.some,n)),s.getOrElse((()=>(0,r.zG)(i,o.ZQ(e)(t,n(s.none))))))}!function(e){e.set=function(e,t){return n=>Object.assign(Object.assign({},n),{[e]:t})}}(i||(i={}))},67394:(e,t,n)=>{n.d(t,{JJ:()=>r,JU:()=>i,r3:()=>o});var i,r,o,s=n(59312),a=n(71249),c=n(45614),u=n(57050),l=n(40327),d=n(8709),p=n(73975),f=n(5114),h=n(22232),m=n(83078),g=n(95195),v=n(89943),b=n(26328),x=n(95574),y=n(81670),w=n(42040),_=n(36991),C=n(52226);!function(e){var t,n;!function(e){e.Important="important",e.Main="main",e.Optional="optional"}(t=e.Type||(e.Type={})),function(e){e.OptionalContext="optional_context"}(n=e.TypeExt||(e.TypeExt={}));var i=function(e){return"object"==typeof e&&null!==e};e.eqAttributes=c.Eh(p.f7((function(t,n){return i(t)&&i(n)?e.eqAttributes.equals(t,n):p.w4.equals(t,n)}))),e.eq=p.MW({type:p.w4,group:f.getEq(p.yv),insert:p.yv,delete:p.lr,retain:p.lr,attributes:e.eqAttributes}),e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&r(t.insert)},e.isInsertGap=function(t){return e.isInsert(t)&&o(t.insert)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.isOptionalContextRetain=function(t){return"retain"in t&&e.isOptionalContextType(t.type)};var r=function(e){return"string"==typeof e},o=function(e){return"object"==typeof e&&null!==e&&"gap"in e};e.isMain=function(t){return t.type===e.Type.Main},e.isOptionalType=function(t){return t===e.Type.Optional},e.isOptionalContextType=function(t){return t===e.TypeExt.OptionalContext},e.isSignificant=function(e){switch(e.type){case t.Main:case t.Important:return!0;case t.Optional:return!1;default:return(0,h.vE)(e.type)}},e.fromRawAbsAlternative=function(e){if(a=e.ops,c=a[0],Boolean(c)&&"retain"in c&&Boolean(c.attributes)&&"optional_context"===c.attributes.type){var t=e.ops,i=t[0],r=t.slice(1),o={retain:i.retain,type:n.OptionalContext,group:f.none};return(0,s.ev)([o],r.map(g),!0)}return e.ops.map(g);var a,c},e.length=d.i.Op.length,e.anonymize=function(t){return e.isInsert(t)?(0,s.pi)((0,s.pi)({},t),{insert:"string"==typeof t.insert?"<".concat(e.length(t),">"):"<embed>"}):t};var a=function(){function n(e){this.ops=e,this.index=0,this.offset=0}return n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(n){Boolean(n)||(n=1/0);var i=this.ops[this.index];if(Boolean(i)){var r=i.type,o=this.offset,s=e.length(i);return n>=s-o?(n=s-o,this.index+=1,this.offset=0):this.offset+=n,e.isDelete(i)?{delete:n,type:r,group:i.group}:e.isRetain(i)?{retain:n,type:r,group:i.group,attributes:!e.isOptionalContextType(r)&&i.attributes}:e.isInsertString(i)?{insert:i.insert.substr(o,n),type:r,group:i.group,attributes:i.attributes}:i}return{retain:1/0,type:t.Optional,group:f.none,attributes:{}}},n.prototype.peekLength=function(){return Boolean(this.ops[this.index])?e.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return Boolean(this.ops[this.index])?e.isDelete(this.ops[this.index])?"delete":e.isRetain(this.ops[this.index])?"retain":"insert":"retain"},n}();e.Iterator=a;var m=(0,u.ls)(f.fromNullable,f.map(c.EG("type")),f.map(c.EG("group")),f.getOrElse((function(){return{}}))),g=function(e){var n,i=function(e){if(null!=(null==e?void 0:e.type))switch(e.type){case"main":return t.Main;case"important":return t.Important;default:return(0,h.vE)(e.type)}return t.Optional}(e.attributes),r=(n=e.attributes,(0,l.pipe)(f.fromNullable(n),f.chain((function(e){return f.fromNullable(e.group)}))));return"insert"in e?{insert:e.insert,type:i,group:r,attributes:m(e.attributes)}:"delete"in e?{delete:e.delete,type:i,group:r}:{retain:e.retain,type:i,group:r,attributes:m(e.attributes)}}}(i||(i={})),function(e){e.fromAlternative=function(e){var t=e.alternative,n=e.fullText;return(0,l.pipe)(t.delta.invert(n),o.fromRawDelta)},e.fromAlternativeBoldified=function(t){var n=t.alternative,i=t.fullText,r=(0,l.pipe)(n.delta.map(_.s.match((function(e){return(0,l.pipe)(e,f.fromPredicate(_.s.isInsertString),f.chain((function(e){return(0,l.pipe)(f.fromNullable(e.attributes),f.map((function(t){return{attributes:t,retain:e.insert.length}})))})),f.filter((function(e){var t=e.attributes;return Boolean(t.bold)})),f.map((function(e){return{retain:e.retain,attributes:{bold:!1}}})))}),(function(e){return f.none}),(function(e){return f.some({retain:e.retain})}))),a.oA,(function(e){return new d.i(e)}),(function(e){return i.compose(e)}));return e.fromAlternative({alternative:n,fullText:r})},e.fromAlternativeListified=function(t){var n=t.alternative,i=t.fullText;return(0,l.pipe)(e.fromAlternative({alternative:n,fullText:i}),(function(e){return(0,l.pipe)(e.delta.ops,a.qr((function(e){return _.s.isInsertString(e)&&"\n"===e.insert&&Boolean(!e.attributes||!Boolean(e.attributes.list))})),f.map((function(t){var n=e.delta.ops,i=n[t];return new d.i((0,s.ev)((0,s.ev)((0,s.ev)([],n.slice(0,t),!0),[(0,s.pi)((0,s.pi)({},i),{attributes:(0,s.pi)((0,s.pi)({},i.attributes),{list:!1})})],!1),n.slice(t+1),!0))})),f.getOrElse((function(){return e.delta})))}),o.fromRawDelta)}}(r||(r={})),function(e){var t;function n(e){return function(t){return i.isInsertGap(t)?(0,s.pi)((0,s.pi)({},t),{insert:e}):t}}function r(e){return new o(e)}e.hasOptionalContext=function(e){return Boolean(e[0])&&i.isOptionalContextRetain(e[0])},function(e){e.Insert="insert",e.Remove="remove",e.Substitution="substitution"}(t=e.Type||(e.Type={})),function(e){function t(t){return t.type===i.Type.Main?f.some(i.isInsert(t)?e.Insert:e.Remove):f.none}e.eq=p.yv,e.fromOperation=t,e.semigroup={concat:function(t,n){switch(t){case e.Insert:return n===e.Remove?e.Substitution:n;case e.Remove:return n===e.Insert?e.Substitution:n;case e.Substitution:return e.Substitution;default:return(0,h.vE)(t)}}},e.monoid=f.getMonoid(e.semigroup),e.parse=(0,a.Lx)(e.monoid)(t)}(t=e.Type||(e.Type={})),e.eq=p.MW({lengthAffected:p.lr,type:f.getEq(t.eq),ops:(0,a.Eh)(i.eq)}),e.fromRawDelta=(0,u.ls)(C.e.AbsAlternative.unsafeFromDelta,i.fromRawAbsAlternative,r),e.fillGaps=function(t,i){return e.hasOptionalContext(t.ops)?r((0,s.ev)([t.ops[0]],t.ops.slice(1).map(n(i)),!0)):r(t.ops.map(n(i)))},e.dismissTransformGroups=function(t,n){var o=a.DZ((function(e){return(0,l.pipe)(e.group,f.filter((function(e){return n.has(e)})),f.fold((function(){return f.some(e)}),(function(){return function(e){return i.isDelete(e)?f.some({type:e.type,group:e.group,retain:e.delete,attributes:{}}):i.isInsert(e)?f.none:f.some(e)}(e)})))}));if(e.hasOptionalContext(t.ops)){var c=t.ops,u=c[0],d=c.slice(1);return r((0,s.ev)([u],(0,l.pipe)(d,o),!0))}return r((0,l.pipe)(t.ops,o))},e.getTransformGroups=function(e){var t=new Set;return e.ops.forEach((function(e){return(0,l.pipe)(e.group,m.bw((function(e){return t.add(e)})))})),t},e.getDeleteOpsGroupsList=function(e){return(0,l.pipe)(e.ops.filter(i.isDelete),a.UI((function(e){return e.group})),a.oA)},e.create=r,e.validate=(0,u.ls)((function(e){return e.ops}),g.DT(v.sq(i.isOptionalContextRetain),(function(e){return"Optional_context operations exist not only at the beginning or at the end of Delta"}))),function(t){t.fromSerialized=function(t){return{context:t.context,alternatives:(0,l.pipe)(t.alternatives,b.UI((function(e){return e.ops})),b.UI(e.create))}},t.fromSubalerts=function(e,t){return{context:e,alternatives:b.UI((0,u.ls)(i.fromRawAbsAlternative,r))(t)}},t.fromRawTransform=function(e){return{context:b.of(e.context),alternatives:b.UI((0,u.ls)(i.fromRawAbsAlternative,r))(e.alternatives)}},t.rebase=function(e){return function(t){return{context:(0,l.pipe)(t.context,b.UI((function(t){return{s:e.transformPosition(t.s,!0),e:e.transformPosition(t.e,!0)}}))),alternatives:(0,l.pipe)(t.alternatives,b.UI((function(t){return(0,l.pipe)(t.rebase(e),f.fold((function(){return t}),u.yR))})))}}},t.copy=function(e){return{context:b.JG(e.context),alternatives:b.JG(e.alternatives)}}}(e.Group||(e.Group={}));var o=function(){function n(e){this.ops=e,this.type=t.parse(this.ops),this.lengthAffected=_.s.calcAffectedLength(this)}return n.prototype.rebase=function(e){var t=e.ops[0];if(!Boolean(t)||_.s.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&d.i.Op.length(t)>this.lengthAffected)return f.some(this);var n=this.ops.length>=2&&_.s.isDelete(this.ops[this.ops.length-2])&&_.s.isInsert(this.ops[this.ops.length-1]);return!Boolean(t)||n&&_.s.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&d.i.Op.length(t)===this.lengthAffected?f.some(this):this._internalRebase(e)},n.prototype._internalRebase=function(t){for(var r=this,o=d.i.Op.iterator(t.ops),s=new i.Iterator(this.ops),a=f.some(new n([])),c=!1;s.hasNext();)if("insert"===o.peekType()){if(c&&(0,l.pipe)(a,m.wo((function(e){return e.ops[e.ops.length-1].type===i.Type.Main}))))return f.none;var u=d.i.Op.length(o.next()),p=(0,l.pipe)(a,f.map((function(e){return e.ops[e.ops.length-1]})),m.MH);if(c&&m.wo((function(e){return e.lengthAffected>0}))(a)){var h={retain:u,type:p.type,group:p.group,attributes:"attributes"in p&&!i.isOptionalContextType(p.type)?p.attributes:{}};a=n._pushOp(a,h)}else a=n._pushOp(a,{retain:u,type:i.Type.Optional,group:f.none,attributes:{}})}else if("insert"===s.peekType()){var g=s.next();if(g.type===i.Type.Main&&"delete"===o.peekType()&&o.offset>0)return f.none;a=n._pushOp(a,g)}else{var v=Math.min(o.peekLength(),s.peekLength()),b=o.next(v),x=s.next(v);_.s.isDelete(b)||(c=s.offset>0,a=n._pushOp(a,i.isDelete(x)?x:i.isOptionalContextType(x.type)?{retain:v,type:i.TypeExt.OptionalContext,group:f.none}:{retain:v,type:x.type,group:x.group,attributes:x.attributes}))}return(0,l.pipe)(a,f.map((function(t){return t.type=e.Type.parse(r.ops),t})))},n._pushOp=function(e,t){return(0,l.pipe)(e,f.chain((function(e){return(0,l.pipe)(x.vM((function(){return e._push(t)})),g.Vn((function(e){return w.C8.Logging.getLogger("Alternative").error("Alternative push error",e),e})),f.fromEither)})))},n.prototype._push=function(e){var t=this.ops.length,n=this.ops[t-1];if(Boolean(n)){if(i.isOptionalContextRetain(e))return i.isOptionalContextRetain(n)?n.retain+=e.retain:i.isRetain(n)&&t<=2?2===t?((0,h.kG)(i.isOptionalContextRetain(this.ops[0]),"OptionalContext is expected in the beginning of alternative but not found",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.ops[0].retain+=e.retain):(this.ops[t]=n,this.ops[t-1]=e):(0,h.kG)(i.isOptionalContextRetain(n)||i.isRetain(n)&&1===t,"Attempted to push optional_context in the middle of alternative ops",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.lengthAffected+=e.retain,this;if(i.isDelete(e)&&i.isDelete(n))return e.type===n.type?n.delete+=e.delete:this.ops.push(e),this.lengthAffected+=e.delete,this;if(i.isInsert(e)&&i.isInsert(n))return e.type===n.type&&"string"==typeof e.insert&&"string"==typeof n.insert&&i.eqAttributes.equals(e.attributes,n.attributes)?n.insert+=e.insert:this.ops.push(e),this;if(i.isRetain(e)&&i.isRetain(n))return e.type===n.type?n.retain+=e.retain:this.ops.push(e),this.lengthAffected+=e.retain,this;this.ops.push(e)}else this.ops=[e];return i.isInsert(e)||(this.lengthAffected+=i.length(e)),this},Object.defineProperty(n.prototype,"delta",{get:function(){return _.s.normalizeDelta(new d.i(this))},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return{ops:this.ops}},n}();e.compose=function(e,t){var n={composedDelta:new d.i,currentFullText:t,reversedAlternatives:[]},i=e.reduce((function(e,t,n){var i=t[0],r=t[1];return(0,l.pipe)(i.rebase(e.composedDelta),f.fold((function(){e.reversedAlternatives.push(g.t$({error:new Error("Could not rebase alternative to composed delta"),delta:i.delta,alternativeIndex:n}))}),(function(t){var i=r({alternative:t,fullText:e.currentFullText});e.composedDelta=e.composedDelta.compose(t.delta),e.currentFullText=e.currentFullText.compose(t.delta),function(e,t){e.forEach((function(n,i){return(0,l.pipe)(n,g.g_(u.Q1,(function(n){e[i]=(0,l.pipe)(n.reversedAlternative.rebase(t.delta),g.Yo((function(){return{error:new Error("Could not rebase reversed alternative to some alternative"),delta:n.reversedAlternative.delta,alternativeIndex:n.alternativeIndex}})),g.UI((function(e){return(0,s.pi)((0,s.pi)({},n),{reversedAlternative:e})})))})))}))}(e.reversedAlternatives,t),e.reversedAlternatives.push(g.F2({reversedAlternative:i,alternativeIndex:n}))}))),e}),n),r=(0,l.pipe)(i.reversedAlternatives,a.oh,y.T.fromSeparatedArray);return(0,s.pi)((0,s.pi)({},i),{reversedAlternatives:r})},e.withoutOptionalOps=function(t){return e.create(t.filter((function(e){return!i.isOptionalType(e.type)})))}}(o||(o={}))},63513:(e,t,n)=>{n.d(t,{lB:()=>x,PZ:()=>C,DI:()=>k,_l:()=>U,Q1:()=>D,F2:()=>m,_Y:()=>N,VD:()=>P,hD:()=>ae,rP:()=>G,JG:()=>g,vv:()=>oe,H5:()=>p,P2:()=>S,y_:()=>O,fA:()=>I,jK:()=>w,Wk:()=>_,e3:()=>L,nw:()=>M,Kd:()=>F,KX:()=>E,JW:()=>h,Mw:()=>R,N_:()=>j,wQ:()=>y,Vm:()=>b,JE:()=>B,at:()=>T,KI:()=>A});var i={};n.r(i),n.d(i,{ErrorKind:()=>r,MessageStartSessionEntryPoint:()=>o});var r,o,s=n(59312),a=n(71249),c=n(57050),u=n(40327),l=n(69243);!function(e){e.Generic="generic",e.Overflow="overflow",e.PromptsLimitExceeded="promptsLimitExceeded",e.SensitiveContent="sensitiveContent",e.ServerOverloaded="serverOverloaded",e.UnsupportedLanguage="unsupportedLanguage"}(r||(r={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite"}(o||(o={}));var d,p,f,h,m,g,v,b,x,y,w,_,C,S,k,E,O,I,A,T,R,P,N,D,B,U,F,M,L,G,j,z=n(5114),V=n(26328),$=n(55415),Z=n(89943),H=n(8125),K=n(95574),W=n(3893),q=n(95195),Y=n(83078),X=n(22232),Q=n(42040),J=n(36991),ee=n(8709),te=n(67394),ne=n(80800),ie=n(52226);d||(d={}),function(e){e.empty=[],e.isLeaf=function(e){return 0===e.length},e.Tree=l.sH("Tree",(function(){return l.IX(l.bc([l.pk,e.Tree]))}))}(p||(p={})),function(e){!function(e){e.sales_crm="sales_crm",e.sales_engagement="sales_engagement",e.sales_enablement="sales_enablement",e.marketing_email_automation="marketing_email_automation",e.marketing_content="marketing_content",e.customer_service="customer_service",e.customer_surveys_surveys="customer_surveys_surveys",e.recruiting="recruiting",e.training_learning="training_learning",e.project_management="project_management",e.legal="legal",e.contractors="contractors",e.human_resources="human_resources",e.email="email",e.business_chat="business_chat"}(e.DomainCategory||(e.DomainCategory={}))}(f||(f={})),function(e){!function(e){e.InQuotes="InQuotes"}(e.SpecialCategory||(e.SpecialCategory={})),function(e){e.GLOBAL="GLOBAL",e.SESSION="SESSION",e.DOCUMENT="DOCUMENT"}(e.ScopeType||(e.ScopeType={})),function(e){e.MUTED_BY_USER="MUTED_BY_USER",e.NOT_ELIGIBLE_FOR_INLINE="NOT_ELIGIBLE_FOR_INLINE",e.NOT_MUTED="NOT_MUTED"}(e.MutedByType||(e.MutedByType={}))}(h||(h={})),function(e){!function(e){e.NOT_RELEVANT="NOT_RELEVANT",e.WRONG_TONE="WRONG_TONE",e.INCORRECT="INCORRECT",e.WRONG_GRAMMAR="WRONG_GRAMMAR",e.OFFENSIVE="OFFENSIVE",e.OTHER="OTHER"}(e.SuggestionRejectionReason||(e.SuggestionRejectionReason={}))}(m||(m={})),function(e){e.mock={bundle:"Test bundle",bundleRank:10,group:"Test Group",rank:1,outcome:"Correctness"}}(g||(g={})),function(e){function t(e){return function(t){return{s:e.s+t.s,e:e.s+t.e,type:t.type}}}function n(e,t){return void 0===t&&(t=!1),0===e.s?c.MZ:function(n){return(0,c.MZ)({ops:(0,s.ev)([{retain:e.s,attributes:t?void 0:{type:ie.e.Edit.TypeExt.OPTIONAL_CONTEXT}}],n.ops,!0)})}}e.prependContextToHighlight=t,e.prependContext=n,e.toAbs=function(e){return x.create({highlights:e.highlights.map(t(e.context)),alternatives:(0,u.pipe)(e,z.fromPredicate((function(e){return void 0!==e.alternatives&&e.alternatives.length>0})),z.map((function(e){return(0,s.pi)((0,s.pi)({},e),{alternatives:V.UI(n(e.context))(e.alternatives)})})),z.map(te.r3.Group.fromRawTransform))})}}(v||(v={})),function(e){var t,n;!function(e){e.create=function(e){return e.toString()}}(t=e.Id||(e.Id={})),function(e){e.rebase=function(e,t){var n=t.transformPosition(e.begin,!0),i=t.transformPosition(e.end,!0),r=(new ee.i).insert(e.text).compose(t.slice(e.begin)).reduce((function(e,t){return J.s.isInsert(t)?"".concat(e).concat(t.insert):e}),"").slice(0,i-n);return(0,s.pi)((0,s.pi)({},e),{begin:n,end:i,text:r})},e.isSquashed=function(e){return e.begin>=e.end},e.fromAttentionHeatmapMessage=function(e){return(0,s.pi)((0,s.pi)({},e),{id:t.create(e.id)})}}(n=e.Range||(e.Range={})),e.fromAttentionHeatmapMessage=function(e){return(0,s.pi)((0,s.pi)({},e),{add:e.add.map(n.fromAttentionHeatmapMessage),update:e.update.map(n.fromAttentionHeatmapMessage),remove:e.remove.map(t.create),attentionScore:(0,u.pipe)(e,z.fromPredicate(ne.v0.AttentionHeatmap.hasAttentionInfo),z.map($.ei("attentionScore"))),showAttentionCard:(0,u.pipe)(e,z.fromPredicate(ne.v0.AttentionHeatmap.hasAttentionInfo),z.map($.ei("showAttentionCard")))})}}(b||(b={})),function(e){e.create=function(e){return e},e.isSquashed=function(e){return e.highlights.some(ie.e.Range.isEmpty)},e.isValidAfterTransform=function(e,n){var i=t(e),r=t(n);return Boolean(Z.Hx(i.highlights,r.highlights,(function(e,t){return e.e-e.s==t.e-t.s})))&&Z.Hx(i.alternatives,r.alternatives,(function(e,t){return Z.Hx(e.ops.filter((0,H.ff)(J.s.isRetain)),t.ops.filter((0,H.ff)(J.s.isRetain)),J.s.isEqual((function(){return!0})))}))},e.rebase=function(t,n){return e.create({highlights:t.highlights.map((function(e){return{s:n.transformPosition(e.s,!0),e:n.transformPosition(e.e,!0),type:e.type}})),alternatives:(0,u.pipe)(t.alternatives,z.map(te.r3.Group.rebase(n)))})};var t=function(e){return{highlights:e.highlights,alternatives:(0,u.pipe)(e.alternatives,z.fold((function(){return[]}),(function(e){return e.alternatives.map((function(e){return e.delta}))})))}}}(x||(x={})),function(e){var t,n,i;function r(e){return void 0===e.drilldownTree&&void 0===e.knowledgeHubSuggestCorrectionUrl&&void 0===e.knowledgeHubRelatedMaterials&&void 0===e.knowledgeHubPointPeople?e:(0,s.pi)((0,s.pi)({},e),{drilldownTree:void 0===e.drilldownTree?void 0:(0,u.pipe)(e.drilldownTree,(function(e){return"object"==typeof e?e:JSON.parse(e)}),p.Tree.decode,K.MH),knowledgeHubRelatedMaterials:void 0===e.knowledgeHubRelatedMaterials?void 0:"object"==typeof e.knowledgeHubRelatedMaterials?e.knowledgeHubRelatedMaterials:JSON.parse(e.knowledgeHubRelatedMaterials),knowledgeHubPointPeople:void 0===e.knowledgeHubPointPeople?void 0:"object"==typeof e.knowledgeHubPointPeople?e.knowledgeHubPointPeople:JSON.parse(e.knowledgeHubPointPeople)})}function o(e,t){(0,u.pipe)(e.ops,a.Ew((function(e){return J.s.isInsert(e)&&(0,u.pipe)(J.s.getAttr(e,"type"),z.exists((function(e){return e===ie.e.Edit.Type.MAIN})))&&"string"==typeof e.insert})),z.map((function(e){var n=e.insert;return t(n)})))}function c(e){return function(t){return t===h.SpecialCategory.InQuotes&&"true"===e.extra_properties.in_quotes}}function l(e){return!f(e)&&!m(e)}function d(e){return void 0!==e.begin&&void 0!==e.end&&void 0!==e.highlightBegin&&void 0!==e.highlightEnd}function f(e){return void 0!==e.cardLayout&&void 0!==e.transformJson}function m(e){return"labels"in e&&"subalerts"in e}function g(e,t,n,i){return l(e)?t(e):f(e)?n(e):i(e)}!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={})),function(e){e.Critical="critical",e.Advanced="advanced"}(t=e.Impact||(e.Impact={})),function(e){e.all="all",e.priority="priority"}(n=e.View||(e.View={})),function(e){e.inline="inline",e.not_inline="not_inline"}(i=e.Inline||(e.Inline={})),e.parseExtraProperties=r,e.fromAlertMessage=function(t){return Object.assign({},t,(0,s.pi)({id:e.Id.create(t.id),cost:Boolean(t.cost)?t.cost:1,extra_properties:r(t.extra_properties)},t.transformJson?{transformJson:v.toAbs(t.transformJson),highlightText:[t.highlightText]}:(0,u.pipe)(W.kP(t.subalerts),z.fold((function(){return{highlightText:[t.highlightText]}}),(function(e){return(0,u.pipe)(function(e,t){return(0,u.pipe)(t,z.fold((function(){return q.t$(new Error("Got corrupted superalert — the labels are missing"))}),(function(t){return function(e,t){if(e.length<2)return q.t$(new Error("There should be more than one subalert, got "+e.length));var n=t.map((function(e){return{matches:0,replacements:new Set,label:e}})),i=n.reduce((function(e,t){return e[t.label]=t,e}),{}),r=W.kP(e[0].transformJson.alternatives);if(n.length>0&&Boolean(z.isNone(r))||!Boolean((0,u.pipe)(r,Y.wo((function(e){return n.length===e.length})))))return q.t$(new Error("Alternatives array length must match labels array length"));for(var a=(0,u.pipe)(r,z.map(V.Su((function(t,i){return o(i,(function(e){return n[t].replacements.add(e)})),v.prependContext(e[0].transformJson.context)(i)}))),z.map((function(t){return i[e[0].label].matches+=1,[V.of(e[0].transformJson.context),t]}))),c=e[0].transformJson.highlights.map(v.prependContextToHighlight(e[0].transformJson.context)),l=[e[0].highlightText],d=function(t){var r=e[t];if(n.length>0){if(void 0===r.transformJson.alternatives)return{value:q.t$(new Error("The alternatives are missing from subalert, expected length: ".concat(n.length)))};if(r.transformJson.alternatives.length!==n.length)return{value:q.t$(new Error("Subalert has incorrect alternatives length: expected ".concat(n.length,", got ").concat(r.transformJson.alternatives.length)))}}a=(0,u.pipe)(a,z.map((function(e){var t=e[0],s=e[1];i[r.label].matches+=1,t.push(r.transformJson.context);for(var a=function(e){var t=r.transformJson.alternatives[e];o(t,(function(t){return n[e].replacements.add(t)})),s[e]=(0,u.pipe)(new ee.i(s[e]),(function(e){return e.compose(e.transform(new ee.i(v.prependContext(r.transformJson.context,!0)(t)),!0))}),ie.e.AbsAlternative.unsafeFromDelta)},c=0;c<s.length;c++)a(c);return[t,s]}))),c.push.apply(c,r.transformJson.highlights.map(v.prependContextToHighlight(r.transformJson.context))),l.push(r.highlightText)},p=1;p<e.length;p++){var f=d(p);if("object"==typeof f)return f.value}return q.F2({subalerts:x.create({alternatives:(0,u.pipe)(a,z.map((function(e){var t=e[0],n=e[1];return te.r3.Group.fromSubalerts(t,n)}))),highlights:c}),labels:n.map((function(e){var t=e.replacements,n=(0,s._T)(e,["replacements"]);return(0,s.pi)((0,s.pi)({},n),{replacementTexts:Array.from(t)})})),highlightText:l})}(e,t)})))}(e,z.fromNullable(t.labels)),q.fS((function(e){return Q.C8.Logging.getLogger("coreclients.capi.data").error("Error repacking superalert",e),{highlightText:[]}})))})))))},e.isFullSentence=function(e){return"true"===e.full_sentence_rewrite||"true"===e.full_sentence_fluency_rewrite},e.belongsToAnySpecialCategory=function(e){var t=c(e);return-1!==Object.values(h.SpecialCategory).findIndex(t)},e.belongsToSpecialCategory=c,e.withPosition=l,e.hasPosition=d,e.withTransformJson=f,e.withAlternatives=function(e){return f(e)&&z.isSome(e.transformJson.alternatives)},e.withSubalerts=m,e.match=g,e.matchBy=function(e,t,n){return function(i){return g(i,e,t,n)}},function(e){function t(e){return e.end-e.begin}function n(e){return e.highlightEnd-e.highlightBegin}e.shift=function(e,t){return{begin:e.begin+t,end:e.end+t,highlightBegin:e.highlightBegin+t,highlightEnd:e.highlightEnd+t}},e.rebase=function(e,t){return{begin:t.transformPosition(e.begin,!0),end:t.transformPosition(e.end,!0),highlightBegin:t.transformPosition(e.highlightBegin,!0),highlightEnd:t.transformPosition(e.highlightEnd,!0)}},e.getReplacementLength=t,e.getHighlightLength=n,e.isSquashed=function(e){return 0===t(e)||0===n(e)},e.hasEqualLength=function(e,i){return t(e)===t(i)&&n(e)===n(i)}}(e.Position||(e.Position={})),e.isPlagiarism=function(e){return void 0!==e.cardLayout&&"Originality"===e.cardLayout.outcome},e.isOneGap=function(e){return void 0!==e.extra_properties&&"gap_transform"in e.extra_properties},e.isTakeaway=function(e){return void 0!==e.extra_properties&&"takeawayScore"in e.extra_properties},e.hasDrilldownTree=function(e){return void 0!==e.extra_properties&&"drilldownTree"in e.extra_properties},e.isShortenIt=function(e){return void 0!==e.extra_properties&&"shorten_it"in e.extra_properties},e.isToneAI=function(e){return void 0!==e.extra_properties&&"tone_slider"in e.extra_properties},e.isEthicalAI=function(e){return void 0!==e.extra_properties&&"ethical_ai_external_link"in e.extra_properties},e.isCitationDetection=function(e){return void 0!==e.extra_properties&&"citation_detection"in e.extra_properties},e.isSuggestedSnippet=function(e){return void 0!==e.extra_properties&&"suggested_snippet_text"in e.extra_properties&&"suggested_snippet_lib_link"in e.extra_properties},e.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.pname},e.isHidden=function(e){return!0===e.hidden},e.isRawAlert=function(e){if(!Boolean(e))return!1;var t=e;return Number.isInteger(t.rev)&&g(t,(function(e){return Number.isInteger(e.begin)&&Number.isInteger(e.end)&&Number.isInteger(e.highlightBegin)&&Number.isInteger(e.highlightEnd)}),(function(e){return e.transformJson.highlights.length>0}),(function(e){return e.labels.length>0}))},e.mock={id:e.Id.create(""),rev:0,pname:"Spelling/BritishVsAmerican/BrInstOfAm/BrInstOfAm",group:"ContextualSpelling",point:"BrInstOfAm",category:"BritishVsAmerican",categoryHuman:"British vs American",hidden:!1,text:"centralise",todo:"correct",minicardTitle:"correct",title:"Inconsistent spelling",cost:1,transforms:["<span class='gr_grammar_del'>centralise</span>→<span class='gr_grammar_ins'>centralize</span>"],details:"<p>One of&nbsp;the most obvious differences between American and British English is&nbsp;the spelling of&nbsp;certain words such as&nbsp;<b>color/colour, learned/learnt,</b> and <b>toward/towards</b>. Typically, the spelling of&nbsp;words like these only varies by&nbsp;one or&nbsp;two letters. In&nbsp;the interest of&nbsp;consistency and clarity, you should use the spelling that will be&nbsp;more familiar to&nbsp;your intended audience.\n",explanation:"<p>The word <b>centralise</b> is&nbsp;a&nbsp;British English spelling. In&nbsp;the interest of&nbsp;consistency, consider replacing it&nbsp;with the American English spelling.\n",examples:'<p><span class="grey">British: I&nbsp;wish you success in&nbsp;all your endeavours.</span><br/><span class="grey">American: I&nbsp;wish you success in&nbsp;all your endeavors.</span><br/><p><span class="grey">British: Sweet yoghurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><span class="grey">American: Sweet yogurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><p><span class="grey">British: Serena moved towards the blinking light.</span><br/><span class="grey">American: Serena moved toward the blinking light.</span><br/>',free:!0,impact:e.Impact.Critical,highlightBegin:5092,highlightEnd:5102,highlightText:[""],begin:5092,end:5102,replacements:["centralize"],extra_properties:{priority:"2"},cardLayout:{bundle:"Fix spelling and grammar",bundleRank:10,group:"Spelling",rank:10,outcome:"Correctness"},transformJson:x.create({highlights:[{s:5092,e:5102}],alternatives:z.none}),view:n.all,inline:i.inline},e.mockPlagiarism={id:e.Id.create(""),rev:0,transforms:[],title:"Citation audit",cost:1,details:"",explanation:"",examples:"",free:!1,impact:e.Impact.Advanced,hidden:!1,todo:"",minicardTitle:"",cardLayout:{bundle:"Plagiarism",bundleRank:10,group:"Unoriginal content",rank:0,outcome:"Originality"},category:"Plagiarism",categoryHuman:"Unoriginal content",begin:156,end:697,text:"",group:"Plagiarism",pname:"Plagiarism/Plagiarism/UnoriginalContent",point:"UnoriginalContent",highlightBegin:156,highlightEnd:697,highlightText:[""],replacements:[],extra_properties:{},transformJson:x.create({highlights:[{s:1,e:40}],alternatives:z.none}),view:n.all,inline:i.not_inline},e.mockWithSubalerts={id:e.Id.create(""),point:"Capitalization",title:"Inconsistent capitalization",details:"<p>For certain words, capitalization preferences can vary between style guides. <i>Internet</i> was once routinely capitalized, for example. However, in recent years many style guides have begun advising writers to lowercase the word: <i>internet</i>. Whether you choose to capitalize a particular term or not, it’s best to choose one style and use it consistently throughout the same document.\n",explanation:"<p>You wrote <b>Country</b> once and <b>country</b> twice. Both spellings are acceptable, but it’s best not to switch back and forth. Choose whether or not to capitalize this word throughout your text.\n",examples:'<p><span class="grey">Inconsistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>Internet</b>, too.</span><br/>',todo:"capitalize consistently",minicardTitle:"capitalize consistently",free:!1,hidden:!1,labels:[{label:"Country",matches:1,replacementTexts:["Country"]},{label:"country",matches:2,replacementTexts:["country"]}],highlightText:["Country","country"],cost:1,subalerts:x.create({highlights:[{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],alternatives:z.some(te.r3.Group.fromSubalerts([{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],[ie.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:ie.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:ie.e.Edit.Type.MAIN}},{insert:"Country",attributes:{type:ie.e.Edit.Type.MAIN}}]}),ie.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:ie.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:ie.e.Edit.Type.MAIN}},{insert:"country",attributes:{type:ie.e.Edit.Type.MAIN}}]})]))}),category:"Inconsistency",text:"",group:"Style",pname:"Style/Inconsistency/Capitalization/Capitalization",rev:0,replacements:[],impact:t.Advanced,extra_properties:{priority:"4"},cardLayout:{bundle:"Keep your style consistent",bundleRank:10,group:"Consistency",rank:160,outcome:"Correctness"},categoryHuman:"Text Inconsistencies",updatable:!0,view:n.all,inline:i.not_inline},e.clearUserTextFields=function(e){var t=e;return t.text,t.replacements,t.highlightText,t.transformJson,t.transforms,t.details,t.explanation,t.examples,(0,s._T)(t,["text","replacements","highlightText","transformJson","transforms","details","explanation","examples"])},e.unsafeGetPosition=function(e){return(0,X.kG)(d(e),"raw alert should have a position"),e},e.unsafeGetTransformJson=function(e){return(0,X.kG)(f(e),"raw alert should have transformJson"),e}}(y||(y={})),function(e){e.NOT_AUTHORIZED="not_authorized",e.SESSION_NOT_INITIALIZED="session_not_initialized",e.BAD_REQUEST="bad_request",e.BACKEND_ERROR="backend_error",e.AUTH_ERROR="auth_error",e.RUNTIME_ERROR="runtime_error",e.ILLEGAL_DICT_WORD="illegal_dict_word",e.TIMEOUT="timeout",e.CANNOT_FIND_SYNONYM="cannot_find_synonym",e.CANNOT_GET_TEXT_STATS="cannot_get_text_stats",e.GB_RULE_ERROR="gb_rule_error"}(w||(w={})),function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR"}(_||(_={})),function(e){e.IGNORE="IGNORE",e.ADD_TO_DICTIONARY="ADD_TO_DICTIONARY",e.LOOKED="LOOKED",e.ACCEPTED="ACCEPTED",e.CLOSED="CLOSED",e.ACKNOWLEDGED="ACKNOWLEDGED",e.HIDE="HIDE",e.LIKE="LIKE",e.DISLIKE="DISLIKE",e.WRONG_SUGGESTION="WRONG_SUGGESTION",e.OFFENSIVE_CONTENT="OFFENSIVE_CONTENT",e.EXPANDED="EXPANDED",e.IGNORE_BULK_ACCEPTED="IGNORE_BULK_ACCEPTED"}(C||(C={})),function(e){e.DRILLDOWN="DRILLDOWN"}(S||(S={})),function(e){e.BULK_ACCEPTED="BULK_ACCEPTED"}(k||(k={})),function(e){e.LENS_CLOSE="LENS_CLOSE",e.LENS_OPEN="LENS_OPEN",e.DISMISS_BY_LENS="DISMISS_BY_LENS"}(E||(E={})),function(e){e.EMOTION_LIKE="EMOTION_LIKE",e.EMOTION_DISLIKE="EMOTION_DISLIKE",e.EMOTION_OFFENSIVE="EMOTION_OFFENSIVE"}(O||(O={})),function(e){e.EMOTION_SENTENCE_LIKE="EMOTION_SENTENCE_LIKE",e.EMOTION_SENTENCE_DISLIKE="EMOTION_SENTENCE_DISLIKE"}(I||(I={})),function(e){e.RECHECK_SHOWN="RECHECK_SHOWN"}(A||(A={})),function(e){e.SYNONYM_ACCEPTED="SYNONYM_ACCEPTED",e.SYNONYM_DISMISSED="SYNONYM_DISMISSED"}(T||(T={})),function(e){e.MUTE="MUTE",e.UNMUTE="UNMUTE"}(R||(R={})),function(e){e.AUTOCORRECT_ACCEPT="AUTOCORRECT_ACCEPT",e.AUTOCORRECT_DISMISS="AUTOCORRECT_DISMISS",e.AUTOCORRECT_REPLACE="AUTOCORRECT_REPLACE"}(P||(P={})),function(e){e.COMPLETION_SHOWN="COMPLETION_SHOWN",e.COMPLETION_IGNORED="COMPLETION_IGNORED",e.COMPLETION_ACCEPTED="COMPLETION_ACCEPTED",e.COMPLETION_REJECTED="COMPLETION_REJECTED"}(N||(N={})),function(e){e.AUTOAPPLY_TRIGGERED="AUTOAPPLY_TRIGGERED",e.AUTOAPPLY_LOOKED="AUTOAPPLY_LOOKED",e.AUTOAPPLY_REVERTED="AUTOAPPLY_REVERTED"}(D||(D={})),function(e){e.SNIPPET_ACCEPTED="SNIPPET_ACCEPTED"}(B||(B={})),function(e){e.ASSISTANT_OPENED="ASSISTANT_OPENED"}(U||(U={})),function(e){e.ACCEPTED="ACCEPTED",e.DISMISSED="DISMISSED"}(F||(F={})),function(e){e.willRemoveAlert=function(e){return e===C.IGNORE||e===C.OFFENSIVE_CONTENT||e===C.WRONG_SUGGESTION||e===C.ADD_TO_DICTIONARY||e===C.LIKE||e===C.DISLIKE||e===C.ACKNOWLEDGED||e===C.HIDE}}(M||(M={})),function(e){e.Inline="inline",e.Hover="hover",e.Click="click",e.SidebarPriority="sidebar-priority",e.Sidebar="sidebar"}(L||(L={})),function(e){e.Context="context",e.GnarContainerId="gnar_containerId"}(G||(G={})),function(e){e.likelyToBeReadTakeaway="LikelyToRead",e.unlikelyToBeReadTakeaway="NotLikelyToRead"}(j||(j={}));var re,oe,se,ae=300;!function(e){e.generatePoints=function(e,t,n){var i=function(e,t){return Math.max(Math.trunc(e/t),(0,H.TN)(e))};return Z.j6(i(e,2),(function(e){return Z.j6(i(t,3),(function(t){return{value:Math.random()*n,alertIds:[],footprint:"".concat(100*e+t)}}))}))}}(re||(re={})),function(e){e.AllowedFeature="CHEETAH",e.version="11.1.0",e.Schema=i}(oe||(oe={})),function(e){!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={}))}(se||(se={}))},80358:(e,t,n)=>{var i,r,o;n.d(t,{AF:()=>i,hX:()=>o,ld:()=>r}),function(e){e.NotFixed="NOT_FIXED"}(i||(i={})),function(e){e.isCheetahEvent=function(e){return"cheetah:chunk"===e.kind||"cheetah:result"===e.kind||"cheetah:setContext"===e.kind||"cheetah:error"===e.kind},e.isCheetahAck=function(e){return"cheetah:ack"===e.kind}}(r||(r={})),function(e){e.is=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return e===t.kind}))}},e.isUserFeedbackWithGeneralScore=function(e){var t;return Boolean(null===(t=e.outcomeScores)||void 0===t?void 0:t.GeneralScore)},e.isUserFeedbackWithScoreStatus=function(e){return Boolean(e.scoreStatus)}}(o||(o={}))},52226:(e,t,n)=>{n.d(t,{e:()=>i});var i,r=n(59312),o=n(57050),s=n(95195),a=n(5114),c=n(36991);!function(e){var t;!function(e){e.isEmpty=function(e){return e.e-e.s==0}}(e.Range||(e.Range={})),function(e){!function(e){e.MAIN="main",e.IMPORTANT="important"}(e.Type||(e.Type={})),function(e){e.OPTIONAL_CONTEXT="optional_context"}(e.TypeExt||(e.TypeExt={}))}(t=e.Edit||(e.Edit={})),function(e){function n(e){return(0,o.zG)(e.ops,a.fromPredicate((function(e){return-1===e.findIndex(n)})),a.fold((function(){return s.t$({ops:(t=e.ops,t.reduce((function(e,t,i){if(n(t,i)){var o=t.attributes,s=(o.type,(0,r._T)(o,["type"]));e.push((0,r.pi)((0,r.pi)({},t),{attributes:s}))}else e.push(t);return e}),[]))});var t}),(function(e){return s.F2({ops:e})})));function n(e,n){return n>0&&c.s.isRetain(e)&&void 0!==e.attributes&&e.attributes.type===t.TypeExt.OPTIONAL_CONTEXT}}e.unsafeFromDelta=function(e){return(0,o.zG)(e,n,s.g_(o.yR,o.yR))},e.fromDelta=n}(e.AbsAlternative||(e.AbsAlternative={}))}(i||(i={}))},36991:(e,t,n)=>{n.d(t,{s:()=>i});var i,r=n(57050),o=n(40327),s=n(8709),a=n(5114),c=n(8125),u=n(73975),l=n(89943),d=n(55415),p=n(26328);!function(e){e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&"string"==typeof t.insert},e.isInsertEmbed=function(t){return e.isInsert(t)&&!e.isInsertString(t)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.containsInsertsOnly=function(t){return t.ops.every(e.isInsert)},e.getInsertLength=s.i.Op.length,e.getTrimmedInsertLength=function(t){return e.isInsertString(t)?t.insert.trim().length:1},e.match=function(t,n,i){return function(r){return e.isInsert(r)?t(r):e.isDelete(r)?n(r):i(r)}},e.getAttr=function(t,n){return e.isDelete(t)||!t.attributes?a.none:"function"==typeof n?(0,o.pipe)(a.fromNullable(Object.keys(t.attributes).find(n)),a.map((function(e){return t.attributes[e]}))):a.fromNullable(t.attributes[n])},e.operationLength=s.i.Op.length;var t=function(e){return-e.delete};e.getOperationOffset=e.match(s.i.Op.length,t,s.i.Op.length);var n=function(e){return function(t){return t.ops.map(e).reduce(c.Sm,0)}},i=function(){return 0};e.calcDiffLength=n(e.match(s.i.Op.length,t,i)),e.calcAmountLength=n(e.match(s.i.Op.length,s.i.Op.length,i)),e.calcAffectedLength=n(e.match(i,s.i.Op.length,s.i.Op.length)),e.rangeOfTheChange=function(t){var n=e.match(r.W8,r.W8,(function(e){return Boolean(e.attributes)}));return t.ops.reduce((function(t,i){var r=t[0],s=t[1],c=e.operationLength(i),u=s+c;return[(0,o.pipe)(r,a.fold((function(){return n(i)?a.some([s,u]):a.none}),(function(e){return n(i)?a.some([e[0],u]):a.some(e)}))),u]}),[a.none,0])[0]},e.isEqual=function(t){return function(n,i){return e.match((function(n){return e.isInsert(i)&&n.insert===i.insert&&t(n.attributes,i.attributes)}),(function(t){return e.isDelete(i)&&t.delete===i.delete}),(function(n){return e.isRetain(i)&&n.retain===i.retain&&t(n.attributes,i.attributes)}))(n)}},e.deltaEq=u.f7((function(t,n){return t.ops.length===n.ops.length&&l.Hx(t.ops,n.ops,e.isEqual(d.vZ))})),e.normalizeDelta=function(e){return(new s.i).compose(e)};var f=function(e){return e&&Object.keys(e).reduce((function(t,n){return t[n]="string"==typeof e[n]?"<".concat(e[n].length,">"):e[n],t}),{})};e.anonymizeTextAndStringAttrs=function(t){return t.ops.reduce((function(t,n){return e.match((function(n){return t.insert("string"==typeof n.insert?"<".concat(e.getInsertLength(n),">"):"<embed>",f(n.attributes))}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain,f(e.attributes))}))(n)}),new s.i)},e.squash=function(e){return e.reduce((function(e,t){return e.compose(new s.i(t))}),new s.i)},e.cleanAllAttrs=function(t){return t.reduce((function(t,n){return e.match((function(e){return t.insert(e.insert)}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain)}))(n)}),new s.i)};var h=function(e){return a.fromNullable(e.attributes)};e.getAttrs=e.match(h,(function(){return a.none}),h),e.skipAny=r.jv;e.cleanDelta=function(t,n){return function(i){var r=function(e){return e&&Object.keys(e).filter((function(e,t,i){return n(e,i.slice(0))})).reduce((function(t,n){return t[n]=e[n],t}),{})};return i.reduce((function(n,i){return e.match((function(e){return n.insert("string"==typeof e.insert||t(e.insert)?e.insert:" ",r(e.attributes))}),(function(e){return n.delete(e.delete)}),(function(e){return n.retain(e.retain,r(e.attributes))}))(i)}),new s.i)}},e.splitToDeleteThenInsert=function(t){return t.reduce((function(t,n){var i=t[0],r=t[1];return e.match((function(e){return[i,r.push(e)]}),(function(e){return[i.push(e),r]}),(function(e){return[i.push({retain:e.retain}),r.push(e)]}))(n)}),[new s.i,new s.i]).map((function(e){return e.chop()}))},e.nonEmpty=function(e){return e.ops.length>0},e.findInDelta=function(e,t){return void 0===t&&(t=i),function(n){for(var i=0,r=0;i<n.ops.length;){var o=n.ops[i];if(e(o))return r+=t(o),a.some(r);r+=s.i.Op.length(o),i+=1}return a.none}},e.getOps=(0,r.ls)(d.ei("ops"),a.fromNullable,a.chain(p.nI))}(i||(i={}))},73353:(e,t,n)=>{n.d(t,{R$:()=>i});var i,r=n(59312),o=n(73975),s=n(57050),a=n(40327),c=n(69243),u=n(32687),l=n(5114),d=n(8125),p=n(95195),f=n(42040),h=n(55485),m=l.getEq({equals:function(e,t){return e===t}}),g=o.f7(d.As);!function(e){var t;!function(e){e.eq=o.MW({type:o.yv,citation:o.yv}),e.defaultAcademic={citation:"apa",type:"essay"},e.withCitationStyle=function(t){return function(n){return(0,r.pi)((0,r.pi)({},n),{domain:l.some("academic"),outcomeContext:l.some((0,r.pi)((0,r.pi)({},e.defaultAcademic),{citation:t}))})}}}(t=e.OutcomeContext||(e.OutcomeContext={})),e.eq=o.MW({domain:l.getEq(o.w4),goals:l.getEq(g),audience:m,style:m,outcomeContext:l.getEq(t.eq)}),function(e){e.eq=o.MW({domain:o.w4,goals:g,audience:o.yv,style:o.yv})}(e.Default||(e.Default={})),e.goals=h.U(["inform","describe","convince","tellStory","sell"]),e.goalsLabels=["Inform","Describe","Convince","Tell A Story"],e.audiences=h.U(["general","knowledgeable","expert"]),e.formalityLevels=h.U(["informal","neutral","formal"]),e.tone=h.U(["neutral","confident","joyful","optimistic","friendly","urgent","analytical","respectful"]),e.domains=h.U(["academic","business","general","mail","casual","creative"]),e.dialects=h.U(["american","british","canadian","australian","indian"]),e.academicTypes=h.U(["essay","report","other"]),e.citation=h.U(["apa","mla","chicago","other"]),e.fromDomain=function(t){return(0,r.pi)((0,r.pi)({},e.unset),{domain:l.some(t)})},e.fromGoals=function(t){return(0,r.pi)((0,r.pi)({},e.unset),{goals:l.some(new Set(t))})},e.unset={goals:l.none,domain:l.none,audience:l.none,style:l.none,dialect:l.none,outcomeContext:l.none},e.defaultContextFallback={goals:new Set,domain:"general",audience:"knowledgeable",style:"neutral",dialect:l.none},e.isStyleValidWithDomain=function(e,t){return"neutral"===t||("formal"===t?"creative"!==e&&"casual"!==e:"academic"!==e)};var n=h.D.literalUnion("goal",e.goals),i=h.D.set(n),d=h.D.literalUnion("audience",e.audiences),v=h.D.literalUnion("formality",e.formalityLevels),b=(h.D.literalUnion("tone",e.tone),h.D.literalUnion("domain",e.domains)),x=h.D.literalUnion("dialect",e.dialects),y=h.D.literalUnion("academicType",e.academicTypes);e.citationType=h.D.literalUnion("citation",e.citation);var w=c.w3({type:y,citation:e.citationType});e.IOType=c.w3({goals:h.D.option(i),domain:h.D.option(b),audience:h.D.option(d),style:h.D.option(v),dialect:h.D.option(x),outcomeContext:h.D.option(w)}),e.IOTypeDefault=c.w3({goals:i,domain:b,audience:d,style:v,dialect:h.D.option(x)}),e.tryParse=function(e){return function(t){return(0,a.pipe)(e(t),p.Vn(u.Rn),p.Vn((function(e){return f.C8.Logging.getLogger("coreclients.dox.context").warn("failed to parse document context",e),e})))}},e.parse=(0,s.ls)(l.fromNullable,l.chain((function(t){return(0,a.pipe)(t,e.tryParse(e.IOType.decode),l.fromEither)}))),e.parseDefault=(0,s.ls)(l.fromNullable,l.chain((0,s.ls)(e.tryParse((function(t){return e.IOTypeDefault.decode(t)})),l.fromEither))),e.serialize=function(t){return e.IOType.encode(t)},e.serializeDefault=function(t){return e.IOTypeDefault.encode(t)}}(i||(i={}))},25938:(e,t,n)=>{n.d(t,{RI:()=>r,zI:()=>o});var i,r,o,s=n(57050),a=n(8709),c=n(95574),u=n(95195),l=n(36991);!function(e){e.split=function(e,t){return[e]}}(i||(i={})),function(e){e.fromArrayOfDeltas=function(t,n){var i=n;return t.map((function(t){var n=e.delta(t,i);return i+=l.s.calcDiffLength(t),n}))};var t=function(){function e(e,t){this.delta=e,this.prevLen=t,this.kind="delta",this._length=void 0,this._amount=void 0,this._text=void 0}return Object.defineProperty(e.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=l.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){return Boolean(this._amount)?this._amount:this._amount=l.s.calcAmountLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=c.vM((function(){return e.delta.ops.reduce((function(e,t){return l.s.match((function(t){return"".concat(e).concat(t.insert)}),(function(){throw new Error("can not get text on delta with deletes")}),(function(){throw new Error("can not get text on delta with retains")}))(t)}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.delta.ops.length},enumerable:!1,configurable:!0}),e.prototype.compose=function(t){return new e(this.delta.compose(t.delta),this.prevLen)},e.prototype.transform=function(t,n){return void 0===n&&(n=!0),new e(t.delta.transform(this.delta,n),this.prevLen+t.length)},e.prototype.toJSON=function(){return{kind:this.kind,delta:l.s.anonymizeTextAndStringAttrs(this.delta),prevLen:this.prevLen,length:this.length,amount:this.amount}},e.prototype.toString=function(){return"Delta(".concat(this.delta,", pl: ").concat(this.prevLen,")")},e}(),n=function(){function e(){this.kind="flush"}return e.prototype.toString=function(){return"Flush()"},e}(),i=function(){function e(e){this.delta=e,this.kind="reset"}return Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=c.vM((function(){return e.delta.ops.reduce((function(e,t){if(l.s.isInsert(t))return"".concat(e).concat(t.insert);throw l.s.isDelete(t)?new Error("can not get text on delta with deletes"):new Error("can not get text on delta with retains")}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=l.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),e.prototype.compose=function(e){return o(this.delta.compose(e.delta))},e.prototype.toJSON=function(){return{kind:this.kind,delta:l.s.anonymizeTextAndStringAttrs(this.delta),length:this.length}},e.prototype.toString=function(){return"Reset(".concat(this.delta,")")},e}();function r(e,n){return void 0===n&&(n=0),new t(e,n)}function o(e){return l.s.containsInsertsOnly(e)?u.F2(new i(e)):u.t$(new Error("Delta should contains only inserts to be Reset, but got ".concat(JSON.stringify(l.s.anonymizeTextAndStringAttrs(e)))))}e.delta=r,e.ins=function(e,t,n){return void 0===n&&(n=0),r((new a.i).retain(e).insert(t),n)},e.del=function(e,t,n){return void 0===n&&(n=0),r((new a.i).retain(e).delete(t),n)},e.ret=function(e,t,n){return void 0===t&&(t=0),r((new a.i).retain(e,n),t)},e.res=o,e.unsafeRes=(0,s.ls)(o,c.MH),e.resFromText=function(e){return c.MH(o((new a.i).insert(e)))},e.flush=function(){return new n},e.isDelta=function(e){return"delta"===e.kind},e.isReset=function(e){return"reset"===e.kind},e.isFlush=function(e){return"flush"===e.kind}}(r||(r={})),function(e){e.diffAsChanges=function(e,t){var n=(new a.i).insert(e),i=(new a.i).insert(t);return r.delta(n.diff(i),e.length)}}(o||(o={}))},35387:(e,t,n)=>{n.d(t,{x:()=>i});var i,r=n(55415);!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=r.v4(t);for(var o in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(i[o]=e[o]);return Object.keys(i).length>0?i:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return r.Xy(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=null!=e?e:{};var n=Object.keys(t).reduce((function(n,i){return t[i]!==e[i]&&void 0!==e[i]&&(n[i]=t[i]),n}),{});return Object.keys(e).reduce((function(n,i){return e[i]!==t[i]&&void 0===t[i]&&(n[i]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var i=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(i).length>0?i:void 0}}}(i||(i={}))},8709:(e,t,n)=>{n.d(t,{i:()=>p});var i=n(19744),r=n.n(i),o=n(55415),s=n(35387);const a=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){Boolean(e)||(e=1/0);var t=this.ops[this.index];if(null==t)return{retain:1/0};var n=this.offset,i=c(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return null!=this.ops[this.index]?c(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return null==this.ops[this.index]?"retain":"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}return[]},e}();function c(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}var u;!function(e){e.iterator=function(e){return new a(e)},e.length=c}(u||(u={}));const l=u;var d=String.fromCharCode(0);var p=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o.v4(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o.Xy(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return null!=(null==e?void 0:e.retain)&&null==e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return null!=t.insert?e+l.length(t):null!=t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+l.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var i=[],r=l.iterator(this.ops),o=0;o<n&&r.hasNext();){var s=void 0;o<t?s=r.next(t-o):(s=r.next(n-o),i.push(s)),o+=l.length(s)}return new e(i)},e.prototype.compose=function(t){var n=l.iterator(this.ops),i=l.iterator(t.ops),r=[],a=i.peek();if(null!=a&&"number"==typeof a.retain&&null==a.attributes){for(var c=a.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),r.push(n.next());a.retain-c>0&&i.next(a.retain-c)}for(var u=new e(r);n.hasNext()||i.hasNext();)if("insert"===i.peekType())u.push(i.next());else if("delete"===n.peekType())u.push(n.next());else{var d=Math.min(n.peekLength(),i.peekLength()),p=n.next(d),f=i.next(d);if("number"==typeof f.retain){var h={};"number"==typeof p.retain?h.retain=d:h.insert=p.insert;var m=s.x.compose(p.attributes,f.attributes,"number"==typeof p.retain);if(m&&(h.attributes=m),u.push(h),!i.hasNext()&&o.Xy(u.ops[u.ops.length-1],h)){var g=new e(n.rest());return u.concat(g).chop()}}else"number"==typeof f.delete&&"number"==typeof p.retain&&u.push(f)}return u.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var i=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:d;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),a=new e,c=r()(i[0],i[1],n),u=l.iterator(this.ops),p=l.iterator(t.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r().INSERT:n=Math.min(p.peekLength(),t),a.push(p.next(n));break;case r().DELETE:n=Math.min(t,u.peekLength()),u.next(n),a.delete(n);break;case r().EQUAL:n=Math.min(u.peekLength(),p.peekLength(),t);var i=u.next(n),c=p.next(n);o.Xy(i.insert,c.insert)?a.retain(n,s.x.diff(i.attributes,c.attributes)):a.push(c).delete(n)}t-=n}})),a.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var i=l.iterator(this.ops),r=new e,o=0;i.hasNext();){if("insert"!==i.peekType())return;var s=i.peek(),a=l.length(s)-i.peekLength(),c="string"==typeof s.insert?s.insert.indexOf(n,a)-a:-1;if(c<0)r.push(i.next());else if(c>0)r.push(i.next(c));else{if(!1===t(r,i.next(1).attributes||{},o))return;o+=1,r=new e}}r.length()>0&&t(r,{},o)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,i){if(Boolean(i.insert))n.delete(l.length(i));else{if(Boolean(i.retain)&&null==i.attributes)return n.retain(i.retain),e+i.retain;if(Boolean(i.delete)||Boolean(i.retain)&&null!=i.attributes){var r=i.delete||i.retain;return t.slice(e,e+r).forEach((function(e){Boolean(i.delete)?n.push(e):Boolean(i.retain)&&null!=i.attributes&&n.retain(l.length(e),s.x.invert(i.attributes,e.attributes))})),e+r}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var i=t,r=l.iterator(this.ops),o=l.iterator(i.ops),a=new e;r.hasNext()||o.hasNext();)if("insert"!==r.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var c=Math.min(r.peekLength(),o.peekLength()),u=r.next(c),d=o.next(c);if(null!=u.delete)continue;null!=d.delete?a.push(d):a.retain(c,s.x.transform(u.attributes,d.attributes,n))}else a.retain(l.length(r.next()));return a.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=l.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.Op=l,e.AttributeMap=s.x,e}()},64757:(e,t,n)=>{n.d(t,{L_:()=>f,RZ:()=>h,zx:()=>p});var i=n(59312),r=n(27378),o=n(19703),s=n(12187);if(1307!=n.j)var a=n(31278);var c=n(86732),u=n(48660),l=n(26215),d=n(94632);function p(e){return r.createElement(l.Y,(0,i.pi)({},f(e,d.LI)))}function f(e,t){var n=(0,s.Sh)(e.className,t).className;return(0,i.pi)((0,i.pi)({},e),{className:n})}!function(e){e.Animated=function(e){return r.createElement(l.Y,(0,i.pi)({},(0,i.pi)((0,i.pi)({},e),{animationMode:Boolean(e.animationMode)?e.animationMode:c.m.FromClickPoint})))},e.Primary=function(t){return r.createElement(e.Animated,(0,i.pi)({styleType:u.Z.Type.Button},f(t,d.T$)))},e.Ghost=function(t){return r.createElement(e.Animated,(0,i.pi)({styleType:u.Z.Type.Button},f(t,d.fk)))},e.Tertiary=function(t){return r.createElement(e.Animated,(0,i.pi)({styleType:u.Z.Type.Base},f(t,d.UF)))},e.Flat=function(t){return r.createElement(e.Animated,(0,i.pi)({},f(t,d.$H)))},e.White=function(t){return r.createElement(e.Animated,(0,i.pi)({},f(t,d.ix)))},e.SidebarFlat=function(e){return r.createElement(l.Y,(0,i.pi)({styleType:u.Z.Type.H3Legacy},f(e,d.HN)))},e.Caps=function(e){return r.createElement(l.Y,(0,i.pi)({styleType:u.Z.Type.H3Legacy},f(e,d.Mp)))},e.Group=function(e){var t=e.children,n=e.className,a=e.align,c=void 0===a?"horizontal":a,u=e.sticky,l=e.name;return r.createElement(o.F.div,(0,i.pi)({role:"group"},(0,s.Sh)(n,"horizontal"===c?!0===u?d.vD:d.ru:d.oc),{"data-name":l}),t)}}(p||(p={}));var h=function(e){var t=e.title,n=e.titleAlign,c=e.buttonClass,u=e.iconClass,f=e.iconWidth,h=e.tooltipClass;return r.createElement(p,{name:"info-button","aria-label":t,tag:l.X.div,title:r.createElement(o.F.div,(0,i.pi)({},(0,s.Sh)(d.bC,h)),r.createElement("p",null,t)),titleAlign:n,className:c},r.createElement(a.JO.Info,{width:f,className:u}))}},51369:(e,t,n)=>{n.d(t,{X:()=>A});var i,r=n(59312),o=n(27378),s=n(57050),a=n(5114),c=n(19962),u=n(44060),l=n(11413),d=n(89894),p=n(32096),f=n(40327),h=n(19703),m=n(49708),g=n(85985),v=n(41398),b=n(24209),x=n(17343),y=n(98403),w=n(38194),_=n(598),C=n(50628),S=n(25781),k=n(83078),E=n(18625);!function(e){var t="scrollaction";e.emit=function(e){return self.dispatchEvent(new CustomEvent(t,{detail:e}))},e.observe=E.P((function(){return m.R(self,t)}))}(i||(i={}));var O=n(42103),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!c.UL.hasPoint(t.getBoundingClientRect(),e)}},t}return(0,r.ZT)(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[],this.context.hide()},t.prototype.render=function(){return o.createElement(h.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=m.R(document,"keydown").pipe(g.h((function(e){return e.keyCode===S.R.ESC_CODE}))),n=m.R(document,"mousedown").pipe(v.M(this.context.state),g.h((function(t){var n=t[0],i=t[1];return(0,f.pipe)(i,a.map((function(e){return e.target})),a.filter((function(){return c.pK(n.target)})),k.wo(e._outOfTarget({x:n.clientX,y:n.clientY})))}))),r=b.T(t,n,m.R(document,"scroll"),i.observe.pipe(g.h((function(e){return"show"===e.detail})))).pipe(x.h(y.PU),w.B());this._subs=[this.context.hasContent.pipe(g.h(Boolean),_.c(r.pipe(C.P()))).subscribe(this.context.hide),this.context.hasContent.pipe(g.h(Boolean),_.c(b.T(y.gw(!0,500),r.pipe(x.h(!1))).pipe(C.P())),g.h(Boolean)).subscribe(this.context.show)]},t.contextType=O.G.Context,t}(o.Component),A=function(){return o.createElement(I,null,(0,s.ls)(a.map((function(e){return o.createElement(l.t.ByAbsoluteRect,(0,r.pi)({rect:c.UL.fromEl(e.target),className:P.container},l.t.Alignment.toSelector(e.alignment),{withPin:!0}),o.createElement("div",{className:P.content},e.content))})),a.toNullable))},T={position:"fixed",zIndex:p.DY,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},R={padding:"".concat(d.ux.rem(.25)," ").concat(d.ux.rem(1)),borderRadius:d.ux.rem(p.fx),background:u.Il.BackgroundTooltip,color:u.Il.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:d.ux.px(.25),fontSize:d.ux.rem(.75),lineHeight:d.ux.rem(1)},P=d.ux.stylesheet({container:[T],content:[R]})},89943:(e,t,n)=>{if(n.d(t,{Bs:()=>d,CE:()=>v,Hx:()=>h,N6:()=>x,OI:()=>l,QK:()=>b,VS:()=>m,e:()=>u,j6:()=>g,sq:()=>w,uK:()=>c,uU:()=>f}),1307!=n.j)var i=n(59312);if(1307!=n.j)var r=n(45701);if(1307!=n.j)var o=n(40327);if(1307!=n.j)var s=n(68983);if(1307!=n.j)var a=n(5114);function c(e,t){return e.reduce((function(e,n){return t(n)?e[0].push(n):e[1].push(n),e}),[[],[]])}function u(e,t){for(var n=-1,i=e.length;n+1!==i;){var r=n+(i-n>>1);t(e[r])?n=r:i=r}var o=n+1;return o===e.length?a.none:a.some(o)}function l(e,t,n){return u(e,(0,s.W)((0,r.gt)(n))(t))}function d(e,t,n){if(t>=0)for(var i=t;i<e.length;++i){var r=n(e[i]);if(a.isSome(r))return a.some({index:i,value:r.value})}return a.none}function p(e,t,n,i){return(0,o.pipe)(function(e,t,n){if(t>=0)for(var i=t;i<e.length;++i)if(n(e[i]))return a.some({index:i,value:e[i]});return a.none}(e,t,i),a.alt((function(){return function(e,t,n){if(t<e.length)for(var i=t;i>=0;--i)if(n(e[i]))return a.some({index:i,value:e[i]});return a.none}(e,n,i)})))}function f(e,t,n){return(0,o.pipe)(p(e,t+1,t-1,(function(e){return a.isSome(n(e))})),a.chain((function(e){return(0,o.pipe)(n(e.value),a.map((function(t){return(0,i.pi)((0,i.pi)({},e),{value:t})})))})))}function h(e,t,n){return e.length===t.length&&e.every((function(e,i){return n(e,t[i])}))}function m(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function g(e,t){return new Array(e).fill(!0).map((function(e,n){return t(n)}))}function v(e,t){var n=t.indexOf(e);return t.slice(0,n).concat(t.slice(n+1))}function b(e,t){var n=t.indexOf(e);t.splice(n,1)}var x=function(e){return function(t){return y(t,e,0)}};function y(e,t,n){return t.length<=n?a.none:(0,o.pipe)(a.fromNullable(e.find(t[n])),a.fold((function(){return y(e,t,n+1)}),a.some))}var w=function(e){return function(t){for(var n=-1,i=0;i<t.length;i++){var r=t[i],o=t[i-1];if(Boolean(o)&&e(o)||!e(r)||(n=i),Boolean(o)&&e(o)&&!e(r)&&0!==n)return!1}return!0}}},25781:(e,t,n)=>{var i,r;n.d(t,{R:()=>i}),function(e){e.ESC_CODE=27,e.ENTER_CODE=13,e.SPACE_CODE=32}(i||(i={})),function(e){e.isLeftMouseButtom=function(e){return 1===e.which||0===e.button}}(r||(r={}))},81670:(e,t,n)=>{n.d(t,{T:()=>i});var i,r=n(71249),o=n(29909),s=n(57050),a=n(40327),c=n(95195);!function(e){function t(e){return e.left.length>0?c.t$({rejected:e.left,recovered:e.right}):c.F2(e.right)}e.URI="RecoverableOperation",e.fromArray=function(n){return function(i){return(0,a.pipe)(i.map((function(e){return(0,a.pipe)(n(e),c.Vn((function(t){return(0,s.bc)(t,e)})))})),r.oh,t,e.mapLeft((function(e){return e.map(o.Yg)})))}},e.map=function(e){return function(t){return(0,a.pipe)(t,c.Pd((function(t){return{rejected:t.rejected,recovered:e(t.recovered)}}),e))}},e.mapLeft=function(e){return function(t){return(0,a.pipe)(t,c.Vn((function(t){return{rejected:e(t.rejected),recovered:t.recovered}})))}},e.flatten=function(e){return function(t){return(0,a.pipe)(t,c.g_((function(t){return(0,a.pipe)(t.recovered,c.g_((function(n){return c.t$({rejected:e.concat(t.rejected,n.rejected),recovered:n.recovered})}),(function(e){return c.t$({rejected:t.rejected,recovered:e})})))}),s.yR))}},e.flatMap=function(t,n){return function(i){return(0,a.pipe)(i,e.map(n),e.flatten(t))}},e.recover=function(e){return c.g_((function(t){return e(t.rejected),t.recovered}),s.yR)},e.tapFailure=function(e){return c.Vn((function(t){return e(t),t}))},e.foldSuccess=function(e){return c.g_((function(t){return e(t.recovered)}),e)},e.of=function(e,t){return void 0===t?c.F2(e):c.t$({recovered:e,rejected:t})},e.fromSeparatedArray=t}(i||(i={}))},3893:(e,t,n)=>{n.d(t,{kP:()=>s});var i=n(26328),r=n(57050),o=n(5114);var s=(0,r.ls)(o.fromNullable,(0,o.chain)(i.nI))},25681:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(53817);function r(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,i.Zq)(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}},31778:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(53817),r=n(53295),o=n(62475),s=n(8269);function a(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),c=1,u=1;t&&(0,i.Re)(e)&&(c=e.offsetWidth>0&&(0,r.NM)(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&(0,r.NM)(a.height)/e.offsetHeight||1);var l=((0,i.kK)(e)?(0,o.Z)(e):self).visualViewport,d=!(0,s.Z)()&&n,p=(a.left+(d&&l?l.offsetLeft:0))/c,f=(a.top+(d&&l?l.offsetTop:0))/u,h=a.width/c,m=a.height/u;return{width:h,height:m,top:f,right:p+h,bottom:f+m,left:p,x:p,y:f}}},76594:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(62475);function r(e){return(0,i.Z)(e).getComputedStyle(e)}},55565:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(53817);function r(e){return(((0,i.kK)(e)?e.ownerDocument:e.document)||self.document).documentElement}},63465:(e,t,n)=>{function i(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:()=>i})},59590:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(62475),r=n(63465),o=n(76594),s=n(53817);function a(e){return["table","td","th"].indexOf((0,r.Z)(e))>=0}var c=n(33087),u=n(11434);function l(e){return(0,s.Re)(e)&&"fixed"!==(0,o.Z)(e).position?e.offsetParent:null}function d(e){for(var t=(0,i.Z)(e),n=l(e);n&&a(n)&&"static"===(0,o.Z)(n).position;)n=l(n);return n&&("html"===(0,r.Z)(n)||"body"===(0,r.Z)(n)&&"static"===(0,o.Z)(n).position)?t:n||function(e){var t=/firefox/i.test((0,u.Z)());if(/Trident/i.test((0,u.Z)())&&(0,s.Re)(e)&&"fixed"===(0,o.Z)(e).position)return null;var n=(0,c.Z)(e);for((0,s.Zq)(n)&&(n=n.host);(0,s.Re)(n)&&["html","body"].indexOf((0,r.Z)(n))<0;){var i=(0,o.Z)(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}},33087:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(63465),r=n(55565),o=n(53817);function s(e){return"html"===(0,i.Z)(e)?e:e.assignedSlot||e.parentNode||((0,o.Zq)(e)?e.host:null)||(0,r.Z)(e)}},62475:(e,t,n)=>{function i(e){if(null==e)return self;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||self}return e}n.d(t,{Z:()=>i})},47370:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(62475);function r(e){var t=(0,i.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},41061:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(31778),r=n(55565),o=n(47370);function s(e){return(0,i.Z)((0,r.Z)(e)).left+(0,o.Z)(e).scrollLeft}},53817:(e,t,n)=>{n.d(t,{Re:()=>o,Zq:()=>s,kK:()=>r});var i=n(62475);function r(e){return e instanceof(0,i.Z)(e).Element||e instanceof Element}function o(e){return e instanceof(0,i.Z)(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,i.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},8269:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(11434);function r(){return!/^((?!chrome|android).)*safari/i.test((0,i.Z)())}},62714:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(76594);function r(e){var t=(0,i.Z)(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}},54489:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(33087),r=n(62714),o=n(63465),s=n(53817);function a(e){return["html","body","#document"].indexOf((0,o.Z)(e))>=0?e.ownerDocument.body:(0,s.Re)(e)&&(0,r.Z)(e)?e:a((0,i.Z)(e))}var c=n(62475);function u(e,t){var n;void 0===t&&(t=[]);var o=a(e),s=o===(null==(n=e.ownerDocument)?void 0:n.body),l=(0,c.Z)(o),d=s?[l].concat(l.visualViewport||[],(0,r.Z)(o)?o:[]):o,p=t.concat(d);return s?p:p.concat(u((0,i.Z)(d)))}},71899:(e,t,n)=>{n.d(t,{BL:()=>u,Ct:()=>g,F2:()=>o,I:()=>r,Pj:()=>p,YP:()=>h,bw:()=>m,d7:()=>a,k5:()=>f,mv:()=>c,t$:()=>s,ut:()=>l,we:()=>i,xs:()=>v,zV:()=>d});var i="top",r="bottom",o="right",s="left",a="auto",c=[i,r,o,s],u="start",l="end",d="clippingParents",p="viewport",f="popper",h="reference",m=c.reduce((function(e,t){return e.concat([t+"-"+u,t+"-"+l])}),[]),g=[].concat(c,[a]).reduce((function(e,t){return e.concat([t,t+"-"+u,t+"-"+l])}),[]),v=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},2012:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(56066),r=n(15262),o=n(46159),s=n(71899);function a(e){var t,n=e.reference,a=e.element,c=e.placement,u=c?(0,i.Z)(c):null,l=c?(0,r.Z)(c):null,d=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2;switch(u){case s.we:t={x:d,y:n.y-a.height};break;case s.I:t={x:d,y:n.y+n.height};break;case s.F2:t={x:n.x+n.width,y:p};break;case s.t$:t={x:n.x-a.width,y:p};break;default:t={x:n.x,y:n.y}}var f=u?(0,o.Z)(u):null;if(null!=f){var h="y"===f?"height":"width";switch(l){case s.BL:t[f]=t[f]-(n[h]/2-a[h]/2);break;case s.ut:t[f]=t[f]+(n[h]/2-a[h]/2)}}return t}},34530:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(71899),r=n(62475),o=n(55565),s=n(41061),a=n(8269);var c=n(76594),u=n(47370),l=n(53295);var d=n(54489),p=n(59590),f=n(53817),h=n(31778),m=n(33087),g=n(25681),v=n(63465);function b(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function x(e,t,n){return t===i.Pj?b(function(e,t){var n=(0,r.Z)(e),i=(0,o.Z)(e),c=n.visualViewport,u=i.clientWidth,l=i.clientHeight,d=0,p=0;if(c){u=c.width,l=c.height;var f=(0,a.Z)();(f||!f&&"fixed"===t)&&(d=c.offsetLeft,p=c.offsetTop)}return{width:u,height:l,x:d+(0,s.Z)(e),y:p}}(e,n)):(0,f.kK)(t)?function(e,t){var n=(0,h.Z)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):b(function(e){var t,n=(0,o.Z)(e),i=(0,u.Z)(e),r=null==(t=e.ownerDocument)?void 0:t.body,a=(0,l.Fp)(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),d=(0,l.Fp)(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),p=-i.scrollLeft+(0,s.Z)(e),f=-i.scrollTop;return"rtl"===(0,c.Z)(r||n).direction&&(p+=(0,l.Fp)(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:d,x:p,y:f}}((0,o.Z)(e)))}function y(e,t,n,i){var r="clippingParents"===t?function(e){var t=(0,d.Z)((0,m.Z)(e)),n=["absolute","fixed"].indexOf((0,c.Z)(e).position)>=0&&(0,f.Re)(e)?(0,p.Z)(e):e;return(0,f.kK)(n)?t.filter((function(e){return(0,f.kK)(e)&&(0,g.Z)(e,n)&&"body"!==(0,v.Z)(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce((function(t,n){var r=x(e,n,i);return t.top=(0,l.Fp)(r.top,t.top),t.right=(0,l.VV)(r.right,t.right),t.bottom=(0,l.VV)(r.bottom,t.bottom),t.left=(0,l.Fp)(r.left,t.left),t}),x(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var w=n(2012),_=n(62631),C=n(8104);function S(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=void 0===r?e.placement:r,a=n.strategy,c=void 0===a?e.strategy:a,u=n.boundary,l=void 0===u?i.zV:u,d=n.rootBoundary,p=void 0===d?i.Pj:d,m=n.elementContext,g=void 0===m?i.k5:m,v=n.altBoundary,x=void 0!==v&&v,S=n.padding,k=void 0===S?0:S,E=(0,_.Z)("number"!=typeof k?k:(0,C.Z)(k,i.mv)),O=g===i.k5?i.YP:i.k5,I=e.rects.popper,A=e.elements[x?O:g],T=y((0,f.kK)(A)?A:A.contextElement||(0,o.Z)(e.elements.popper),l,p,c),R=(0,h.Z)(e.elements.reference),P=(0,w.Z)({reference:R,element:I,strategy:"absolute",placement:s}),N=b(Object.assign({},I,P)),D=g===i.k5?N:R,B={top:T.top-D.top+E.top,bottom:D.bottom-T.bottom+E.bottom,left:T.left-D.left+E.left,right:D.right-T.right+E.right},U=e.modifiersData.offset;if(g===i.k5&&U){var F=U[s];Object.keys(B).forEach((function(e){var t=[i.F2,i.I].indexOf(e)>=0?1:-1,n=[i.we,i.I].indexOf(e)>=0?"y":"x";B[e]+=F[n]*t}))}return B}},8104:(e,t,n)=>{function i(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:()=>i})},56066:(e,t,n)=>{function i(e){return e.split("-")[0]}n.d(t,{Z:()=>i})},89371:(e,t,n)=>{function i(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:()=>i})},46159:(e,t,n)=>{function i(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:()=>i})},15262:(e,t,n)=>{function i(e){return e.split("-")[1]}n.d(t,{Z:()=>i})},53295:(e,t,n)=>{n.d(t,{Fp:()=>i,NM:()=>o,VV:()=>r});var i=Math.max,r=Math.min,o=Math.round},62631:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(89371);function r(e){return Object.assign({},(0,i.Z)(),e)}},11434:(e,t,n)=>{function i(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{Z:()=>i})},85892:(e,t,n)=>{n.d(t,{P:()=>s});var i=n(76974),r=n(2844),o=n(77176);const s={URI:"Observable",map:(e,t)=>e.pipe((0,o.U)(t)),ap:(e,t)=>(0,r.aj)([e,t]).pipe((0,o.U)((([e,t])=>e(t)))),of:e=>(0,i.of)(e)}},19744:e=>{var t=-1,n=10,i=0;function r(e,n,u,l){if(e===n)return e?[[0,e]]:[];if(null!=u){var d=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,r="number"==typeof n?null:n.newRange,o=e.length,s=t.length;if(0===i.length&&(null===r||0===r.length)){var a=i.index,c=e.slice(0,a),u=e.slice(a),l=r?r.index:null,d=a+s-o;if((null===l||l===d)&&!(d<0||d>s)){var p=t.slice(0,d);if((g=t.slice(d))===u){var h=Math.min(a,d);if((b=c.slice(0,h))===(y=p.slice(0,h)))return f(b,c.slice(h),p.slice(h),u)}}if(null===l||l===a){var m=a,g=(p=t.slice(0,m),t.slice(m));if(p===c){var v=Math.min(o-m,s-m);if((x=u.slice(u.length-v))===(w=g.slice(g.length-v)))return f(c,u.slice(0,u.length-v),g.slice(0,g.length-v),x)}}}if(i.length>0&&r&&0===r.length){var b=e.slice(0,i.index),x=e.slice(i.index+i.length);if(!(s<(h=b.length)+(v=x.length))){var y=t.slice(0,h),w=t.slice(s-v);if(b===y&&x===w)return f(b,e.slice(h,o-v),t.slice(h,s-v),x)}}return null}(e,n,u);if(d)return d}var p=s(e,n),h=e.substring(0,p);p=a(e=e.substring(p),n=n.substring(p));var m=e.substring(e.length-p),g=function(e,n){var c;if(!e)return[[1,n]];if(!n)return[[t,e]];var u=e.length>n.length?e:n,l=e.length>n.length?n:e,d=u.indexOf(l);if(-1!==d)return c=[[1,u.substring(0,d)],[0,l],[1,u.substring(d+l.length)]],e.length>n.length&&(c[0][0]=c[2][0]=t),c;if(1===l.length)return[[t,e],[1,n]];var p=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function r(e,t,n){for(var i,r,o,c,u=e.substring(n,n+Math.floor(e.length/4)),l=-1,d="";-1!==(l=t.indexOf(u,l+1));){var p=s(e.substring(n),t.substring(l)),f=a(e.substring(0,n),t.substring(0,l));d.length<f+p&&(d=t.substring(l-f,l)+t.substring(l,l+p),i=e.substring(0,n-f),r=e.substring(n+p),o=t.substring(0,l-f),c=t.substring(l+p))}return 2*d.length>=e.length?[i,r,o,c,d]:null}var o,c,u,l,d,p=r(n,i,Math.ceil(n.length/4)),f=r(n,i,Math.ceil(n.length/2));if(!p&&!f)return null;o=f?p&&p[4].length>f[4].length?p:f:p;e.length>t.length?(c=o[0],u=o[1],l=o[2],d=o[3]):(l=o[0],d=o[1],c=o[2],u=o[3]);var h=o[4];return[c,u,l,d,h]}(e,n);if(p){var f=p[0],h=p[1],m=p[2],g=p[3],v=p[4],b=r(f,m),x=r(h,g);return b.concat([[0,v]],x)}return function(e,n){for(var r=e.length,s=n.length,a=Math.ceil((r+s)/2),c=a,u=2*a,l=new Array(u),d=new Array(u),p=0;p<u;p++)l[p]=-1,d[p]=-1;l[c+1]=0,d[c+1]=0;for(var f=r-s,h=f%2!=0,m=0,g=0,v=0,b=0,x=0;x<a&&!(i>0&&performance.now()>i);x++){for(var y=-x+m;y<=x-g;y+=2){for(var w=c+y,_=(O=y===-x||y!==x&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-y;O<r&&_<s&&e.charAt(O)===n.charAt(_);)O++,_++;if(l[w]=O,O>r)g+=2;else if(_>s)m+=2;else if(h){if((k=c+f-y)>=0&&k<u&&-1!==d[k])if(O>=(S=r-d[k]))return o(e,n,O,_)}}for(var C=-x+v;C<=x-b;C+=2){for(var S,k=c+C,E=(S=C===-x||C!==x&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-C;S<r&&E<s&&e.charAt(r-S-1)===n.charAt(s-E-1);)S++,E++;if(d[k]=S,S>r)b+=2;else if(E>s)v+=2;else if(!h){if((w=c+f-C)>=0&&w<u&&-1!==l[w]){var O;_=c+(O=l[w])-w;if(O>=(S=r-S))return o(e,n,O,_)}}}}return[[t,e],[1,n]]}(e,n)}(e=e.substring(0,e.length-p),n=n.substring(0,n.length-p));return h&&g.unshift([0,h]),m&&g.push([0,m]),c(g,l),g}function o(e,t,n,i){var o=e.substring(0,n),s=t.substring(0,i),a=e.substring(n),c=t.substring(i),u=r(o,s),l=r(a,c);return u.concat(l)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return u(e.charCodeAt(r-1))&&r--,r}function a(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return l(e.charCodeAt(e.length-r))&&r--,r}function c(e,n){e.push([0,""]);for(var i,r=0,o=0,u=0,l="",f="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:u++,f+=e[r][1],r++;break;case t:o++,l+=e[r][1],r++;break;case 0:var h=r-u-o-1;if(n){if(h>=0&&p(e[h][1])){var m=e[h][1].slice(-1);if(e[h][1]=e[h][1].slice(0,-1),l=m+l,f=m+f,!e[h][1]){e.splice(h,1),r--;var g=h-1;e[g]&&1===e[g][0]&&(u++,f=e[g][1]+f,g--),e[g]&&e[g][0]===t&&(o++,l=e[g][1]+l,g--),h=g}}if(d(e[r][1])){m=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),l+=m,f+=m}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(l.length>0||f.length>0){l.length>0&&f.length>0&&(0!==(i=s(f,l))&&(h>=0?e[h][1]+=f.substring(0,i):(e.splice(0,0,[0,f.substring(0,i)]),r++),f=f.substring(i),l=l.substring(i)),0!==(i=a(f,l))&&(e[r][1]=f.substring(f.length-i)+e[r][1],f=f.substring(0,f.length-i),l=l.substring(0,l.length-i)));var v=u+o;0===l.length&&0===f.length?(e.splice(r-v,v),r-=v):0===l.length?(e.splice(r-v,v,[1,f]),r=r-v+1):0===f.length?(e.splice(r-v,v,[t,l]),r=r-v+1):(e.splice(r-v,v,[t,l],[1,f]),r=r-v+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,u=0,o=0,l="",f=""}""===e[e.length-1][1]&&e.pop();var b=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),b=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),b=!0)),r++;b&&c(e,n)}function u(e){return e>=55296&&e<=56319}function l(e){return e>=56320&&e<=57343}function d(e){return l(e.charCodeAt(0))}function p(e){return u(e.charCodeAt(e.length-1))}function f(e,n,i,r){return p(e)||d(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,i],[0,r]])}function h(e,t,o){return i=n>0?performance.now()+n:0,r(e,t,o,!0)}h.INSERT=1,h.DELETE=t,h.EQUAL=0,h.getTimeoutMs=function(){return n},h.setTimeoutMs=function(e){n=e},e.exports=h},48044:(e,t,n)=>{n.d(t,{AO:()=>m,DZ:()=>G,EG:()=>v,Eh:()=>k,FP:()=>w,KM:()=>h,P5:()=>_,Su:()=>z,Sw:()=>y,UI:()=>j,VO:()=>f,Wl:()=>b,XP:()=>p,YH:()=>W,ZN:()=>a,ZQ:()=>g,cS:()=>S,cq:()=>x,dO:()=>q,dp:()=>c,fP:()=>l,hX:()=>L,kr:()=>C,oA:()=>M,oh:()=>Z,qO:()=>K,ri:()=>O,t9:()=>d,tV:()=>$,uK:()=>V,uZ:()=>E,xb:()=>u,xu:()=>Y});var i=n(95195),r=n(73975);if(1307!=n.j)var o=n(57050);var s=n(5114);function a(e,t){return{show:function(n){var i="";return n.forEach((function(n,r){i+="["+e.show(r)+", "+t.show(n)+"], "})),""!==i&&(i=i.substring(0,i.length-2)),"new Map(["+i+"])"}}}function c(e){return e.size}function u(e){return 0===e.size}function l(e){var t=_(e);return function(n,i){if(void 0===i){var r=l(e);return function(e){return r(n,e)}}return s.isSome(t(n,i))}}function d(e){return function(t,n){if(void 0===n){var i=d(e);return function(e){return i(t,e)}}for(var r,o=n.values();!(r=o.next()).done;){var s=r.value;if(e.equals(t,s))return!0}return!1}}function p(e){return function(t){return Array.from(t.keys()).sort(e.compare)}}function f(e){return function(t){return Array.from(t.values()).sort(e.compare)}}function h(e){var t=p(e);return function(e){return function(n){for(var i=[],r=0,o=t(n);r<o.length;r++){var s=o[r];i.push(e(s,n.get(s)))}return i}}}function m(e){return h(e)((function(e,t){return[e,t]}))}function g(e){var t=w(e);return function(e,n){return function(i){var r,o=t(e,i);return s.isNone(o)?((r=new Map(i)).set(e,n),r):o.value[1]!==n?((r=new Map(i)).set(o.value[0],n),r):i}}}function v(e){var t=w(e);return function(e){return function(n){var i=t(e,n);if(s.isSome(i)){var r=new Map(n);return r.delete(i.value[0]),r}return n}}}function b(e){var t=w(e);return function(e,n){return function(i){var r=t(e,i);if(s.isNone(r))return s.none;var o=new Map(i);return o.set(r.value[0],n),s.some(o)}}}function x(e){var t=w(e);return function(e,n){return function(i){var r=t(e,i);if(s.isNone(r))return s.none;var o=new Map(i);return o.set(r.value[0],n(r.value[1])),s.some(o)}}}function y(e){var t=_(e),n=v(e);return function(e){var i=n(e);return function(n){return(0,o.zG)(t(e,n),s.map((function(e){return[e,i(n)]})))}}}function w(e){return function(t,n){if(void 0===n){var i=w(e);return function(e){return i(t,e)}}for(var r,o=n.entries();!(r=o.next()).done;){var a=r.value,c=a[0],u=a[1];if(e.equals(c,t))return s.some([c,u])}return s.none}}function _(e){var t=w(e);return function(n,i){if(void 0===i){var r=_(e);return function(e){return r(n,e)}}return(0,o.zG)(t(n,i),s.map((function(e){e[0];return e[1]})))}}function C(e,t){var n=w(e);return function(i,r){if(void 0===r){var o=C(e,t);return function(e){return o(e,i)}}for(var a,c=i.entries();!(a=c.next()).done;){var u=a.value,l=u[0],d=u[1],p=n(l,r);if(s.isNone(p)||!e.equals(l,p.value[0])||!t.equals(d,p.value[1]))return!1}return!0}}var S=new Map;function k(e,t){var n=C(e,t);return(0,r.f7)((function(e,t){return n(e,t)&&n(t,e)}))}function E(e,t){var n=w(e);return{concat:function(e,i){if(e===S)return i;if(i===S)return e;for(var r,o=new Map(e),a=i.entries();!(r=a.next()).done;){var c=r.value,u=c[0],l=c[1],d=n(u,e);s.isSome(d)?o.set(d.value[0],t.concat(d.value[1],l)):o.set(u,l)}return o},empty:S}}function O(e,t){return new Map([[e,t]])}var I=function(e,t){for(var n,i=new Map,r=e.entries();!(n=r.next()).done;){var o=n.value,s=o[0],a=o[1];i.set(s,t(s,a))}return i},A=function(e,t){for(var n,r=new Map,o=new Map,s=e.entries();!(n=s.next()).done;){var a=n.value,c=a[0],u=t(c,a[1]);(0,i.nM)(u)?r.set(c,u.left):o.set(c,u.right)}return{left:r,right:o}},T=function(e,t){for(var n,i=new Map,r=new Map,o=e.entries();!(n=o.next()).done;){var s=n.value,a=s[0],c=s[1];t(a,c)?r.set(a,c):i.set(a,c)}return{left:i,right:r}},R=function(e,t){for(var n,i=new Map,r=e.entries();!(n=r.next()).done;){var o=n.value,a=o[0],c=t(a,o[1]);s.isSome(c)&&i.set(a,c.value)}return i},P=function(e,t){for(var n,i=new Map,r=e.entries();!(n=r.next()).done;){var o=n.value,s=o[0],a=o[1];t(s,a)&&i.set(s,a)}return i},N=function(e,t){return I(e,(function(e,n){return t(n)}))},D=function(e,t){return P(e,(function(e,n){return t(n)}))},B=function(e,t){return R(e,(function(e,n){return t(n)}))},U=function(e,t){return T(e,(function(e,n){return t(n)}))},F=function(e,t){return A(e,(function(e,n){return t(n)}))},M=function(e){for(var t,n=new Map,i=e.entries();!(t=i.next()).done;){var r=t.value,o=r[0],a=r[1];s.isSome(a)&&n.set(o,a.value)}return n},L=function(e){return function(t){return D(t,e)}},G=function(e){return function(t){return B(t,e)}},j=function(e){return function(t){return N(t,e)}},z=function(e){return function(t){return I(t,e)}},V=function(e){return function(t){return U(t,e)}},$=function(e){return function(t){return F(t,e)}},Z=function(e){for(var t,n=new Map,r=new Map,o=e.entries();!(t=o.next()).done;){var s=t.value,a=s[0],c=s[1];(0,i.nM)(c)?n.set(a,c.left):r.set(a,c.right)}return{left:n,right:r}},H="ReadonlyMap";function K(){return{URI:H,_E:void 0,map:N,mapWithIndex:I,compact:M,separate:Z,filter:D,filterMap:B,partition:U,partitionMap:F,partitionMapWithIndex:A,partitionWithIndex:T,filterMapWithIndex:R,filterWithIndex:P}}function W(e){var t=p(e),n=function(e,n,i){for(var r=n,o=t(e),s=o.length,a=0;a<s;a++){var c=o[a];r=i(c,r,e.get(c))}return r},i=function(e){return function(n,i){for(var r=e.empty,o=t(n),s=o.length,a=0;a<s;a++){var c=o[a];r=e.concat(r,i(c,n.get(c)))}return r}},r=function(e,n,i){for(var r=n,o=t(e),s=o.length-1;s>=0;s--){var a=o[s];r=i(a,e.get(a),r)}return r},o=function(e){return function(n,i){for(var r=e.of(S),o=t(n),s=o.length,a=function(t){var s=o[t],a=n.get(s);r=e.ap(e.map(r,(function(e){return function(t){return new Map(e).set(s,t)}})),i(s,a))},c=0;c<s;c++)a(c);return r}},s=function(e){var t=o(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}};return{URI:H,_E:void 0,map:N,compact:M,separate:Z,filter:D,filterMap:B,partition:U,partitionMap:F,reduce:function(e,t,i){return n(e,t,(function(e,t,n){return i(t,n)}))},foldMap:function(e){var t=i(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}},reduceRight:function(e,t,n){return r(e,t,(function(e,t,i){return n(t,i)}))},traverse:s,sequence:function(e){var t=o(e);return function(e){return t(e,(function(e,t){return t}))}},mapWithIndex:I,reduceWithIndex:n,foldMapWithIndex:i,reduceRightWithIndex:r,traverseWithIndex:o,wilt:function(e){var t=s(e);return function(n,i){return e.map(t(n,i),Z)}},wither:function(e){var t=s(e);return function(n,i){return e.map(t(n,i),M)}}}}var q={URI:H,map:N},Y={URI:H,map:N,compact:M,separate:Z,filter:D,filterMap:B,partition:U,partitionMap:F}},13853:(e,t,n)=>{n.d(t,{$T:()=>k,AO:()=>a,DZ:()=>T,Eh:()=>c,G:()=>u,G0:()=>g,KX:()=>f,Lf:()=>y,Lx:()=>C,Od:()=>E,UI:()=>l,ZN:()=>o,e5:()=>x,hX:()=>h,jV:()=>v,nI:()=>O,oA:()=>I,oP:()=>w,ri:()=>S,t9:()=>m,tS:()=>p,tV:()=>b,u4:()=>_,xu:()=>A,yW:()=>d});var i=n(73975),r=n(57050);function o(e){return{show:function(t){var n="";return t.forEach((function(t){n+=e.show(t)+", "})),""!==n&&(n=n.substring(0,n.length-2)),"new Set(["+n+"])"}}}var s=new Set;function a(e){return function(t){var n=[];return t.forEach((function(e){return n.push(e)})),n.sort(e.compare)}}function c(e){var t=f(e);return(0,i.f7)((function(e,n){return t(e,n)&&t(n,e)}))}function u(e){return function(t){for(var n,i=t.values(),r=!1;!r&&!(n=i.next()).done;)r=e(n.value);return r}}function l(e){var t=m(e);return function(e){return function(n){var i=new Set;return n.forEach((function(n){var r=e(n);t(r,i)||i.add(r)})),i}}}function d(e){return(0,r.ff)(u((0,r.ff)(e)))}function p(e){var t=m(e);return function(e){return function(n){var i=new Set;return n.forEach((function(n){e(n).forEach((function(e){t(e,i)||i.add(e)}))})),i}}}function f(e){var t=m(e);return function(n,i){if(void 0===i){var r=f(e);return function(e){return r(e,n)}}return d((function(e){return t(e,i)}))(n)}}function h(e){return function(t){for(var n,i=t.values(),r=new Set;!(n=i.next()).done;){var o=n.value;e(o)&&r.add(o)}return r}}function m(e){return function(t,n){if(void 0===n){var i=m(e);return function(e){return i(t,e)}}for(var r,o=n.values(),s=!1;!s&&!(r=o.next()).done;)s=e.equals(t,r.value);return s}}function g(e){var t=m(e);return function(n,i){if(void 0===i){var r=g(e);return function(e){return r(n,e)}}if(n===s)return i;if(i===s)return n;var o=new Set(n);return i.forEach((function(e){t(e,o)||o.add(e)})),o}}function v(e){var t=m(e);return function(n,i){if(void 0===i){var r=v(e);return function(e){return r(e,n)}}if(n===s||i===s)return s;var o=new Set;return n.forEach((function(e){t(e,i)&&o.add(e)})),o}}function b(e,t){return function(n){return function(i){for(var r,o=i.values(),s=new Set,a=new Set,c=m(e),u=m(t);!(r=o.next()).done;){var l=n(r.value);switch(l._tag){case"Left":c(l.left,s)||s.add(l.left);break;case"Right":u(l.right,a)||a.add(l.right)}}return{left:s,right:a}}}}function x(e){var t=m(e);return function(n,i){if(void 0===i){var r=x(e);return function(e){return r(e,n)}}return h((function(e){return!t(e,i)}))(n)}}function y(e){return{concat:g(e),empty:s}}function w(e){return{concat:v(e)}}function _(e){var t=a(e);return function(e,n){return function(i){return t(i).reduce(n,e)}}}function C(e,t){var n=a(e);return function(e){return function(i){return n(i).reduce((function(n,i){return t.concat(n,e(i))}),t.empty)}}}function S(e){return new Set([e])}function k(e){var t=m(e);return function(e){return function(n){if(t(e)(n))return n;var i=new Set(n);return i.add(e),i}}}function E(e){return function(t){return function(n){return h((function(n){return!e.equals(t,n)}))(n)}}}function O(e){return function(t){for(var n=t.length,i=new Set,r=m(e),o=0;o<n;o++){var s=t[o];r(s,i)||i.add(s)}return i}}function I(e){return T(e)(r.yR)}function A(e,t){return function(n){var i=m(e),r=m(t),o=new Set,s=new Set;return n.forEach((function(e){switch(e._tag){case"Left":i(e.left,o)||o.add(e.left);break;case"Right":r(e.right,s)||s.add(e.right)}})),{left:o,right:s}}}function T(e){var t=m(e);return function(e){return function(n){var i=new Set;return n.forEach((function(n){var r=e(n);"Some"!==r._tag||t(r.value,i)||i.add(r.value)})),i}}}},60135:(e,t,n)=>{n.d(t,{$6:()=>L,GT:()=>a,Kd:()=>G,Kl:()=>E,LF:()=>s,Lx:()=>T,ML:()=>d,OM:()=>O,Pd:()=>_,RY:()=>u,UI:()=>I,Vn:()=>C,Yg:()=>o,a_:()=>U,dO:()=>B,fw:()=>P,ie:()=>F,l7:()=>k,li:()=>r,nq:()=>R,qC:()=>S,sR:()=>M,u4:()=>A,vP:()=>N,yJ:()=>p,zK:()=>l});var i=n(57050);function r(e){return e[0]}function o(e){return e[1]}function s(e){return[o(e),r(e)]}function a(e){return{URI:D,_E:void 0,map:h,ap:function(t,n){return[r(t)(r(n)),e.concat(o(t),o(n))]}}}var c=function(e){return function(t){return[t,e.empty]}};function u(e){var t=a(e);return{URI:D,_E:void 0,map:t.map,ap:t.ap,of:c(e)}}function l(e){var t=a(e);return{URI:D,_E:void 0,map:t.map,ap:t.ap,chain:function(t,n){var i=n(r(t)),s=i[0],a=i[1];return[s,e.concat(o(t),a)]}}}function d(e){var t=l(e);return{URI:D,_E:void 0,map:t.map,ap:t.ap,chain:t.chain,of:c(e)}}function p(e){var t=l(e);return{URI:D,_E:void 0,map:t.map,ap:t.ap,chain:t.chain,chainRec:function(t,n){for(var i=n(t),s=e.empty,a=r(i);"Left"===a._tag;)s=e.concat(s,o(i)),a=r(i=n(a.left));return[a.right,e.concat(s,o(i))]}}}var f=function(e,t){return(0,i.zG)(e,S(t))},h=function(e,t){return(0,i.zG)(e,I(t))},m=function(e,t,n){return(0,i.zG)(e,_(t,n))},g=function(e,t){return(0,i.zG)(e,C(t))},v=function(e,t){return(0,i.zG)(e,k(t))},b=function(e,t,n){return(0,i.zG)(e,A(t,n))},x=function(e){var t=T(e);return function(e,n){return(0,i.zG)(e,t(n))}},y=function(e,t,n){return(0,i.zG)(e,R(t,n))},w=function(e){var t=P(e);return function(e,n){return(0,i.zG)(e,t(n))}},_=function(e,t){return function(n){return[t(r(n)),e(o(n))]}},C=function(e){return function(t){return[r(t),e(o(t))]}},S=function(e){return function(t){return[r(t),o(e)]}},k=function(e){return function(t){return[e(t),o(t)]}},E=r,O=k(i.yR),I=function(e){return function(t){return[e(r(t)),o(t)]}},A=function(e,t){return function(n){return t(e,r(n))}},T=function(){return function(e){return function(t){return e(r(t))}}},R=function(e,t){return function(n){return t(r(n),e)}},P=function(e){return function(t){return function(n){return e.map(t(r(n)),(function(e){return[e,o(n)]}))}}},N=function(e){return function(t){return e.map(r(t),(function(e){return[e,o(t)]}))}},D="ReadonlyTuple",B={URI:D,map:h},U={URI:D,bimap:m,mapLeft:g},F={URI:D,compose:f},M={URI:D,map:h,extend:v,extract:E},L={URI:D,reduce:b,foldMap:x,reduceRight:y},G={URI:D,map:h,reduce:b,foldMap:x,reduceRight:y,traverse:w,sequence:N}},62965:(e,t,n)=>{n.d(t,{F2:()=>a,Pd:()=>m,UI:()=>h,Uo:()=>p,Vn:()=>g,a1:()=>x,dk:()=>l,fj:()=>d,g_:()=>f,t$:()=>s,tS:()=>w});var i=n(95195),r=n(57050),o=n(99950),s=(0,r.ls)(i.t$,o.of),a=(0,r.ls)(i.F2,o.of),c=o.map(i.F2),u=o.map(i.t$),l=(0,r.ls)(o.fromIO,c),d=(o.fromIO,o.fromIO),p=1307!=n.j?i.g_(s,(function(e){return a(e)})):null;var f=(0,r.ls)(i.g_,o.chain);i.LF;var h=function(e){return o.map(i.UI(e))},m=(0,r.ls)(i.Pd,o.map),g=function(e){return o.map(i.Vn(e))},v=function(e){return(0,r.ls)(o.map((function(e){return function(t){return i.sL(t)(e)}})),o.ap(e))},b=v,x=function(e){return(0,r.ls)(h((function(){return function(e){return e}})),b(e))},y=function(e){return function(t){return(0,r.zG)(t,o.chain(i.g_(s,e)))}},w=y},93756:(e,t,n)=>{if(n.d(t,{EK:()=>p,Eh:()=>l,F2:()=>s,Hk:()=>a,IS:()=>d,Pd:()=>v,Qp:()=>g,Vn:()=>b,WP:()=>m,ZN:()=>u,g_:()=>c,nM:()=>f,t$:()=>o,tO:()=>h}),1307!=n.j)var i=n(73975);var r=n(5114);n(57050);function o(e){return{_tag:"Left",left:e}}function s(e){return{_tag:"Right",right:e}}function a(e,t){return{_tag:"Both",left:e,right:t}}function c(e,t,n){return function(i){switch(i._tag){case"Left":return e(i.left);case"Right":return t(i.right);case"Both":return n(i.left,i.right)}}}c(s,o,(function(e,t){return a(t,e)}));function u(e,t){return{show:c((function(t){return"left("+e.show(t)+")"}),(function(e){return"right("+t.show(e)+")"}),(function(n,i){return"both("+e.show(n)+", "+t.show(i)+")"}))}}function l(e,t){return(0,i.f7)((function(n,i){return f(n)?f(i)&&e.equals(n.left,i.left):h(n)?h(i)&&t.equals(n.right,i.right):m(i)&&e.equals(n.left,i.left)&&t.equals(n.right,i.right)}))}function d(e){return f(e)?(0,r.some)(e.left):h(e)?r.none:(0,r.some)(e.left)}function p(e){return f(e)?r.none:(h(e),(0,r.some)(e.right))}function f(e){return"Left"===e._tag}function h(e){return"Right"===e._tag}function m(e){return"Both"===e._tag}function g(e,t){return(0,r.isNone)(e)?(0,r.isNone)(t)?r.none:(0,r.some)(s(t.value)):(0,r.isNone)(t)?(0,r.some)(o(e.value)):(0,r.some)(a(e.value,t.value))}var v=function(e,t){return function(n){return f(n)?o(e(n.left)):h(n)?s(t(n.right)):a(e(n.left),t(n.right))}},b=function(e){return function(t){return f(t)?o(e(t.left)):m(t)?a(e(t.left),t.right):t}}},29909:(e,t,n)=>{n.d(t,{Pd:()=>s,UI:()=>a,Yg:()=>o,li:()=>r});var i=n(60135),r=i.li,o=i.Yg,s=(i.LF,i.GT,i.RY,i.zK,i.ML,i.yJ,i.dO.map,i.a_.bimap,i.a_.mapLeft,i.ie.compose,i.sR.extend,i.$6.reduce,i.$6.foldMap,i.$6.reduceRight,i.Kd.traverse,i.Pd),a=(i.Vn,i.qC,i.OM,i.l7,i.Kl,i.Lx,i.UI);i.u4,i.nq,i.fw,i.vP},54335:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,i="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,c,u,l;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(c=a;0!=c--;)if(!o(e[c],s[c]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!s.has(c.value[0]))return!1;for(l=e.entries();!(c=l.next()).done;)if(!o(c.value[1],s.get(c.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(c=a;0!=c--;)if(e[c]!==s[c])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(u=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(c=a;0!=c--;)if(!Object.prototype.hasOwnProperty.call(s,u[c]))return!1;if(t&&e instanceof Element)return!1;for(c=a;0!=c--;)if(("_owner"!==u[c]&&"__v"!==u[c]&&"__o"!==u[c]||!e.$$typeof)&&!o(e[u[c]],s[u[c]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},74204:(e,t,n)=>{n.d(t,{D:()=>ie});var i=n(27378),r=n(31542),o=n(31778),s=n(47370),a=n(62475),c=n(53817);var u=n(63465),l=n(41061),d=n(55565),p=n(62714),f=n(53295);function h(e,t,n){void 0===n&&(n=!1);var i,r,h=(0,c.Re)(t),m=(0,c.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,f.NM)(t.width)/e.offsetWidth||1,i=(0,f.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),g=(0,d.Z)(t),v=(0,o.Z)(e,m,n),b={scrollLeft:0,scrollTop:0},x={x:0,y:0};return(h||!h&&!n)&&(("body"!==(0,u.Z)(t)||(0,p.Z)(g))&&(b=(i=t)!==(0,a.Z)(i)&&(0,c.Re)(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:(0,s.Z)(i)),(0,c.Re)(t)?((x=(0,o.Z)(t,!0)).x+=t.clientLeft,x.y+=t.clientTop):g&&(x.x=(0,l.Z)(g))),{x:v.left+b.scrollLeft-x.x,y:v.top+b.scrollTop-x.y,width:v.width,height:v.height}}function m(e){var t=(0,o.Z)(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}var g=n(54489),v=n(59590),b=n(71899);function x(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}var y={placement:"bottom",modifiers:[],strategy:"absolute"};function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function _(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?y:r;return function(e,t,n){void 0===n&&(n=o);var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},y,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,d={state:a,setOptions:function(n){var r="function"==typeof n?n(a.options):n;p(),a.options=Object.assign({},o,a.options,r),a.scrollParents={reference:(0,c.kK)(e)?(0,g.Z)(e):e.contextElement?(0,g.Z)(e.contextElement):[],popper:(0,g.Z)(t)};var s=function(e){var t=x(e);return b.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,a.options.modifiers)));return a.orderedModifiers=s.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:a,name:t,instance:d,options:i}),s=function(){};u.push(o||s)}})),d.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(w(t,n)){a.rects={reference:h(t,(0,v.Z)(n),"fixed"===a.options.strategy),popper:m(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var r=a.orderedModifiers[i],o=r.fn,s=r.options,c=void 0===s?{}:s,u=r.name;"function"==typeof o&&(a=o({state:a,options:c,name:u,instance:d})||a)}else a.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){p(),l=!0}};if(!w(e,t))return d;function p(){u.forEach((function(e){return e()})),u=[]}return d.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var C={passive:!0};const S={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,s=i.resize,c=void 0===s||s,u=(0,a.Z)(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,C)})),c&&u.addEventListener("resize",n.update,C),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,C)})),c&&u.removeEventListener("resize",n.update,C)}},data:{}};var k=n(2012);const E={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,k.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var O=n(76594),I=n(56066),A=n(15262),T={top:"auto",right:"auto",bottom:"auto",left:"auto"};function R(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,c=e.position,u=e.gpuAcceleration,l=e.adaptive,p=e.roundOffsets,h=e.isFixed,m=s.x,g=void 0===m?0:m,x=s.y,y=void 0===x?0:x,w="function"==typeof p?p({x:g,y}):{x:g,y};g=w.x,y=w.y;var _=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),S=b.t$,k=b.we,E=self;if(l){var I=(0,v.Z)(n),A="clientHeight",R="clientWidth";if(I===(0,a.Z)(n)&&(I=(0,d.Z)(n),"static"!==(0,O.Z)(I).position&&"absolute"===c&&(A="scrollHeight",R="scrollWidth")),r===b.we||(r===b.t$||r===b.F2)&&o===b.ut)k=b.I,y-=(h&&I===E&&E.visualViewport?E.visualViewport.height:I[A])-i.height,y*=u?1:-1;if(r===b.t$||(r===b.we||r===b.I)&&o===b.ut)S=b.F2,g-=(h&&I===E&&E.visualViewport?E.visualViewport.width:I[R])-i.width,g*=u?1:-1}var P,N=Object.assign({position:c},l&&T),D=!0===p?function(e){var t=e.x,n=e.y,i=self.devicePixelRatio||1;return{x:(0,f.NM)(t*i)/i||0,y:(0,f.NM)(n*i)/i||0}}({x:g,y}):{x:g,y};return g=D.x,y=D.y,u?Object.assign({},N,((P={})[k]=C?"0":"",P[S]=_?"0":"",P.transform=(E.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",P)):Object.assign({},N,((t={})[k]=C?y+"px":"",t[S]=_?g+"px":"",t.transform="",t))}const P={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,u={placement:(0,I.Z)(t.placement),variation:(0,A.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,R(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,R(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const N={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];(0,c.Re)(r)&&(0,u.Z)(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,c.Re)(i)&&(0,u.Z)(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};const D={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=b.Ct.reduce((function(e,n){return e[n]=function(e,t,n){var i=(0,I.Z)(e),r=[b.t$,b.we].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[b.t$,b.F2].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],c=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=s}};var B={left:"right",right:"left",bottom:"top",top:"bottom"};function U(e){return e.replace(/left|right|bottom|top/g,(function(e){return B[e]}))}var F={start:"end",end:"start"};function M(e){return e.replace(/start|end/g,(function(e){return F[e]}))}var L=n(34530);const G={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,u=n.padding,l=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=(0,I.Z)(g),x=c||(v===g||!h?[U(g)]:function(e){if((0,I.Z)(e)===b.d7)return[];var t=U(e);return[M(e),t,M(t)]}(g)),y=[g].concat(x).reduce((function(e,n){return e.concat((0,I.Z)(n)===b.d7?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?b.Ct:c,l=(0,A.Z)(i),d=l?a?b.bw:b.bw.filter((function(e){return(0,A.Z)(e)===l})):b.mv,p=d.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=(0,L.Z)(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[(0,I.Z)(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:l,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,C=new Map,S=!0,k=y[0],E=0;E<y.length;E++){var O=y[E],T=(0,I.Z)(O),R=(0,A.Z)(O)===b.BL,P=[b.we,b.I].indexOf(T)>=0,N=P?"width":"height",D=(0,L.Z)(t,{placement:O,boundary:l,rootBoundary:d,altBoundary:p,padding:u}),B=P?R?b.F2:b.t$:R?b.I:b.we;w[N]>_[N]&&(B=U(B));var F=U(B),G=[];if(o&&G.push(D[T]<=0),a&&G.push(D[B]<=0,D[F]<=0),G.every((function(e){return e}))){k=O,S=!1;break}C.set(O,G)}if(S)for(var j=function(e){var t=y.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},z=h?3:1;z>0;z--){if("break"===j(z))break}t.placement!==k&&(t.modifiersData[i]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};var j=n(46159);function z(e,t,n){return(0,f.Fp)(e,(0,f.VV)(t,n))}var V=n(89371);const $={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,g=n.tetherOffset,x=void 0===g?0:g,y=(0,L.Z)(t,{boundary:c,rootBoundary:u,padding:d,altBoundary:l}),w=(0,I.Z)(t.placement),_=(0,A.Z)(t.placement),C=!_,S=(0,j.Z)(w),k="x"===S?"y":"x",E=t.modifiersData.popperOffsets,O=t.rects.reference,T=t.rects.popper,R="function"==typeof x?x(Object.assign({},t.rects,{placement:t.placement})):x,P="number"==typeof R?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(E){if(o){var B,U="y"===S?b.we:b.t$,F="y"===S?b.I:b.F2,M="y"===S?"height":"width",G=E[S],$=G+y[U],Z=G-y[F],H=h?-T[M]/2:0,K=_===b.BL?O[M]:T[M],W=_===b.BL?-T[M]:-O[M],q=t.elements.arrow,Y=h&&q?m(q):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,V.Z)(),Q=X[U],J=X[F],ee=z(0,O[M],Y[M]),te=C?O[M]/2-H-ee-Q-P.mainAxis:K-ee-Q-P.mainAxis,ne=C?-O[M]/2+H+ee+J+P.mainAxis:W+ee+J+P.mainAxis,ie=t.elements.arrow&&(0,v.Z)(t.elements.arrow),re=ie?"y"===S?ie.clientTop||0:ie.clientLeft||0:0,oe=null!=(B=null==N?void 0:N[S])?B:0,se=G+te-oe-re,ae=G+ne-oe,ce=z(h?(0,f.VV)($,se):$,G,h?(0,f.Fp)(Z,ae):Z);E[S]=ce,D[S]=ce-G}if(a){var ue,le="x"===S?b.we:b.t$,de="x"===S?b.I:b.F2,pe=E[k],fe="y"===k?"height":"width",he=pe+y[le],me=pe-y[de],ge=-1!==[b.we,b.t$].indexOf(w),ve=null!=(ue=null==N?void 0:N[k])?ue:0,be=ge?he:pe-O[fe]-T[fe]-ve+P.altAxis,xe=ge?pe+O[fe]+T[fe]-ve-P.altAxis:me,ye=h&&ge?function(e,t,n){var i=z(e,t,n);return i>n?n:i}(be,pe,xe):z(h?be:he,pe,h?xe:me);E[k]=ye,D[k]=ye-pe}t.modifiersData[i]=D}},requiresIfExists:["offset"]};var Z=n(25681),H=n(62631),K=n(8104);const W={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=(0,I.Z)(n.placement),c=(0,j.Z)(a),u=[b.t$,b.F2].indexOf(a)>=0?"height":"width";if(o&&s){var l=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,H.Z)("number"!=typeof e?e:(0,K.Z)(e,b.mv))}(r.padding,n),d=m(o),p="y"===c?b.we:b.t$,f="y"===c?b.I:b.F2,h=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],g=s[c]-n.rects.reference[c],x=(0,v.Z)(o),y=x?"y"===c?x.clientHeight||0:x.clientWidth||0:0,w=h/2-g/2,_=l[p],C=y-d[u]-l[f],S=y/2-d[u]/2+w,k=z(_,S,C),E=c;n.modifiersData[i]=((t={})[E]=k,t.centerOffset=k-S,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&(0,Z.Z)(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function q(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Y(e){return[b.we,b.F2,b.I,b.t$].some((function(t){return e[t]>=0}))}var X=_({defaultModifiers:[S,E,P,N,D,G,$,W,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=(0,L.Z)(t,{elementContext:"reference"}),a=(0,L.Z)(t,{altBoundary:!0}),c=q(s,i),u=q(a,r,o),l=Y(c),d=Y(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}}]}),Q=n(54335),J=n.n(Q),ee=function(e){return e.reduce((function(e,t){var n=t[0],i=t[1];return e[n]=i,e}),{})},te="undefined"!=typeof self&&self.document&&self.document.createElement?i.useLayoutEffect:i.useEffect,ne=[],ie=function(e,t,n){void 0===n&&(n={});var o=i.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ne},a=i.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=a[0],u=a[1],l=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);r.flushSync((function(){u({styles:ee(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ee(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),d=i.useMemo((function(){var e={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[l,{name:"applyStyles",enabled:!1}])};return J()(o.current,e)?o.current||e:(o.current=e,e)}),[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,l]),p=i.useRef();return te((function(){p.current&&p.current.setOptions(d)}),[d]),te((function(){if(null!=e&&null!=t){var i=(n.createPopper||X)(e,t,d);return p.current=i,function(){i.destroy(),p.current=null}}}),[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:c.styles,attributes:c.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}}},40770:(e,t,n)=>{n.d(t,{c:()=>s});var i=n(59312),r=n(32952),o=n(14601),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.ZT(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(r.xQ)},38062:(e,t,n)=>{n.d(t,{S3:()=>c});var i=n(59312),r=n(17733),o=n(81967),s=n(57655),a=n(72500);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,r.k)(e[0]))return e[0];e=e[0]}return(0,o.n)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.ZT(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var i=e[n],r=(0,a.D)(this,i,void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var r=this.subscriptions[i];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(t)},t}(s.L)},2746:(e,t,n)=>{n.d(t,{$R:()=>u,mx:()=>l});var i=n(59312),r=n(81967),o=n(17733),s=n(98036),a=n(85451),c=n(46601);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,r.n)(e,void 0).lift(new l(n))}var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.resultSelector))},e}(),d=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var r=e.call(this,t)||this;return r.resultSelector=n,r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:void 0,r}return i.ZT(t,e),t.prototype._next=function(e){var t=this.iterators;(0,o.k)(e)?t.push(new f(e)):"function"==typeof e[a.hZ]?t.push(new p(e[a.hZ]())):t.push(new h(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];if(i.stillUnsubscribed)this.destination.add(i.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){if("function"==typeof(s=e[i]).hasValue&&!s.hasValue())return}var r=!1,o=[];for(i=0;i<t;i++){var s,a=(s=e[i]).next();if(s.hasCompleted()&&(r=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),r&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L),p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),f=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[a.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),h=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return i.ZT(t,e),t.prototype[a.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,c.ft)(this.observable,new c.IY(this))},t}(c.Ds)},50133:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return i.ZT(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=(0,r.ft)(t,new r.IY(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,i=e.throttled;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(r.Ds)},66081:(e,t,n)=>{n.d(t,{e:()=>s});var i=n(82506),r=n(50133),o=n(80900);function s(e,t){return void 0===t&&(t=i.P),(0,r.U)((function(){return(0,o.H)(e,t)}))}},36919:(e,t,n)=>{n.d(t,{f:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.buffer=[],i.add((0,r.ft)(n,new r.IY(i))),i}return i.ZT(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(r.Ds)},76257:(e,t,n)=>{n.d(t,{j:()=>o});var i=n(59312),r=n(98036);function o(e,t){return void 0===t&&(t=null),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return i.ZT(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(r.L),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.bufferSize=n,r.startBufferEvery=i,r.buffers=[],r.count=0,r}return i.ZT(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,i=t.startBufferEvery,r=t.buffers,o=t.count;this.count++,o%i==0&&r.push([]);for(var s=r.length;s--;){var a=r[s];a.push(e),a.length===n&&(r.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(r.L)},17160:(e,t,n)=>{n.d(t,{e:()=>a});var i=n(59312),r=n(82506),o=n(98036),s=n(67827);function a(e){var t=arguments.length,n=r.P;(0,s.K)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var i=null;t>=2&&(i=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new c(e,i,o,n))}}var c=function(){function e(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),u=function(){return function(){this.buffer=[]}}(),l=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=i,s.maxBufferSize=r,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==i||i<0,s.timespanOnly){var c={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(d,n,c))}else{var u={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(f,n,u)),s.add(o.schedule(p,i,l))}return s}return i.ZT(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,i=n.length,r=0;r<i;r++){var o=n[r],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var i=t.shift();n.next(i.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,i={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(d,n,i))}},t.prototype.openContext=function(){var e=new u;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.L);function d(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function p(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,i=e.subscriber,r=e.scheduler,o=i.openContext();i.closed||(i.add(o.closeAction=r.schedule(f,n,{subscriber:i,context:o})),this.schedule(e,t))}function f(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},41608:(e,t,n)=>{n.d(t,{P:()=>a});var i=n(59312),r=n(14601),o=n(72500),s=n(57655);function a(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.openings,this.closingSelector))},e}(),u=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.closingSelector=i,r.contexts=[],r.add((0,o.D)(r,n)),r}return i.ZT(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,i=0;i<n;i++)t[i].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,i=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(i),i.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new r.w,i={buffer:[],subscription:n};t.push(i);var s=(0,o.D)(this,e,i);!s||s.closed?this.closeBuffer(i):(s.context=i,this.add(s),n.add(s))},t}(s.L)},77150:(e,t,n)=>{n.d(t,{R:()=>s});var i=n(59312),r=n(14601),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return i.ZT(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new r.w,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,o.ft)(t,new o.IY(this))),this.subscribing=!1},t}(o.Ds)},91224:(e,t,n)=>{n.d(t,{K:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){var n=new s(e),i=t.lift(n);return n.caught=i}}var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.selector,this.caught))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.selector=n,r.caught=i,r}return i.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var i=new r.IY(this);this.add(i);var o=(0,r.ft)(n,i);o!==i&&this.add(o)}},t}(r.Ds)},91023:(e,t,n)=>{n.d(t,{c:()=>r});var i=n(2844);function r(e){return function(t){return t.lift(new i.Ms(e))}}},57091:(e,t,n)=>{n.d(t,{a:()=>s});var i=n(17733),r=n(2844),o=n(12126);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,i.k)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call((0,o.D)([t].concat(e)),new r.Ms(n))}}},94123:(e,t,n)=>{n.d(t,{z:()=>r});var i=n(95399);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(i.z.apply(void 0,[t].concat(e)))}}},58:(e,t,n)=>{n.d(t,{w:()=>r});var i=n(71032);function r(e,t){return(0,i.b)((function(){return e}),t)}},22815:(e,t,n)=>{n.d(t,{Q:()=>o});var i=n(59312),r=n(98036);function o(e){return function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.count=0,r.index=0,r}return i.ZT(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(r.L)},87847:(e,t,n)=>{n.d(t,{D:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return i.ZT(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=(0,r.ft)(t,new r.IY(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(r.Ds)},87938:(e,t,n)=>{n.d(t,{j:()=>c});var i=n(59312),r=n(98036),o=n(44586),s=n(57655),a=n(72500);function c(e,t){return t?function(n){return new d(n,t).lift(new u(e))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return i.ZT(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(e),this.removeSubscription(r),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=(0,a.D)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.L),d=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return i.ZT(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new p(e,this.source))},t}(o.y),p=function(e){function t(t,n){var i=e.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return i.ZT(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(r.L)},15789:(e,t,n)=>{n.d(t,{D:()=>o});var i=n(59312),r=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return i.ZT(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(r.L)},94607:(e,t,n)=>{n.d(t,{E:()=>o});var i=n(59312),r=n(46601);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.keySelector,this.flushes))},e}(),a=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add((0,r.ft)(i,new r.IY(o))),o}return i.ZT(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(r.Ds)},40649:(e,t,n)=>{n.d(t,{g:()=>r});var i=n(28043);function r(e,t){return(0,i.x)((function(n,i){return t?t(n[e],i[e]):n[e]===i[e]}))}},87830:(e,t,n)=>{n.d(t,{T:()=>c});var i=n(2270),r=n(85985),o=n(4750),s=n(31524),a=n(23063);function c(e,t){if(e<0)throw new i.W;var n=arguments.length>=2;return function(c){return c.pipe((0,r.h)((function(t,n){return n===e})),(0,a.q)(1),n?(0,s.d)(t):(0,o.T)((function(){return new i.W})))}}},39719:(e,t,n)=>{n.d(t,{l:()=>o});var i=n(95399),r=n(76974);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,i.z)(t,r.of.apply(void 0,e))}}},50481:(e,t,n)=>{n.d(t,{y:()=>o});var i=n(59312),r=n(98036);function o(e,t){return function(n){return n.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.source=r,o.index=0,o.thisArg=i||o,o}return i.ZT(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(r.L)},87451:(e,t,n)=>{n.d(t,{b:()=>o});var i=n(59312),r=n(46601);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return i.ZT(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,r.ft)(e,new r.IY(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(r.Ds)},58524:(e,t,n)=>{n.d(t,{jn:()=>o});var i=n(59312),r=n(46601);function o(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.concurrent,this.scheduler))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.project=n,o.concurrent=i,o.scheduler=r,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return i.ZT(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,i=e.value,r=e.index;t.subscribeToProjection(n,i,r)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var r=(0,this.project)(e,i);if(this.scheduler){var o={subscriber:this,result:r,value:e,index:i};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(r,e,i)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add((0,r.ft)(e,new r.IY(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(r.Ds)},22447:(e,t,n)=>{n.d(t,{eo:()=>s,sE:()=>o});var i=n(59312),r=n(98036);function o(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new s(e,n,!1,t))}}var s=function(){function e(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),a=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=i,s.yieldIndex=r,s.thisArg=o,s.index=0,s}return i.ZT(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,i=this.index++;try{t.call(n||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(r.L)},43918:(e,t,n)=>{n.d(t,{c:()=>r});var i=n(22447);function r(e,t){return function(n){return n.lift(new i.eo(e,n,!0,t))}}},78146:(e,t,n)=>{n.d(t,{T:()=>p,v:()=>c});var i=n(59312),r=n(98036),o=n(14601),s=n(44586),a=n(32952);function c(e,t,n,i){return function(r){return r.lift(new u(e,t,n,i))}}var u=function(){function e(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=i,s.durationSelector=r,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return i.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var i,r=n.get(t);if(this.elementSelector)try{i=this.elementSelector(e)}catch(e){this.error(e)}else i=e;if(!r){r=this.subjectSelector?this.subjectSelector():new a.xQ,n.set(t,r);var o=new p(t,r,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new p(t,r))}catch(e){return void this.error(e)}this.add(s.subscribe(new d(t,r,this)))}}r.closed||r.next(i)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(r.L),d=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.key=t,r.group=n,r.parent=i,r}return i.ZT(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(r.L),p=function(e){function t(t,n,i){var r=e.call(this)||this;return r.key=t,r.groupSubject=n,r.refCountSubscription=i,r}return i.ZT(t,e),t.prototype._subscribe=function(e){var t=new o.w,n=this.refCountSubscription,i=this.groupSubject;return n&&!n.closed&&t.add(new f(n)),t.add(i.subscribe(e)),t},t}(s.y),f=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return i.ZT(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.w)},49143:(e,t,n)=>{n.d(t,{l:()=>o});var i=n(59312),r=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.ZT(t,e),t.prototype._next=function(e){},t}(r.L)},98606:(e,t,n)=>{n.d(t,{x:()=>o});var i=n(59312),r=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return i.ZT(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(r.L)},68706:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(33346),r=n(85985),o=n(51639),s=n(4750),a=n(31524),c=n(49524);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?(0,r.h)((function(t,n){return e(t,n,u)})):c.y,(0,o.h)(1),n?(0,a.d)(t):(0,s.T)((function(){return new i.K})))}}},83840:(e,t,n)=>{n.d(t,{i:()=>s});var i=n(59312),r=n(98036),o=n(12834);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){return e.call(this,t)||this}return i.ZT(t,e),t.prototype._next=function(e){this.destination.next(o.P.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.P.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.P.createComplete()),e.complete()},t}(r.L)},80018:(e,t,n)=>{n.d(t,{F:()=>r});var i=n(38934);function r(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return(0,i.u)(t)}},93781:(e,t,n)=>{n.d(t,{j:()=>r});var i=n(85321);function r(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?(0,i.zg)((function(){return e}),t,n):("number"==typeof t&&(n=t),(0,i.zg)((function(){return e}),n))}},40184:(e,t,n)=>{n.d(t,{fU:()=>o});var i=n(59312),r=n(46601);function o(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.concurrent))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=i,o.concurrent=r,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return i.ZT(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(i)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new r.IY(this),n=this.destination;n.add(t);var i=(0,r.ft)(e,t);i!==t&&n.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(r.Ds)},24371:(e,t,n)=>{n.d(t,{V:()=>r});var i=n(38934);function r(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return(0,i.u)(t)}},80334:(e,t,n)=>{n.d(t,{h:()=>s});var i=n(59312),r=n(17733),o=n(46601);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&(0,r.k)(e[0])&&(e=e[0]),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.nextSources))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return i.ZT(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new o.IY(this),n=this.destination;n.add(t);var i=(0,o.ft)(e,t);i!==t&&n.add(i)}else this.destination.complete()},t}(o.Ds)},53804:(e,t,n)=>{n.d(t,{u:()=>o});var i=n(96451),r=n(85985);function o(e,t){return function(n){return[(0,r.h)(e,t)(n),(0,r.h)((0,i.f)(e,t))(n)]}}},62962:(e,t,n)=>{n.d(t,{n:()=>o});var i=n(32952),r=n(24755);function o(e){return e?(0,r.O)((function(){return new i.xQ}),e):(0,r.O)(new i.xQ)}},71193:(e,t,n)=>{n.d(t,{n:()=>o});var i=n(95300),r=n(24755);function o(e){return function(t){return(0,r.O)(new i.X(e))(t)}}},92449:(e,t,n)=>{n.d(t,{C:()=>o});var i=n(40770),r=n(24755);function o(){return function(e){return(0,r.O)(new i.c)(e)}}},48403:(e,t,n)=>{n.d(t,{_:()=>o});var i=n(16782),r=n(24755);function o(e,t,n,o){n&&"function"!=typeof n&&(o=n);var s="function"==typeof n?n:void 0,a=new i.t(e,t,o);return function(e){return(0,r.O)((function(){return a}),s)(e)}}},55875:(e,t,n)=>{n.d(t,{S:()=>o});var i=n(17733),r=n(38062);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&(0,i.k)(e[0])&&(e=e[0]),t.lift.call(r.S3.apply(void 0,[t].concat(e)))}}},38934:(e,t,n)=>{n.d(t,{u:()=>a});var i=n(67434),r=n(51639),o=n(31524),s=n(87072);function a(e,t){return arguments.length>=2?function(n){return(0,s.z)((0,i.R)(e,t),(0,r.h)(1),(0,o.d)(t))(n)}:function(t){return(0,s.z)((0,i.R)((function(t,n,i){return e(t,n,i+1)})),(0,r.h)(1))(t)}}},36303:(e,t,n)=>{n.d(t,{r:()=>s});var i=n(59312),r=n(98036),o=n(40151);function s(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,o.c)():e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}}var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.count,this.source))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return i.ZT(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(r.L)},11838:(e,t,n)=>{n.d(t,{a:()=>s});var i=n(59312),r=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,t))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r.sourceIsBeingSubscribedTo=!0,r}return i.ZT(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new r.xQ;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=(0,o.ft)(t,new o.IY(this))},t}(o.Ds)},75458:(e,t,n)=>{n.d(t,{X:()=>o});var i=n(59312),r=n(98036);function o(e){return void 0===e&&(e=-1),function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return i.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,i=this.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(r.L)},62365:(e,t,n)=>{n.d(t,{a:()=>s});var i=n(59312),r=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,this.source))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r}return i.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new r.xQ;try{i=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}s=(0,o.ft)(i,new o.IY(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(o.Ds)},13718:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),i=t.subscribe(n);return i.add((0,r.ft)(this.notifier,new r.IY(n))),i},e}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return i.ZT(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(r.Ds)},13685:(e,t,n)=>{n.d(t,{b:()=>s});var i=n(59312),r=n(98036),o=n(82506);function s(e,t){return void 0===t&&(t=o.P),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.period,this.scheduler))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.period=n,r.scheduler=i,r.hasValue=!1,r.add(i.schedule(u,n,{subscriber:r,period:n})),r}return i.ZT(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(r.L);function u(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},67434:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(59312),r=n(98036);function o(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return i.ZT(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(r.L)},33241:(e,t,n)=>{n.d(t,{NF:()=>o});var i=n(59312),r=n(98036);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compareTo,this.comparator))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.compareTo=n,r.comparator=i,r._a=[],r._b=[],r._oneComplete=!1,r.destination.add(n.subscribe(new c(t,r))),r}return i.ZT(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,i=e.comparator;t.length>0&&n.length>0;){var r=t.shift(),o=n.shift(),s=!1;try{s=i?i(r,o):r===o}catch(e){this.destination.error(e)}s||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(r.L),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.parent=n,i}return i.ZT(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(r.L)},17174:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(59312),r=n(98036),o=n(33346);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.source))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.seenValue=!1,r.index=0,r}return i.ZT(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.K)},t}(r.L)},55935:(e,t,n)=>{n.d(t,{T:()=>o});var i=n(59312),r=n(98036);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return i.ZT(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(r.L)},65943:(e,t,n)=>{n.d(t,{W:()=>s});var i=n(59312),r=n(98036),o=n(2270);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.W}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new r.L(e)):t.subscribe(new c(e,this._skipCount))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return i.ZT(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var i=n%t,r=this._ring,o=r[i];r[i]=e,this.destination.next(o)}},t}(r.L)},65304:(e,t,n)=>{n.d(t,{R:()=>c});var i=n(59312),r=n(44586),o=n(79692),s=n(44362),a=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=o.e);var r=e.call(this)||this;return r.source=t,r.delayTime=n,r.scheduler=i,(!(0,s.k)(n)||n<0)&&(r.delayTime=0),i&&"function"==typeof i.schedule||(r.scheduler=o.e),r}return i.ZT(t,e),t.create=function(e,n,i){return void 0===n&&(n=0),void 0===i&&(i=o.e),new t(e,n,i)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,i=this.source;return this.scheduler.schedule(t.dispatch,n,{source:i,subscriber:e})},t}(r.y);function c(e,t){return void 0===t&&(t=0),function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new a(t,this.delay,this.scheduler).subscribe(e)},e}()},69935:(e,t,n)=>{n.d(t,{B:()=>o});var i=n(66310),r=n(49524);function o(){return(0,i.w)(r.y)}},51639:(e,t,n)=>{n.d(t,{h:()=>a});var i=n(59312),r=n(98036),o=n(2270),s=n(40151);function a(e){return function(t){return 0===e?(0,s.c)():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o.W}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return i.ZT(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=t++%n;e.next(i[o])}e.complete()},t}(r.L)},2768:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),i=(0,r.ft)(this.notifier,new r.IY(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return i.ZT(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(r.Ds)},8473:(e,t,n)=>{n.d(t,{o:()=>o});var i=n(59312),r=n(98036);function o(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.inclusive=i,r.index=0,r}return i.ZT(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(r.L)},25031:(e,t,n)=>{n.d(t,{P:()=>s,d:()=>o});var i=n(59312),r=n(46601),o={leading:!0,trailing:!1};function s(e,t){return void 0===t&&(t=o),function(n){return n.lift(new a(e,!!t.leading,!!t.trailing))}}var a=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector,this.leading,this.trailing))},e}(),c=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=i,o._trailing=r,o._hasValue=!1,o}return i.ZT(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,r.ft)(t,new r.IY(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(r.Ds)},55721:(e,t,n)=>{n.d(t,{p:()=>a});var i=n(59312),r=n(98036),o=n(82506),s=n(25031);function a(e,t,n){return void 0===t&&(t=o.P),void 0===n&&(n=s.d),function(i){return i.lift(new c(e,t,n.leading,n.trailing))}}var c=function(){function e(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=i,s.leading=r,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return i.ZT(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(r.L);function l(e){e.subscriber.clearThrottle()}},23095:(e,t,n)=>{n.d(t,{J:()=>a});var i=n(82506),r=n(67434),o=n(18625),s=n(77176);function a(e){return void 0===e&&(e=i.P),function(t){return(0,o.P)((function(){return t.pipe((0,r.R)((function(t,n){var i=t.current;return{value:n,current:e.now(),last:i}}),{current:e.now(),value:void 0,last:void 0}),(0,s.U)((function(e){var t=e.current,n=e.last,i=e.value;return new c(i,t-n)})))}))}}var c=function(){return function(e,t){this.value=e,this.interval=t}}()},89068:(e,t,n)=>{n.d(t,{V:()=>a});var i=n(82506),r=n(49549),o=n(97425),s=n(91402);function a(e,t){return void 0===t&&(t=i.P),(0,o.L)(e,(0,s._)(new r.W),t)}},97425:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(59312),r=n(82506),o=n(88992),s=n(46601);function a(e,t,n){return void 0===n&&(n=r.P),function(i){var r=(0,o.J)(e),s=r?+e-n.now():Math.abs(e);return i.lift(new c(s,r,t,n))}}var c=function(){function e(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=i,s.withObservable=r,s.scheduler=o,s.scheduleTimeout(),s}return i.ZT(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,s.ft)(t,new s.IY(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(s.Ds)},91969:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(82506),r=n(77176);function o(e){return void 0===e&&(e=i.P),(0,r.U)((function(t){return new s(t,e.now())}))}var s=function(){return function(e,t){this.value=e,this.timestamp=t}}()},35052:(e,t,n)=>{n.d(t,{q:()=>o});var i=n(38934);function r(e,t,n){return 0===n?[t]:(e.push(t),e)}function o(){return(0,i.u)(r,[])}},50337:(e,t,n)=>{n.d(t,{u:()=>s});var i=n(59312),r=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new c(e),i=t.subscribe(n);return i.closed||n.add((0,o.ft)(this.windowBoundaries,new o.IY(n))),i},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new r.xQ,t.next(n.window),n}return i.ZT(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new r.xQ;t.next(n)},t}(o.Ds)},6643:(e,t,n)=>{n.d(t,{r:()=>s});var i=n(59312),r=n(98036),o=n(32952);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.windowSize,this.startWindowEvery))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.destination=t,r.windowSize=n,r.startWindowEvery=i,r.windows=[new o.xQ],r.count=0,t.next(r.windows[0]),r}return i.ZT(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,s=r.length,a=0;a<s&&!this.closed;a++)r[a].next(e);var c=this.count-i+1;if(c>=0&&c%t==0&&!this.closed&&r.shift().complete(),++this.count%t==0&&!this.closed){var u=new o.xQ;r.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(r.L)},83782:(e,t,n)=>{n.d(t,{I:()=>u});var i=n(59312),r=n(32952),o=n(82506),s=n(98036),a=n(44362),c=n(67827);function u(e){var t=o.P,n=null,i=Number.POSITIVE_INFINITY;return(0,c.K)(arguments[3])&&(t=arguments[3]),(0,c.K)(arguments[2])?t=arguments[2]:(0,a.k)(arguments[2])&&(i=Number(arguments[2])),(0,c.K)(arguments[1])?t=arguments[1]:(0,a.k)(arguments[1])&&(n=Number(arguments[1])),function(r){return r.lift(new l(e,n,i,t))}}var l=function(){function e(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return i.ZT(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(r.xQ),p=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=i,s.maxWindowSize=r,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==i&&i>=0){var c={subscriber:s,window:a,context:null},u={windowTimeSpan:n,windowCreationInterval:i,subscriber:s,scheduler:o};s.add(o.schedule(m,n,c)),s.add(o.schedule(h,i,u))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(f,n,l))}return s}return i.ZT(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,i=0;i<n;i++){var r=t[i];r.closed||(r.next(e),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new d;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.L);function f(e){var t=e.subscriber,n=e.windowTimeSpan,i=e.window;i&&t.closeWindow(i),e.window=t.openWindow(),this.schedule(e,n)}function h(e){var t=e.windowTimeSpan,n=e.subscriber,i=e.scheduler,r=e.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:n,window:o,context:a};a.subscription=i.schedule(m,t,c),s.add(a.subscription),s.schedule(e,r)}function m(e){var t=e.subscriber,n=e.window,i=e.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),t.closeWindow(n)}},99597:(e,t,n)=>{n.d(t,{j:()=>c});var i=n(59312),r=n(32952),o=n(14601),s=n(57655),a=n(72500);function c(e,t){return function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))},e}(),l=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=(0,a.D)(r,n,n)),r}return i.ZT(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,i=0;i<n;i++)t[i].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,r=-1;++r<i;){var o=n[r];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var r=t[i];r.window.complete(),r.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var i=e[n];i.window.unsubscribe(),i.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,i,s){if(e===this.openings){var c=void 0;try{c=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var u=new r.xQ,l=new o.w,d={window:u,subscription:l};this.contexts.push(d);var p=(0,a.D)(this,c,d);p.closed?this.closeWindow(this.contexts.length-1):(p.context=d,l.add(p)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],i=n.window,r=n.subscription;t.splice(e,1),i.complete(),r.unsubscribe()}},t}(s.L)},45586:(e,t,n)=>{n.d(t,{Q:()=>a});var i=n(59312),r=n(32952),o=n(57655),s=n(72500);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return i.ZT(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.openWindow(r)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,i=this.window=new r.xQ;this.destination.next(i);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=(0,s.D)(this,n))},t}(o.L)},53441:(e,t,n)=>{n.d(t,{$:()=>r});var i=n(2746);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(i.$R.apply(void 0,[t].concat(e)))}}},9229:(e,t,n)=>{n.d(t,{h:()=>r});var i=n(2746);function r(e){return function(t){return t.lift(new i.mx(e))}}},49549:(e,t,n)=>{n.d(t,{W:()=>i});var i=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},96451:(e,t,n)=>{function i(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{f:()=>i})}}]);