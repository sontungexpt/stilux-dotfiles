(self.webpackChunk=self.webpackChunk||[]).push([[9561],{64757:(e,t,n)=>{n.d(t,{RZ:()=>h,zx:()=>u});var o=n(59312),i=n(27378),a=n(19703),s=n(12187),r=n(31278),l=n(86732),c=n(48660),d=n(26215),m=n(94632);function u(e){return i.createElement(d.Y,(0,o.pi)({},p(e,m.LI)))}function p(e,t){var n=(0,s.Sh)(e.className,t).className;return(0,o.pi)((0,o.pi)({},e),{className:n})}!function(e){e.Animated=function(e){return i.createElement(d.Y,(0,o.pi)({},(0,o.pi)((0,o.pi)({},e),{animationMode:Boolean(e.animationMode)?e.animationMode:l.m.FromClickPoint})))},e.Primary=function(t){return i.createElement(e.Animated,(0,o.pi)({styleType:c.Z.Type.Button},p(t,m.T$)))},e.Ghost=function(t){return i.createElement(e.Animated,(0,o.pi)({styleType:c.Z.Type.Button},p(t,m.fk)))},e.Tertiary=function(t){return i.createElement(e.Animated,(0,o.pi)({styleType:c.Z.Type.Base},p(t,m.UF)))},e.Flat=function(t){return i.createElement(e.Animated,(0,o.pi)({},p(t,m.$H)))},e.White=function(t){return i.createElement(e.Animated,(0,o.pi)({},p(t,m.ix)))},e.SidebarFlat=function(e){return i.createElement(d.Y,(0,o.pi)({styleType:c.Z.Type.H3Legacy},p(e,m.HN)))},e.Caps=function(e){return i.createElement(d.Y,(0,o.pi)({styleType:c.Z.Type.H3Legacy},p(e,m.Mp)))},e.Group=function(e){var t=e.children,n=e.className,r=e.align,l=void 0===r?"horizontal":r,c=e.sticky,d=e.name;return i.createElement(a.F.div,(0,o.pi)({role:"group"},(0,s.Sh)(n,"horizontal"===l?!0===c?m.vD:m.ru:m.oc),{"data-name":d}),t)}}(u||(u={}));var h=function(e){var t=e.title,n=e.titleAlign,l=e.buttonClass,c=e.iconClass,p=e.iconWidth,h=e.tooltipClass;return i.createElement(u,{name:"info-button","aria-label":t,tag:d.X.div,title:i.createElement(a.F.div,(0,o.pi)({},(0,s.Sh)(m.bC,h)),i.createElement("p",null,t)),titleAlign:n,className:l},i.createElement(r.JO.Info,{width:p,className:c}))}},51369:(e,t,n)=>{n.d(t,{X:()=>N});var o,i=n(59312),a=n(27378),s=n(57050),r=n(5114),l=n(19962),c=n(44060),d=n(11413),m=n(89894),u=n(32096),p=n(40327),h=n(19703),f=n(49708),g=n(85985),b=n(41398),k=n(24209),I=n(17343),w=n(98403),y=n(38194),C=n(598),v=n(50628),E=n(25781),U=n(83078),_=n(18625);!function(e){var t="scrollaction";e.emit=function(e){return self.dispatchEvent(new CustomEvent(t,{detail:e}))},e.observe=_.P((function(){return f.R(self,t)}))}(o||(o={}));var M=n(42103),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!l.UL.hasPoint(t.getBoundingClientRect(),e)}},t}return(0,i.ZT)(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[],this.context.hide()},t.prototype.render=function(){return a.createElement(h.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=f.R(document,"keydown").pipe(g.h((function(e){return e.keyCode===E.R.ESC_CODE}))),n=f.R(document,"mousedown").pipe(b.M(this.context.state),g.h((function(t){var n=t[0],o=t[1];return(0,p.pipe)(o,r.map((function(e){return e.target})),r.filter((function(){return l.pK(n.target)})),U.wo(e._outOfTarget({x:n.clientX,y:n.clientY})))}))),i=k.T(t,n,f.R(document,"scroll"),o.observe.pipe(g.h((function(e){return"show"===e.detail})))).pipe(I.h(w.PU),y.B());this._subs=[this.context.hasContent.pipe(g.h(Boolean),C.c(i.pipe(v.P()))).subscribe(this.context.hide),this.context.hasContent.pipe(g.h(Boolean),C.c(k.T(w.gw(!0,500),i.pipe(I.h(!1))).pipe(v.P())),g.h(Boolean)).subscribe(this.context.show)]},t.contextType=M.G.Context,t}(a.Component),N=function(){return a.createElement(P,null,(0,s.ls)(r.map((function(e){return a.createElement(d.t.ByAbsoluteRect,(0,i.pi)({rect:l.UL.fromEl(e.target),className:K.container},d.t.Alignment.toSelector(e.alignment),{withPin:!0}),a.createElement("div",{className:K.content},e.content))})),r.toNullable))},S={position:"fixed",zIndex:u.DY,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},F={padding:"".concat(m.ux.rem(.25)," ").concat(m.ux.rem(1)),borderRadius:m.ux.rem(u.fx),background:c.Il.BackgroundTooltip,color:c.Il.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:m.ux.px(.25),fontSize:m.ux.rem(.75),lineHeight:m.ux.rem(1)},K=m.ux.stylesheet({container:[S],content:[F]})},24588:(e,t,n)=>{n.d(t,{AX:()=>d,BZ:()=>u,FW:()=>s,UE:()=>r,Xd:()=>p,Zn:()=>m,jj:()=>i,kl:()=>c,mb:()=>l,xO:()=>a});var o=n(40456);o.zh;const i=o.jj,a=o.xO,s=o.FW,r=o.UE,l=(o.VR,o.mb),c=o.kl,d=o.AX,m=(o.lh,o.Re,o.Zn),u=o.BZ,p=o.Xd;o.b6,o.Aw},40219:(e,t,n)=>{n.d(t,{DY:()=>d,I3:()=>c,Ig:()=>I,Jr:()=>a,LB:()=>i,Q9:()=>f,VN:()=>l,fx:()=>s,g_:()=>p,mA:()=>r,mJ:()=>k,nt:()=>u,pZ:()=>g,rX:()=>b,v4:()=>w,w$:()=>m,xL:()=>h});var o=n(32096);const i=o.LB,a=o.Jr,s=o.fx,r=o.mA,l=(o.Ax,o.VN),c=(o.FY,o.I3),d=(o.$n,o.DY),m=o.w$,u=o.nt,p=(o.cr,o.g_),h=o.xL,f=o.Q9,g=(o.WW,o.Ih,o.aS,o.pZ),b=(o.Jg,o.MZ,o.h,o.Ee,o.OB,o.Gu,o.Gk,o.Kp,o.rX),k=o.mJ,I=o.Ig,w=(o.FB,o.v4)},41638:(e,t,n)=>{n.d(t,{q:()=>s});var o=n(34311),i=n(2844),a=n(77176);class s{constructor(e){this._annotationsStateService=e}getHoveredStateBehavior(e){return i.aj([this._annotationsStateService.hoveredAnnotation,this._annotationsStateService.activeAnnotation]).pipe(a.U((([t,n])=>t&&t.highlightIds.includes(e)||n&&n.highlightIds.includes(e)?o.pc.hovered:o.pc.none)))}}},47849:(e,t,n)=>{n.d(t,{Cn:()=>o,LH:()=>_,ss:()=>M});var o,i=n(17771),a=n(57050),s=n(17889),r=n(74850),l=n(11407),c=n(62337),d=n(28728),m=n(18756),u=n(75420),p=n(13718),h=n(19751),f=n(77176),g=n(85985),b=n(17343),k=n(2834),I=n(66310),w=n(24209),y=n(49708),C=n(23063),v=n(38194),E=n(73975),U=n(5114);!function(e){e.getEqById=function(){return E.f7(((e,t)=>e&&t?e.annotation.id===t.annotation.id:e===t))}}(o||(o={}));class _{constructor(e,t=r.Y.create(_.name)){this._options=e,this._log=t,this._rawHoveredAnnotation=this._options.mouseData.pipe(p.U(l.S.hz30),h.skipBy(d.Zr.eq),f.U((({client:e,offset:t})=>{if(e&&t&&(0,u._N)(e,this._options.textNode)){const e=this._options.highlightGeometry.geometry.get();return Array.from(e.keys()).reduce(((n,o)=>{const i=e.get(o);if(i){const e=i.rects&&(null===i.meta.highlightDisplayFormat||m.jk.isInteractable(i.meta.highlightDisplayFormat))&&i.rects.find((e=>c.UL.contains(t,e)));if(e)return{annotation:i.meta.annotation,activeHighlightId:i.meta.highlightId,activeHighlightRect:e,highlightIds:[],highlightRects:[]}}return n}),null)}return null})),f.U((e=>{if(!e)return null;const t=this._options.highlightGeometry.geometry.get(),n=[],o=[];return t.forEach(((t,i)=>{t.meta.annotation.id===e.annotation.id&&(n.push(i),o.push(...t.rects))})),(0,a.zG)(i.Y(U.option)({annotation:U.some(e.annotation),activeHighlightId:U.some(e.activeHighlightId),activeHighlightRect:U.some(e.activeHighlightRect),highlightIds:s.c2(n),highlightRects:s.c2(o)}),U.toNullable)})),h.skipBy(o.getEqById()),h.shareReplay({bufferSize:1,refCount:!0})),this._offByUpdatedGeometry=e=>this._options.highlightGeometry.geometry.pipe(f.U((t=>e&&t.has(e.activeHighlightId)?e:null)),g.h((e=>null===e)),b.h(null),k.b((e=>this._log.trace("OffByUpdatedGeometry",e)))),this._switchByDisplayedCard=()=>(0,a.ls)(I.w((e=>this._options.cardHovered.pipe(f.U((t=>t?this._options.getCurrentCardAnnotationState():e))))),h.skipBy(o.getEqById()))}}function M(e,t){return w.T(e.rect.changes.pipe(k.b((()=>t.trace("Text field position, size has been changed")))),e.scroll.changes.pipe(k.b((()=>t.trace("Text field scroll has been changed")))),y.R(self,"scroll").pipe(k.b((()=>t.trace("Window scroll detected"))))).pipe(C.q(1),b.h(null),v.B())}},79055:(e,t,n)=>{n.r(t),n.d(t,{createReaderGmailThreadIntegration:()=>qo});var o,i,a,s=n(57050),r=n(48044),l=n(27378),c=n(29511),d=n(6234),m=n(64015),u=n(17889),p=n(32243),h=n(19723),f=n(97565),g=n(46674),b=n(34107),k=n(70264),I=n(14601),w=n(77176),y=n(98403),C=n(2844),v=n(2834),E=n(5114),U=n(83078),_=n(95195),M=n(55415),P=n(8125),N=n(22232),S=n(73975),F=n(38983),K=n(85985);!function(e){let t;!function(e){e.setRecapBarPopup="setRecapBarPopup",e.toggleInlineHighlights="toggleInlineHighlights",e.setItemMenuVisibleFor="setItemMenuVisibleFor",e.setHighlightMenuVisibleFor="setHighlightMenuVisibleFor",e.highlightMenuHovered="highlightMenuHovered",e.toggleRecapBar="toggleRecapBar",e.reply="reply",e.replyResult="replyResult",e.setItemChecked="setItemChecked",e.replyToItem="replyToItem",e.replyToItemResult="replyToItemResult",e.copyItem="copyItem",e.copyItemResult="copyItemResult",e.removeItem="removeItem",e.undoRemoveItem="undoRemoveItem",e.itemFeedback="itemFeedback",e.toggleItemFeedbackMenu="toggleItemFeedbackMenu",e.showAnyway="showAnyway",e.toggleReplyPanelExpanded="toggleReplyPanelExpanded",e.toggleReplyPanelMode="toggleReplyPanelMode",e.learnMoreLinkVisited="learnMoreLinkVisited",e.optInTryItOutModal="optInTryItOutModal",e.optInTryItOutModalResult="optInTryItOutModalResult",e.optInDismissModal="optInDismissModal",e.optInDismissModalResult="optInDismissModalResult",e.genericFeedbackModal="genericFeedbackModal",e.genericFeedbackModalResult="genericFeedbackModalResult",e.itemFeedbackModalResult="itemFeedbackModalResult",e.recapMenuItemClick="recapMenuItemClick",e.aboutRecapModal="aboutRecapModal",e.aboutRecapModalResult="aboutRecapModalResult",e.turnOffRecapModal="turnOffRecapModal",e.turnOffRecapModalResult="turnOffRecapModalResult",e.dataCollectionPolicyLinkVisited="dataCollectionPolicyLinkVisited",e.termsOfServiceLinkVisited="termsOfServiceLinkVisited",e.privacyPolicyLinkVisited="privacyPolicyLinkVisited",e.highlightHover="highlightHover",e.showNotification="showNotification",e.dismissNotification="dismissNotification",e.onboardingAnchorMounted="onboardingAnchorMounted",e.onboardingAnchorUnmounted="onboardingAnchorUnmounted",e.onboardingSetKind="onboardingSetKind",e.onboardingShown="onboardingShown",e.onboardingNext="onboardingNext",e.onboardingPrev="onboardingPrev",e.onboardingDismiss="onboardingDismiss",e.panelScroll="panelScroll",e.panelOverflow="panelOverflow"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e}}(o||(o={})),(0,N.L0)(void 0),function(e){e.ofKind=function(e){return K.h(o.is(e))},e.ofDocId=function(e){return K.h((({docId:t})=>t===e))},e.ofUIMode=function(e){return K.h((({uiMode:t})=>t===e))}}(i||(i={})),function(e){e.create=function(e,t){return`${e}|${t}`}}(a||(a={}));class R{constructor(e,t,n,o,i,l){this._actions=e,this._csActions=o,this._onHandleReject=i,this._followUps=F.h.create(new Map),this._keyPoints=F.h.create(new Map),this._highlights=F.h.create(new Map),this._subscriptions=new I.w,this._feedbacks=new Map,this._checks=new Map,this._dismissed=new Map,this._dismissedUndoable=new Map,this.followUps=this._followUps.view(r.UI(u.DY(d.Jr.FollowUp.ord))),this.keyPoints=this._keyPoints.view(r.UI(u.DY(d.Jr.KeyPoint.ord))),this.highlights=this._highlights.view(),(0,s.zG)(E.fromNullable("optedIn"===(null==l?void 0:l.kind)?null==l?void 0:l.docs:{}),U.bw(p.Su(((e,t)=>{var n,o,i;return this._checks.set(e,(0,s.zG)(E.fromNullable(null===(n=null==t?void 0:t.itemStates)||void 0===n?void 0:n.followUps),E.fold((()=>new Set),p.To(new Set,((e,t,n)=>(0,s.zG)(d.Jr.FollowUp.codec.decode(n),_.g_((()=>t),(n=>n.checked?t.add(e):t)))))))),this._feedbacks.set(e,(0,s.zG)(E.fromNullable(null===(o=null==t?void 0:t.itemStates)||void 0===o?void 0:o.followUps),E.fold((()=>new Map),p.To(new Map,((e,t,n)=>(0,s.zG)(d.Jr.FollowUp.codec.decode(n),_.g_((()=>t),(n=>n.feedback?t.set(a.create(e,d.YB.followUp),n.feedback):t)))))),(e=>{var n;return(0,s.zG)(E.fromNullable(null===(n=null==t?void 0:t.itemStates)||void 0===n?void 0:n.keyPoints),E.fold((()=>e),p.To(e,((e,t,n)=>(0,s.zG)(d.Jr.KeyPoint.codec.decode(n),_.g_((()=>t),(n=>n.feedback?t.set(a.create(e,d.YB.keyPoint),n.feedback):t)))))))}),(e=>{var n;return(0,s.zG)(E.fromNullable(null===(n=null==t?void 0:t.itemStates)||void 0===n?void 0:n.highlights),E.fold((()=>e),p.To(e,((e,t,n)=>(0,s.zG)(d.Jr.Highlight.codec.decode(n),_.g_((()=>t),(n=>n.feedback?t.set(a.create(e,d.YB.highlight),n.feedback):t)))))))}))),this._dismissed.set(e,(0,s.zG)(E.fromNullable(null===(i=null==t?void 0:t.itemStates)||void 0===i?void 0:i.followUps),E.fold((()=>new Set),p.To(new Set,((e,t,n)=>(0,s.zG)(d.Jr.FollowUp.codec.decode(n),_.g_((()=>t),(n=>n.dismissed?t.add(a.create(e,d.YB.followUp)):t)))))),(e=>{var n;return(0,s.zG)(E.fromNullable(null===(n=null==t?void 0:t.itemStates)||void 0===n?void 0:n.keyPoints),E.fold((()=>e),p.To(e,((e,t,n)=>(0,s.zG)(d.Jr.KeyPoint.codec.decode(n),_.g_((()=>t),(n=>n.dismissed?t.add(a.create(e,d.YB.keyPoint)):t)))))))}),(e=>{var n;return(0,s.zG)(E.fromNullable(null===(n=null==t?void 0:t.itemStates)||void 0===n?void 0:n.highlights),E.fold((()=>e),p.To(e,((e,t,n)=>(0,s.zG)(d.Jr.Highlight.codec.decode(n),_.g_((()=>t),(n=>n.dismissed?t.add(a.create(e,d.YB.highlight)):t)))))))}))),t}))));const c=t.get().checks.view(r.DZ((0,s.ls)(M.ei("checks"),m.hX((0,P.Kg)(g.I.Reader.isMainPoint,g.I.Reader.isActionItem,g.I.Reader.isDebugItem)),u.c2)));this._subscriptions.add(c.pipe(w.U((e=>(0,s.zG)(e,r.Su(((e,t)=>(0,s.zG)(t,m.hX(g.I.Reader.isActionItem),m.UI((e=>({id:d.Jr.FollowUp.Id.create(e.id),kind:d.YB.followUp,apiKind:f.jA.Kind.readerActionItem,checked:!1,feedback:E.none,delta:e.delta,span:e.span}))),u.nI,E.chain((t=>this._itemsNotDismissed(e,t))),E.map((t=>this._itemsWithFeedback(e,t))),E.map((t=>this._itemsWithChecks(e,t)))))),r.oA)))).subscribe(y.wW(this._followUps)));const b=t.get().checks.view(r.DZ((0,s.ls)(M.ei("checks"),m.Ew(g.I.Reader.isSummary))));this._subscriptions.add(b.pipe(w.U((e=>(0,s.zG)(e,r.Su(((e,t)=>(0,s.zG)(t.items,m.Su(((e,t)=>({id:d.Jr.KeyPoint.Id.create(t.id),kind:d.YB.keyPoint,apiKind:f.jA.Kind.readerSummaryItem,feedback:E.none,delta:t.delta,index:e}))),u.nI,E.chain((t=>this._itemsNotDismissed(e,t))),E.map((t=>this._itemsWithFeedback(e,t)))))),r.oA)))).subscribe(y.wW(this._keyPoints))),this._subscriptions.add(C.aj([c,n.view("expandedMessages").pipe(w.U(r.DZ((0,s.ls)(U.xC,E.map(M.ei("textMap"))))))]).pipe(w.U((([e,t])=>(0,s.zG)(e,r.Su(((e,n)=>(0,s.zG)(n,m.DZ((n=>(0,s.zG)(n,E.fromPredicate(g.I.Reader.hasDelta),E.map(M.ei("delta")),E.alt((()=>(0,s.zG)(E.fromNullable(t.get(e)),E.map((e=>e.getRichText())),E.map((e=>e.slice(n.span.s,n.span.e)))))),E.map((t=>({id:h.q.Id.create(n.id),docId:e,kind:d.YB.highlight,apiKind:n.kind===g.I.Kind.readerMainPoint?f.jA.Kind.readerMainPoint:n.kind===g.I.Kind.readerActionItem?f.jA.Kind.readerActionItem:n.kind===g.I.Kind.readerDebugItem?f.jA.Kind.readerDebugItem:(0,N.vE)(n),feedback:E.none,span:n.span,delta:t})))))),u.nI,E.chain((t=>this._itemsNotDismissed(e,t))),E.map((t=>this._itemsWithFeedback(e,t)))))),r.oA)))).subscribe(y.wW(this._highlights))),this._subscriptions.add(this._handleSetItemChecked()),this._subscriptions.add(this._handleItemFeedback()),this._subscriptions.add(this._handleRemoveItem()),this._subscriptions.add(this._handleUndoRemoveItem())}_itemFeedback(e,t,n){return(0,s.zG)(E.fromNullable(this._feedbacks.get(e)),E.chain((e=>E.fromNullable(e.get(a.create(t,n))))))}_itemsWithFeedback(e,t){return(0,s.zG)(t,u.UI((t=>({...t,feedback:this._itemFeedback(e,t.id,t.kind)}))))}_itemCheck(e,t){return(0,s.zG)(E.fromNullable(this._checks.get(e)),E.fold((()=>!1),(e=>e.has(t))))}_itemsWithChecks(e,t){return(0,s.zG)(t,u.UI((t=>({...t,checked:this._itemCheck(e,t.id)}))))}_itemDismissed(e,t,n){return(0,s.zG)(E.fromNullable(this._dismissed.get(e)),E.fold((()=>!1),(e=>e.has(a.create(t,n)))))}_itemsNotDismissed(e,t){return(0,s.zG)(t,u.hX((t=>!this._itemDismissed(e,t.id,t.kind))))}_handleSetItemChecked(){return this._actions.pipe(i.ofKind(o.Kind.setItemChecked)).subscribe((({docId:e,item:t,checked:n})=>{(0,s.zG)(E.fromNullable(this._checks.get(e)),E.alt((()=>{const t=new Set;return this._checks.set(e,t),E.some(t)})),E.map((e=>n?e.add(t.id):e.delete(t.id)))),this._followUps.modify(r.Su(((e,t)=>this._itemsWithChecks(e,t)))),this._csActions.readerUpdateFollowUpItemState({docId:e,item:{id:t.id,kind:d.YB.followUp,dismissed:this._itemDismissed(e,t.id,d.YB.followUp),checked:n}}).catch(this._onHandleReject("csActions.readerUpdateFollowUpItemState"))}))}_handleItemFeedback(){return this._actions.pipe(i.ofKind(o.Kind.itemFeedback)).subscribe((({docId:e,item:t,feedback:n})=>{(0,s.zG)(E.fromNullable(this._feedbacks.get(e)),E.alt((()=>{const t=new Map;return this._feedbacks.set(e,t),E.some(t)})),U.bw((e=>e.set(a.create(t.id,t.kind),n)))),t.kind===d.YB.followUp?(this._followUps.modify(r.Su(((e,t)=>this._itemsWithFeedback(e,t)))),this._csActions.readerUpdateFollowUpItemState({docId:e,item:{id:t.id,kind:d.YB.followUp,dismissed:this._itemDismissed(e,t.id,d.YB.followUp),checked:this._itemCheck(e,t.id),feedback:n}}).catch(this._onHandleReject("csActions.readerUpdateFollowUpItemState"))):t.kind===d.YB.keyPoint?(this._keyPoints.modify(r.Su(((e,t)=>this._itemsWithFeedback(e,t)))),this._csActions.readerUpdateKeyPointItemState({docId:e,item:{id:t.id,kind:d.YB.keyPoint,dismissed:this._itemDismissed(e,t.id,d.YB.keyPoint),feedback:n}}).catch(this._onHandleReject("csActions.readerUpdateKeyPointItemState"))):t.kind===d.YB.highlight?(this._highlights.modify(r.Su(((e,t)=>this._itemsWithFeedback(e,t)))),this._csActions.readerUpdateHighlightItemState({docId:e,item:{id:t.id,kind:d.YB.highlight,dismissed:this._itemDismissed(e,t.id,d.YB.highlight),feedback:n}}).catch(this._onHandleReject("csActions.readerUpdateHighlightItemState"))):(0,N.L0)(t)}))}_handleRemoveItem(){return this._actions.pipe(i.ofKind(o.Kind.removeItem)).subscribe((({docId:e,item:t})=>{(0,s.zG)(E.fromNullable(this._dismissed.get(e)),E.alt((()=>{const t=new Set;return this._dismissed.set(e,t),E.some(t)})),U.bw((e=>e.add(a.create(t.id,t.kind))))),(0,s.zG)(E.fromNullable(this._dismissedUndoable.get(e)),E.alt((()=>{const t=new Map;return this._dismissedUndoable.set(e,t),E.some(t)})),U.bw((e=>e.set(a.create(t.id,t.kind),t)))),t.kind===d.YB.followUp?(this._followUps.modify((0,s.ls)(r.Su(((t,n)=>t===e?this._itemsNotDismissed(t,n):E.some(n))),r.oA)),this._csActions.readerUpdateFollowUpItemState({docId:e,item:{id:t.id,kind:d.YB.followUp,dismissed:!0,checked:this._itemCheck(e,t.id),feedback:E.toUndefined(this._itemFeedback(e,t.id,d.YB.followUp))}}).catch(this._onHandleReject("csActions.readerUpdateFollowUpItemState"))):t.kind===d.YB.keyPoint?(this._keyPoints.modify((0,s.ls)(r.Su(((t,n)=>t===e?this._itemsNotDismissed(t,n):E.some(n))),r.oA)),this._csActions.readerUpdateKeyPointItemState({docId:e,item:{id:t.id,kind:d.YB.keyPoint,dismissed:!0,feedback:E.toUndefined(this._itemFeedback(e,t.id,d.YB.keyPoint))}}).catch(this._onHandleReject("csActions.readerUpdateKeyPointItemState"))):t.kind===d.YB.highlight?(this._highlights.modify((0,s.ls)(r.Su(((t,n)=>t===e?this._itemsNotDismissed(t,n):E.some(n))),r.oA)),this._csActions.readerUpdateHighlightItemState({docId:e,item:{id:t.id,kind:d.YB.highlight,dismissed:!0,feedback:E.toUndefined(this._itemFeedback(e,t.id,d.YB.highlight))}}).catch(this._onHandleReject("csActions.readerUpdateHighlightItemState"))):(0,N.L0)(t)}))}_handleUndoRemoveItem(){return this._actions.pipe(i.ofKind(o.Kind.undoRemoveItem),v.b((({docId:e,item:t})=>{(0,s.zG)(E.fromNullable(this._dismissedUndoable.get(e)),E.chain(r.P5(S.yv)(a.create(t.id,t.kind))),U.bw((t=>{(0,s.zG)(E.fromNullable(this._dismissed.get(e)),U.bw((n=>{n.delete(a.create(t.id,t.kind)),0===n.size&&this._dismissed.delete(e)}))),(0,s.zG)(E.fromNullable(this._dismissedUndoable.get(e)),U.bw((n=>{n.delete(a.create(t.id,t.kind)),0===n.size&&this._dismissedUndoable.delete(e)}))),t.kind===d.YB.followUp?(this._followUps.modify((0,b.n)(k.e.eq)(e,E.fold((()=>u.of(t)),(e=>u.QI(t,e))))),this._csActions.readerUpdateFollowUpItemState({docId:e,item:{id:t.id,kind:d.YB.followUp,dismissed:!1,checked:this._itemCheck(e,t.id),feedback:E.toUndefined(this._itemFeedback(e,t.id,d.YB.followUp))}}).catch(this._onHandleReject("csActions.readerUpdateFollowUpItemState"))):t.kind===d.YB.keyPoint?(this._keyPoints.modify((0,b.n)(k.e.eq)(e,E.fold((()=>u.of(t)),(e=>u.QI(t,e))))),this._csActions.readerUpdateKeyPointItemState({docId:e,item:{id:t.id,kind:d.YB.keyPoint,dismissed:!1,feedback:E.toUndefined(this._itemFeedback(e,t.id,d.YB.keyPoint))}}).catch(this._onHandleReject("csActions.readerUpdateKeyPointItemState"))):t.kind===d.YB.highlight?(this._highlights.modify((0,b.n)(k.e.eq)(e,E.fold((()=>u.of(t)),(e=>u.QI(t,e))))),this._csActions.readerUpdateHighlightItemState({docId:e,item:{id:t.id,kind:d.YB.highlight,dismissed:!1,feedback:E.toUndefined(this._itemFeedback(e,t.id,d.YB.highlight))}}).catch(this._onHandleReject("csActions.readerUpdateHighlightItemState"))):(0,N.L0)(t)})))}))).subscribe()}dispose(){this._subscriptions.unsubscribe()}}var x,L,B=n(17771),A=n(13853),T=n(45614),O=n(50829),G=n(71249);function H(e,t,n,o,i){const a=n||o;return(E.isNone(t.lowQualityInfo)||t.showLowQualityContentRequested)&&(0,s.zG)(z(e,t,a),U.FX(!1))?(0,s.zG)(t.highlightsToggledByUser,E.alt((()=>E.some(a))),E.filter((()=>i))):E.none}function z(e,t,n){return(0,s.zG)(t.recapBarToggledByUser,E.map((e=>"compact"===e)),E.alt((()=>e.recapHidden?E.some(!0):E.none)),E.alt((()=>(0,s.zG)(t.goodForAnnotations,E.filter((e=>!e)),E.map(s.W8)))),E.alt((()=>(0,s.zG)(t.lowQualityInfo,E.map(s.W8)))),E.alt((()=>"idle"===t.checkingState?E.some(!n):E.none)))}!function(e){e.empty=function(){return{highlightsToggledByUser:E.none,recapBarToggledByUser:E.none,showLowQualityContentRequested:!1,lowQualityInfo:E.none,goodForAnnotations:E.none,checkingState:"initial"}}}(x||(x={})),function(e){let t;!function(e){e.empty=function(){return{docs:new Map,thread:{recapHidden:!1}}}}(t=e.State||(e.State={}));e.Impl=class{constructor(e,n,o,i,a){this._actions=e,this._csActions=n,this._readerCSState=o,this._onHandleReject=a,this._subscriptions=new I.w,this._state=F.h.create(t.empty()),this.state=this._state.view();const l=i.get().checks.view(r.DZ((0,s.ls)(M.ei("checks"),m.Ew(g.I.Reader.isDocInfo))));this._subscriptions.add(l.subscribe((e=>this._state.lens("docs").modify((t=>(0,s.zG)(Array.from(e.values()),G.u4(t,((e,t)=>(0,b.n)(k.e.eq)(t.docId,this._updateDocState(t.docId,{lowQualityInfo:t.filteringInfo,goodForAnnotations:E.some(t.goodForAnnotations)}))(e))))))))),this._subscriptions.add(this._readerCSState.view((e=>"optedIn"===e.kind?e.docs:{})).subscribe((e=>this._state.lens("docs").modify((t=>(0,s.zG)(T.qo(e||{}),G.u4(t,((e,[t,n])=>(0,b.n)(k.e.eq)(t,this._updateDocState(t,{highlightsToggledByUser:E.fromNullable(n.highlightsEnabled)}))(e)))))))));const c=new Set(i.get().checks.get().keys());this._subscriptions.add(i.get().pendingUpdates.subscribe((e=>{this._state.lens("docs").modify((t=>{const n=new Set((0,s.zG)(e,r.hX((0,s.ls)(M.ei("featureChecksCompleted"),(0,s.ff)(A.t9(S.yv)(O.z.reader)))),(e=>e.keys())));return n.forEach((e=>c.add(e))),(0,s.zG)(Array.from(n),G.u4(t,((e,t)=>(0,b.n)(k.e.eq)(t,this._updateDocState(t,{checkingState:"inProgress"}))(e))),r.Su(((e,t)=>({...t,checkingState:!n.has(e)&&c.has(e)?"idle":t.checkingState}))))}))}))),this._subscriptions.add(this._handleInlineHighlightsToggle()),this._subscriptions.add(this._handleShowAnyway()),this._subscriptions.add(this._handleToggleRecapBar()),this._subscriptions.add(this._handleHideRecap())}_handleInlineHighlightsToggle(){return this._actions.pipe(i.ofKind(o.Kind.toggleInlineHighlights),v.b((({docId:e,enabled:t})=>{this._csActions.readerToggleInlineHighlights({docId:e,enabled:t}).catch(this._onHandleReject("csActions.readerToggleInlineHighlights"))}))).subscribe()}_handleShowAnyway(){return this._actions.pipe(i.ofKind(o.Kind.showAnyway),v.b((({docId:e})=>this._state.lens("docs").modify((0,b.n)(k.e.eq)(e,this._updateDocState(e,{showLowQualityContentRequested:!0})))))).subscribe()}_handleToggleRecapBar(){return this._actions.pipe(i.ofKind(o.Kind.toggleRecapBar),v.b((({docId:e,isCompact:t})=>this._state.lens("docs").modify((0,b.n)(k.e.eq)(e,this._updateDocState(e,{recapBarToggledByUser:E.some(t?"compact":"full")})))))).subscribe()}_handleHideRecap(){return this._actions.pipe(i.ofKind(o.Kind.turnOffRecapModalResult),K.h((({result:e})=>"hideRecap"===e))).subscribe((()=>this._state.modify((e=>({thread:{recapHidden:!0},docs:(0,s.zG)(e.docs,r.UI((e=>({...e,recapBarToggledByUser:E.none}))))})))))}_emptyDocState(e){var t,n;return{...x.empty(),highlightsToggledByUser:E.fromNullable(null===(n=null===(t=this._readerCSState.view((e=>"optedIn"===e.kind?e.docs:{})).get())||void 0===t?void 0:t[e])||void 0===n?void 0:n.highlightsEnabled)}}_updateDocState(e,t){return n=>({...this._emptyDocState(e),...(0,s.zG)(n,E.getOrElse((()=>({})))),...t})}dispose(){this._subscriptions.unsubscribe()}};e.SingleDocMock=class{constructor(e,n,o){this._actions=e,this._subscriptions=new I.w,this._state=F.h.create(t.empty()),this.state=this._state.view(),this._state.set({thread:{recapHidden:!1},docs:(0,s.zG)(null!=o?o:E.some({}),E.fold((()=>new Map),(e=>{var t,o,i,a,s,r;return new Map([[n,{highlightsToggledByUser:null!==(t=e.highlightsToggledByUser)&&void 0!==t?t:E.none,recapBarToggledByUser:null!==(o=e.recapBarToggledByUser)&&void 0!==o?o:E.none,showLowQualityContentRequested:null!==(i=e.showLowQualityContentRequested)&&void 0!==i&&i,lowQualityInfo:null!==(a=e.lowQualityInfo)&&void 0!==a?a:E.none,goodForAnnotations:null!==(s=e.goodForAnnotations)&&void 0!==s?s:E.some(!0),checkingState:null!==(r=e.checkingState)&&void 0!==r?r:"idle"}]])})))}),this._subscriptions.add(this._handleInlineHighlightsToggle()),this._subscriptions.add(this._handleShowAnyway()),this._subscriptions.add(this._handleToggleRecapBar())}_handleInlineHighlightsToggle(){return this._actions.pipe(i.ofKind(o.Kind.toggleInlineHighlights),v.b((({enabled:e})=>{this._state.lens("docs").modify(r.UI((t=>({...t,highlightsToggledByUser:E.some(e)}))))}))).subscribe()}_handleShowAnyway(){return this._actions.pipe(i.ofKind(o.Kind.showAnyway),v.b((()=>{this._state.lens("docs").modify(r.UI((e=>({...e,showLowQualityContentRequested:!0}))))}))).subscribe()}_handleToggleRecapBar(){return this._actions.pipe(i.ofKind(o.Kind.toggleRecapBar),v.b((({isCompact:e})=>this._state.lens("docs").modify(r.UI((t=>({...t,recapBarToggledByUser:E.some(e?"compact":"full")}))))))).subscribe()}dispose(){this._subscriptions.unsubscribe()}}}(L||(L={}));var D=n(34217),V=n(81117),Z=n(53704),Y=n(90845),q=n(31278),j=n(60797),W=n(41398),Q=n(76974),J=n(66310),X=n(93508),$=n(19703),ee=n(3309);const te={panelScrollEventThrottleTime:200,enableInlineHighlights:"Show highlights",disableInlineHighlights:"Hide highlights",followUps:{doneNotification:"Done!"},recapBar:{optIn:{content:"Grammarly can now summarize emails, including this one!",tryItOutButton:"Try it out",learnMoreLabel:"Learn more",learnMoreLink:"https://www.grammarly.com/recap",dismissButton:"Dismiss"},logoTooltips:{hide:"Hide recap",show:"Show recap",loading:"",noSummary:"",noSummaryMessageTooShort:"",contentIsLowQuality:""},zeroStates:{contentIsLowQuality:"This recap may not be useful to you.",showAnyway:"Show anyway",noSummary:"We don’t have a summary for this message.",noSummaryMessageTooShort:"We don’t have a summary for this message."},followUps:{buttonTitle:{singular:"follow-up",plural:"follow-ups"}},keyPoints:{buttonTitle:{singular:"key point",plural:"key points"}},all:{buttonTitle:"All"},settingsMenu:{buttonTitle:"Actions",menuTitle:"Actions Menu",hide:"Hide email recap",show:"Show email recap",about:"About email recap",feedback:"Give feedback",disable:"Turn off email recap"},highlightsSwitch:{label:"Highlights"}},hintButton:{title:"What’s this?"},reply:"Reply",itemMenu:{buttonTitle:"Actions",actions:{reply:"Reply to this",copy:"Copy",remove:"Remove"}},itemFeedback:{button:{action:"Give feedback",good:"This is helpful",bad:"This is not helpful"},popup:{good:"Helpful",bad:"Not helpful"}},highlightMenu:{actions:{reply:"Reply to this",copy:"Copy",remove:"Remove highlight"},logoTooltip:"Highlighted by Grammarly"},replyPanel:{show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",compact:{followUps:{singular:"follow-up",plural:"follow-ups",suffix:"to consider."},keyPoints:{content:"Refresh your memory.",action:"Show key points"}},header:{followUps:{singular:"Consider responding to this",plural:"Consider responding to these"},keyPoints:{singular:"key point",plural:"key points"}},content:{followUps:{singular:"follow-up",plural:"follow-ups"},keyPoints:{singular:"key point",plural:"key points"}}},aboutRecapModal:{title:"Spend less time in your inbox with email summarization",closeButton:"Close",takeATourButton:"Take a tour",body:e=>l.createElement(l.Fragment,null,l.createElement("p",null,"Push back on information overload with email recap, a new feature from Grammarly that helps you read more effectively and write sharper replies."),l.createElement("p",null,"Grammarly analyzes emails in seconds, smartly picking out and highlighting the takeaways and action items so you can focus your time and energy where it matters most."," ",l.createElement("a",{href:"https://www.grammarly.com/recap",target:"_blank",rel:"noreferrer",onClick:e.onLearMoreLinkClick},"Learn more")))},turnOffRecapModal:{title:"Turn off email recap?",hideRecapButton:"Hide recap",turnOffRecapButton:"Turn off recap",body:()=>l.createElement(l.Fragment,null,l.createElement("p",null,"This will completely deactivate the feature."),l.createElement("p",null,l.createElement("b",null,"Hide recap")," instead if you would rather not see it for now, but still want the option to expand it later."))},optInDismissModal:{title:"Should we show this message again later?",yesButton:"Yes",noButton:"No"},optInTryItOutModal:{title:"Spend less time in your inbox with email summarization",notNowButton:"Not now",declineButton:"Decline",continueButton:"Continue",body:e=>l.createElement(l.Fragment,null,l.createElement("p",null,"Push back on information overload with Grammarly’s email recap, a feature that helps you read more effectively and write sharper replies."),l.createElement("p",null,"Before we can deliver AI-powered summaries, Grammarly needs permission to collect and process the text, subject line, and metadata of your email threads. We handle that data securely and never sell or rent user data. You can opt out at any time by deactivating the feature within the Grammarly for Chrome extension settings."),l.createElement("p",null,"By continuing, you grant Grammarly permission to collect data according to our"," ",l.createElement("a",{href:"https://www.grammarly.com/recap#sectionGroup_3sdszga28v553MzgysHnCL",target:"_blank",rel:"noreferrer",onClick:e.onDataCollectionPolicyLinkClick},"data collection policy"),". We also provide additional information about Grammarly’s general data policies in our"," ",l.createElement("a",{href:"https://www.grammarly.com/terms",target:"_blank",rel:"noreferrer",onClick:e.onTermsOfServiceLinkClick},"Terms of Service")," ","and"," ",l.createElement("a",{href:"https://www.grammarly.com/privacy-policy",target:"_blank",rel:"noreferrer",onClick:e.onPrivacyPolicyLinkClick},"Privacy Policy"),"."))},genericFeedbackModal:{title:"Is Grammarly Recap helpful?",textBoxPlaceholder:"How can we improve?",textBoxAriaLabel:"Feedback text",requiredLabel:"Required",cancel:"Cancel",sendFeedback:"Send feedback",ratings:["It’s not helpful","It could be better","It’s okay","It’s pretty helpful","It’s great"]},itemFeedbackModal:{title:"Thank you for rating!",description:"We’d love to hear what you liked or disliked so we can improve this feature.",textBoxHeader:"Feedback",textBoxPlaceholder:"Share your thoughts",textBoxAriaLabel:"Feedback text",requiredLabel:"Required",skip:"Skip",sendFeedback:"Send feedback"},toastNotifications:{textCopiedSuccess:"Copied",feedbackSubmittedSuccess:"Thank you for your feedback!",undoRemoveItem:{followUp:"Follow-up removed",keyPoint:"Key-point removed",highlight:"Highlight removed",undoDoneLabel:"Action undone",undoButton:"Undo"}},lastingNotifications:{optInDismissShowLaterYes:{title:"We’ll show the message about recap later.",body:"You can try email recaps at any time through the Grammarly for Chrome extension settings.",closeButton:"Close"},optInDismissShowLaterNo:{title:"Ok, we’ll stop showing these messages for a while.",body:"You can try email recaps at any time through the Grammarly for Chrome extension settings.",closeButton:"Close"},turnOffRecap:{title:"Email recap is now off",body:"You can turn it back on at any time through the Grammarly for Chrome extension settings.",closeButton:"Close"}},onboarding:{buttons:{prev:"Back",next:"Next",close:"Close"},firstHighlight:{header:"Never miss the point",content:"The most important sentences have been highlighted for you."},highlightMenu:{header:"Put highlights to use",content:"Click to open actions like copying and replying."},recapBar:{header:"View the full recap",content:"Expand the panel to access email summaries, handy follow-up checklists, and more."},recapBarMenu:{header:"Hide email recaps",content:"You can collapse recap content when you don’t need it or turn the feature off completely."},followUps:{header:"Tackle action items",content:"Review any questions and tasks raised by the email."},draftReply:{header:"Ready to write back?",content:"Open the reply field and start drafting away."},keyPoints:{header:"Short on time?",content:"Stay up to date with 1–5 of the email’s top takeaways."},checkItem:{header:"Mark completed tasks",content:"While drafting a reply, use the checklist to keep track of what’s left to address."},itemMenu:{header:"Quote the source",content:"Reference a specific detail or sentence by pasting it directly into your reply."}}};var ne,oe=n(53094);!function(e){let t;!function(e){const t=D.UI.Node.make((({state:e,notify:t})=>{const{ref:n,onMount:o}=Y.P.useElWatcher();return Y.P.useSubscriptionTo(n.pipe(j.oA,W.M(e),v.b((([e,{onboardingKind:n,stepName:o}])=>t({kind:"shown",onboardingKind:n,stepName:o})())))),l.createElement($.F.Fragment,null,e.pipe(w.U((({stepName:e,stepsCount:n,currentStep:i})=>l.createElement("div",{className:oe.onboarding,key:e,ref:o},"firstHighlight"===e?l.createElement(ee.J.OnboardingHeader,{className:oe.onboardingIcon}):null,l.createElement("h1",{className:oe.onboardingHeader},te.onboarding[e].header),l.createElement("div",{className:oe.onboardingContent},te.onboarding[e].content),l.createElement("div",{className:oe.onboardingFooter},i>0?l.createElement(V.o.Tertiary,{name:"prev",theme:"dark","aria-title":te.onboarding.buttons.prev,onClick:t({kind:"prev",stepName:e}),className:oe.onboardingFooterLeft},l.createElement(q.JO.Arrow,{direction:q.n4.left,width:12}),te.onboarding.buttons.prev):null,n>1?l.createElement("div",{className:oe.onboardingFooterCenter},i+1," of ",n):null,l.createElement(V.o.Primary,{name:"next",theme:"dark","aria-title":te.onboarding.buttons.next,onClick:t({kind:i===n-1?"close":"next",stepName:e}),className:oe.onboardingFooterRight},i===n-1?te.onboarding.buttons.close:te.onboarding.buttons.next)),l.createElement(V.o.Tertiary,{className:oe.onboardingClose,name:"close",theme:"dark",compact:!0,onClick:t({kind:"close",stepName:e})},l.createElement(q.JO.Close,null)))))))}));e.UIPart=D.UI.Union.asOption(t),e.createFlow=function(e,t,n){return D.Z.composeUnion({None:()=>Q.of(null),Some:D.Z.composeKnot({value:D.Z.fromSideEffect((t=>{switch(t.kind){case"shown":n.next({kind:o.Kind.onboardingShown,stepName:t.stepName,onboardingKind:t.onboardingKind,docId:e()});break;case"next":n.next({kind:o.Kind.onboardingNext,stepName:t.stepName,docId:e()});break;case"prev":n.next({kind:o.Kind.onboardingPrev,stepName:t.stepName,docId:e()});break;case"close":n.next({kind:o.Kind.onboardingDismiss,stepName:t.stepName,docId:e()});break;default:(0,N.L0)(t)}}),t.pipe(w.U(E.map((({currentStep:e,steps:t,currentStepName:n})=>({currentStep:e,stepsCount:t.length,stepName:n,onboardingKind:t[e].kind})))),j.oA))})},(()=>t))}}(t=e.Content||(e.Content={}));const n=D.UI.Grid.make((({slots:e,state:t})=>l.createElement($.F.Fragment,null,t.pipe(w.U(E.fold((()=>null),(({anchorNode:t,placement:n,distance:o,show:i})=>l.createElement(Z.f.WithRef,{key:"onboarding",content:l.createElement($.F.Fragment,null,e.content),referenceElement:t,offsets:{away:o?o+8:6,along:0},theme:"dark",arrowSize:"small",useArrow:!0,placement:n||"top",style:{zIndex:1e4,width:240},animateBetweenStates:!1,show:i}))))))));e.UIPart=D.UI.Knot.make(n,{content:t.UIPart}),e.createFlow=function(e){const n=e.state.view((0,s.ls)(M.H6("anchorNode","placement","distance","currentStepName","currentStep","steps"),B.Y(E.option))),o=n.pipe(j.oA,J.w((e=>n.view(E.isSome).view((t=>E.some({...e,show:t}))))),X.O(E.none));return D.Z.composeKnot({root:()=>o,content:t.createFlow((()=>e.state.get().docId),o.pipe(w.U(E.map(M.H6("currentStepName","currentStep","steps")))),e.actions)})}}(ne||(ne={}));var ie,ae=n(75420),se=n(80900),re=n(71032),le=n(32952);!function(e){e.empty=e=>({currentStep:E.none,currentStepName:E.none,steps:E.none,anchorNode:E.none,placement:E.none,distance:E.none,docId:e})}(ie||(ie={}));const ce='[aria-controls="actions-menu"]',de="li",me='[data-name="menu"]';class ue{constructor(e,t,n,o,i,a,s,r=(()=>{this._tryToOpenSettingsMenu()}),l=(()=>{this._tryToCloseSettingsMenu()}),c=(()=>this._tryToOpenHighlightPopup()),d=(()=>this._tryToCloseHighlightPopup()),m=(()=>this._tryToOpenFirstItemMenu()),u=(()=>this._tryToCloseFirstItemMenu()),p=he){this._docId=e,this.actions=t,this.fakeMouse=n,this._isAvailable=o,this._csState=i,this._csActions=a,this._onHandleReject=s,this._openSettingsMenu=r,this._closeSettingsMenu=l,this._openHighlightPopup=c,this._closeHighlightPopup=d,this._showFirstItemMenu=m,this._hideFirstItemMenu=u,this._stepsSetup=p,this._subscriptions=new I.w,this._cancelableSubscription=F.h.create(new I.w),this._state=F.h.create(ie.empty(this._docId)),this._anchors=new Map,this._unmountPostponed=new Map,this.state=this._state.view(),this._subscriptions.add(this._performSideEffectMaybe()),this._subscriptions.add(this._handleAnchorNode()),this._subscriptions.add(this._handleAnchorNodeUnmount()),this._subscriptions.add(this._handleSetKind()),this._subscriptions.add(this._handleNext()),this._subscriptions.add(this._handlePrev()),this._subscriptions.add(this._handleDismiss()),this._subscriptions.add(this._handleShown())}_setCancelable(e){this._cancelableSubscription.get().add(e.subscribe())}_clearCancelables(){this._cancelableSubscription.modify((e=>(e.unsubscribe(),new I.w)))}_tryToOpenSettingsMenu(){(0,s.zG)(E.fromNullable(this._anchors.get("recapBar")),E.filter((e=>"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement)),E.chain((e=>E.fromNullable(e.getRootNode()))),E.filter((e=>"querySelector"in e)),E.chain((e=>E.fromNullable(e.querySelector(ce)))),E.filter(ae.Re),E.map((e=>e.click())))}_tryToCloseSettingsMenu(){(0,s.zG)(E.fromNullable(this._anchors.get("recapBarMenu")),E.filter((e=>"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement)),E.chain((e=>E.fromNullable(e.getRootNode()))),E.filter((e=>"querySelector"in e)),E.chain((e=>E.fromNullable(e.querySelector(ce)))),E.filter(ae.Re),E.map((e=>e.click())))}_tryToOpenHighlightPopup(){(0,s.zG)(this._state.get(),(({currentStepName:e})=>B.Y(E.option)({anchorNode:E.fromNullable(this._anchors.get("firstHighlight")),currentStepName:e})),E.filter((({currentStepName:e})=>"highlightMenu"===e)),E.map((({anchorNode:e})=>e.getBoundingClientRect())),E.chain((({left:e,top:t})=>B.Y(E.option)({x:E.some(e),y:E.some(t),el:(0,s.zG)(E.fromNullable(document.elementFromPoint(e+4,t+4)),E.filter(ae.Re))}))),E.map((({x:e,y:t,el:n})=>{this.fakeMouse.set({clientX:e,clientY:t+8}),this._clearCancelables(),this._setCancelable(se.H(1e3/15).pipe(v.b((()=>n.dispatchEvent(new MouseEvent("click",{bubbles:!0,clientX:e,clientY:t+8})))))),this._setCancelable(se.H(5e3).pipe(v.b((()=>{this.fakeMouse.set(null)}))))})))}_tryToCloseHighlightPopup(){(0,s.zG)(E.fromNullable(this._anchors.get("firstHighlight")),E.map((e=>e.getBoundingClientRect())),E.chain((({left:e,top:t})=>B.Y(E.option)({x:E.some(e),y:E.some(t),el:(0,s.zG)(E.fromNullable(document.elementFromPoint(e+4,t+4)),E.filter(ae.Re))}))),E.map((({el:e})=>{this.fakeMouse.set({clientX:0,clientY:0}),this._clearCancelables(),this._setCancelable(se.H(1e3/15).pipe(v.b((()=>{e.dispatchEvent(new MouseEvent("click",{bubbles:!0,clientX:0,clientY:0})),this.fakeMouse.set(null)}))))})))}_tryToOpenFirstItemMenu(){(0,s.zG)(E.fromNullable(this._anchors.get("checkItem")),E.filter((e=>"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement)),E.chain((e=>E.fromNullable(e.closest(de)))),E.filter(ae.Re),E.chain((e=>E.fromNullable(e.querySelector(me)))),E.filter(ae.Re),U.bw((e=>e.click())))}_tryToCloseFirstItemMenu(){(0,s.zG)(E.fromNullable(this._anchors.get("itemMenu")),E.filter((e=>"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement)),E.chain((e=>E.fromNullable(e.closest(de)))),E.filter(ae.Re),E.chain((e=>E.fromNullable(e.querySelector(me)))),E.filter(ae.Re),U.bw((e=>e.click())))}_performSideEffectMaybe(){return this._state.view("currentStepName").pipe(v.b(U.bw((e=>{switch(e){case"highlightMenu":this._openHighlightPopup();break;case"recapBarMenu":this._openSettingsMenu();break;case"itemMenu":this._showFirstItemMenu()}})))).subscribe()}_cleanUpSideEffectMaybe(e){switch(e){case"highlightMenu":this._closeHighlightPopup();break;case"recapBarMenu":this._closeSettingsMenu();break;case"itemMenu":this._hideFirstItemMenu()}}_getAnchorNode(e){return(0,s.zG)(E.fromNullable(this._anchors.get(e)),E.filter((e=>!("nodeType"in e)||!!e.parentElement)),U.ew((()=>this._anchors.delete(e))))}_handleAnchorNode(){return this.actions.pipe(i.ofKind(o.Kind.onboardingAnchorMounted),i.ofDocId(this._docId),v.b((({stepName:e,anchorNode:t})=>{this._anchors.set(e,t),(0,s.zG)(this._state.view("currentStepName").get(),E.filter((t=>t===e)),U.bw((()=>{this._state.lens("anchorNode").set(E.some(t))})))})),W.M(this._csState),v.b((([e,t])=>{(0,s.zG)(this._state.get(),(({steps:e,currentStep:t,currentStepName:n})=>B.Y(E.option)({steps:e,currentStep:t,currentStepName:n})),U.ew((()=>{(0,s.zG)(E.fromPredicate((()=>this._isAvailable.get()))(null),E.chain((()=>E.fromNullable(Object.keys(this._stepsSetup).find((e=>{var n;return!(null===(n=t.seenOnboardingKinds)||void 0===n?void 0:n[e])}))))),E.map((e=>this._stepsSetup[e])),E.map((e=>({steps:e,currentStep:0,stepName:e[0].name,placement:e[0].placement,distance:e[0].distance}))),U.bw((({steps:e,currentStep:t,stepName:n,placement:o,distance:i})=>{this._state.modify((a=>({...a,steps:E.some(e),currentStep:E.some(t),currentStepName:E.some(n),placement:E.some(o),anchorNode:this._getAnchorNode(n),distance:E.some(i)})))})))})))}))).subscribe()}_handleAnchorNodeUnmount(){return this._subscriptions.add(this.actions.pipe(i.ofKind(o.Kind.onboardingAnchorUnmounted),i.ofDocId(this._docId),re.b((({stepNames:e})=>Q.of(...e))),v.b((e=>{(0,s.zG)(E.fromNullable(this._unmountPostponed.get(e)),U.bw((t=>{t.unsubscribe(),this._unmountPostponed.delete(e)})))}))).subscribe()),this.actions.pipe(i.ofKind(o.Kind.onboardingAnchorUnmounted),i.ofDocId(this._docId),re.b((({stepNames:e})=>Q.of(...e))),v.b((e=>{this._anchors.delete(e),(0,s.zG)(E.fromNullable(this._unmountPostponed.get(e)),U.bw((t=>{t.unsubscribe(),this._unmountPostponed.delete(e)}))),this._unmountPostponed.set(e,se.H(150).pipe(v.b((()=>this._state.modify((t=>({...t,...(0,s.zG)(t.currentStepName,E.filter((t=>t===e)),E.fold((()=>null),(()=>({anchorNode:E.none,currentStep:E.none,currentStepName:E.none,steps:E.none,placement:E.none,distance:E.none}))))})))))).subscribe())}))).subscribe()}_handleSetKind(){return this.actions.pipe(i.ofKind(o.Kind.onboardingSetKind),v.b((({onboardingKind:e})=>{this._state.modify((t=>(0,s.zG)(e,E.filter((()=>this._isAvailable.get())),E.chain((e=>E.fromNullable(this._stepsSetup[e]))),E.map((e=>({steps:e,currentStep:0,stepName:e[0].name,placement:e[0].placement,distance:e[0].distance,docId:t.docId}))),E.fold((()=>ie.empty(t.docId)),(({steps:e,currentStep:n,stepName:o,placement:i,distance:a})=>({steps:E.some(e),currentStep:E.some(n),currentStepName:E.some(o),placement:E.some(i),anchorNode:this._getAnchorNode(o),distance:E.some(a),docId:t.docId}))))))}))).subscribe()}_handleNext(){return this.actions.pipe(i.ofKind(o.Kind.onboardingNext),v.b((({stepName:e})=>this._cleanUpSideEffectMaybe(e))),v.b((()=>{this._state.modify((e=>({...e,...(0,s.zG)(B.Y(E.option)({currentStep:e.currentStep,steps:e.steps}),E.chain((({currentStep:t,steps:n})=>(0,s.zG)(E.fromNullable(n[t+1]),E.chain((n=>B.Y(E.option)({currentStep:E.some(t+1),steps:e.steps,stepName:E.some(n.name),placement:E.some(n.placement),distance:E.some(n.distance)})))))),U.ew((()=>this._checkIfAllSeen())),E.fold((()=>ie.empty(e.docId)),(({currentStep:e,steps:t,stepName:n,placement:o,distance:i})=>({currentStep:E.some(e),steps:E.some(t),currentStepName:E.some(n),placement:E.some(o),anchorNode:this._getAnchorNode(n),distance:E.some(i)}))))})))}))).subscribe()}_handlePrev(){return this.actions.pipe(i.ofKind(o.Kind.onboardingPrev),v.b((({stepName:e})=>this._cleanUpSideEffectMaybe(e))),v.b((()=>{this._state.modify((e=>({...e,...(0,s.zG)(B.Y(E.option)({currentStep:e.currentStep,steps:e.steps}),E.chain((({currentStep:t,steps:n})=>(0,s.zG)(E.fromNullable(n[t-1]),E.chain((n=>B.Y(E.option)({currentStep:E.some(t-1),steps:e.steps,stepName:E.some(n.name),placement:E.some(n.placement),distance:E.some(n.distance)})))))),E.fold((()=>ie.empty(e.docId)),(({currentStep:e,steps:t,stepName:n,placement:o,distance:i})=>({currentStep:E.some(e),steps:E.some(t),currentStepName:E.some(n),placement:E.some(o),anchorNode:this._getAnchorNode(n),distance:E.some(i)}))))})))}))).subscribe()}_checkIfAllSeen(){this._csState.view("seenOnboardingKinds").view((e=>(0,s.zG)(E.fromNullable(e),E.map((e=>Object.values(e).every((e=>e)))),E.getOrElse(s.jv)))).view((e=>{e&&this._csActions.readerUpdateSeenOnboarding().catch(this._onHandleReject("csActions.readerUpdateSeenOnboarding"))})).get()}_handleDismiss(){return this.actions.pipe(i.ofKind(o.Kind.onboardingDismiss),v.b((({stepName:e})=>this._cleanUpSideEffectMaybe(e))),v.b((()=>{this._state.set(ie.empty(this._docId)),this._checkIfAllSeen()}))).subscribe()}_handleShown(){return this.actions.pipe(i.ofKind(o.Kind.onboardingShown),v.b((({onboardingKind:e})=>{this._csActions.readerUpdateSeenOnboardingKind({onboardingKind:e}).catch(this._onHandleReject("csActions.readerUpdateSeenOnboardingKind"))}))).subscribe()}dispose(){Array.from(this._unmountPostponed.values()).forEach((e=>e.unsubscribe())),this._cancelableSubscription.get().unsubscribe(),this._subscriptions.unsubscribe()}}var pe;!function(e){e.Mock=class{constructor(e=ie.empty(k.e.create("some-doc"))){this._state=F.h.create(ie.empty(k.e.create("some-doc"))),this.state=this._state.view(),this.actions=new le.xQ,this._state.modify((()=>e))}dispose(){}}}(pe||(pe={}));const he={general:[{kind:"general",name:"firstHighlight"},{kind:"general",name:"highlightMenu"},{kind:"general",name:"recapBar"},{kind:"general",name:"recapBarMenu",placement:"left"}],followUps:[{kind:"followUps",name:"followUps",placement:"right",distance:16},{kind:"followUps",name:"draftReply",placement:"right"}],keyPoints:[{kind:"keyPoints",name:"keyPoints",placement:"right",distance:16}],replyPanel:[{kind:"replyPanel",name:"checkItem",distance:42},{kind:"replyPanel",name:"itemMenu"}]};class fe{constructor(e,t,n,o,i,a,r,l){this._threadContext=e,this._docsStateManager=t,this._itemsManager=n,this._readerCSState=o,this._csActions=i,this._actions=a,this._fakeMouse=r,this._onHandleReject=l,this._viewModel=F.h.create(null),this._activeStep=F.h.create(E.none),this._viewModelSubscription=F.h.create(new I.w),this.state=F.h.combine(this._threadContext.view((e=>(0,s.zG)(E.fromNullable(e.messageIndexToIdMap.get(e.messageCount-1)),E.fold((()=>null),(e=>{var t;null===(t=this._viewModel.get())||void 0===t||t.dispose(),this._viewModelSubscription.get().unsubscribe();const n=new ue(e,this._actions,this._fakeMouse,this.availableFor(F.h.create(E.some(e))),this._readerCSState.view(M.H6("seenOnboarding","seenOnboardingKinds")),this._csActions,this._onHandleReject);return this._viewModel.set(n),this._viewModelSubscription.set(new I.w),this._viewModelSubscription.get().add(n.state.pipe(v.b((({currentStep:e,currentStepName:t,steps:n,anchorNode:o})=>this._activeStep.set((0,s.zG)(B.Y(E.option)({currentStep:e,currentStepName:t,steps:n,anchorNode:o}),E.chain((({steps:e,currentStep:t,currentStepName:n})=>B.Y(E.option)({step:E.fromNullable(e[t]),currentStepName:E.some(n)}))),E.fold((()=>E.none),(({step:e,currentStepName:t})=>E.some({stepName:t,onboardingKind:e.kind})))))))).subscribe()),D.UI.mount(ne.UIPart,ne.createFlow(n))}))))),this._activeStep,((e,t)=>({ui:e,activeStep:t})))}availableFor(e){return F.h.combine(e,this._threadContext,this._docsStateManager.state,this._itemsManager.followUps,this._itemsManager.keyPoints,this._itemsManager.highlights,((e,t,{thread:n,docs:o},i,a,r)=>(0,s.zG)(B.Y(E.option)({docId:e,lastDocId:E.fromNullable(t.messageIndexToIdMap.get(t.messageCount-1))}),E.filter((({docId:e,lastDocId:t})=>t===e)),E.map(M.ei("lastDocId")),E.chain((e=>B.Y(E.option)({docState:E.fromNullable(o.get(e)),followUps:E.fromNullable(i.get(e)),keyPoints:E.fromNullable(a.get(e)),highlights:E.fromNullable(r.get(e))}))),E.map((({docState:e})=>!(0,s.zG)(z(n,e,!0),E.getOrElse(s.W8)))),E.getOrElse(s.jv))))}dispose(){var e;null===(e=this._viewModel.get())||void 0===e||e.dispose(),this._viewModelSubscription.get().unsubscribe()}}const ge=()=>l.createElement("svg",{width:"90",height:"90",viewBox:"0 0 90 90",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{y:"36",width:"64",height:"45",rx:"8",fill:"#E7E9F5"}),l.createElement("rect",{x:"9",y:"27",width:"64",height:"45",rx:"8",fill:"#F9FAFF",stroke:"#0E101A",strokeMiterlimit:"10"}),l.createElement("mask",{id:"mask0_2673_4830",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"8",y:"26",width:"66",height:"47"},l.createElement("rect",{x:"9",y:"27",width:"64",height:"45",rx:"8",fill:"#F9FAFF",stroke:"#0E101A",strokeMiterlimit:"10"})),l.createElement("g",{mask:"url(#mask0_2673_4830)"},l.createElement("path",{d:"M11 70.5L31.5 49",stroke:"#0E101A",strokeMiterlimit:"10"}),l.createElement("path",{d:"M71.5 70.5L51 49",stroke:"#0E101A",strokeMiterlimit:"10"}),l.createElement("path",{d:"M10.6267 28.4514L37.4772 55.4779C39.4493 57.2534 42.4833 57.2534 44.3037 55.4779L71.1542 28.4514",stroke:"#0E101A",strokeMiterlimit:"10"})),l.createElement("circle",{r:"17.5",transform:"matrix(-1 0 0 1 72 27)",fill:"url(#paint0_linear_2673_4830)",stroke:"#0E101A"}),l.createElement("rect",{x:"67",y:"15",width:"10",height:"16",rx:"5",stroke:"#0E101A"}),l.createElement("rect",{x:"63",y:"24",width:"18",height:"14",rx:"3",fill:"#D7F7F0",stroke:"#0E101A"}),l.createElement("circle",{cx:"72",cy:"30",r:"1.5",fill:"#0E101A",stroke:"#0E101A"}),l.createElement("path",{d:"M72 31L72 34",stroke:"#0E101A",strokeWidth:"2",strokeLinecap:"round"}),l.createElement("defs",null,l.createElement("linearGradient",{id:"paint0_linear_2673_4830",x1:"5.5",y1:"30",x2:"26.9487",y2:"-4.25821",gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"#15C39A"}),l.createElement("stop",{offset:"1",stopColor:"#BBD86D"}))));var be=n(13351),ke=n(12187),Ie=n(14405);function we(e){return D.UI.Grid.make((({slots:t,notify:n})=>l.createElement(be.ay,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:n("overlayClose")},l.createElement(be.u_,{...(0,ke.Sh)(Ie.modal,e)},l.createElement(V.o.Tertiary,{onClick:n("close"),name:"close-button",className:Ie.closeButton,compact:!0},l.createElement(q.JO.Close,{width:13})),t.header,t.content))))}const ye=({className:e,children:t})=>l.createElement("h1",{...(0,ke.Sh)(Ie.title,e)},t),Ce=({children:e})=>l.createElement("footer",{className:Ie.footer},e),ve=({className:e,children:t})=>l.createElement(be.u_.Body,{name:"modal-body",className:Ie.body},l.createElement("main",{className:e},t));var Ee,Ue=n(36624);!function(e){const t=D.UI.Node.make((()=>l.createElement("header",{className:Ue.header},l.createElement(ge,null),l.createElement(ye,{className:Ue.title},te.optInTryItOutModal.title)))),n=D.UI.Node.make((({notify:e})=>l.createElement(l.Fragment,null,l.createElement(ve,null,te.optInTryItOutModal.body({onDataCollectionPolicyLinkClick:e("dataCollectionPolicyLink"),onPrivacyPolicyLinkClick:e("privacyPolicyLink"),onTermsOfServiceLinkClick:e("termsOfServiceLink")})),l.createElement(Ce,null,l.createElement(V.o.Tertiary,{onClick:e("notNow"),name:"not-now-button",className:Ie.button},te.optInTryItOutModal.notNowButton),l.createElement(V.o.Primary,{onClick:e("decline"),name:"decline-button",className:Ie.button},te.optInTryItOutModal.declineButton),l.createElement(V.o.Primary,{onClick:e("continue"),name:"continue-button",className:Ie.button},te.optInTryItOutModal.continueButton)))));e.UIPart=D.UI.Knot.make(we(),{header:t,content:n}),e.createFlow=function(e){return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t){case"overlayClose":case"close":e.actions.next({kind:o.Kind.optInTryItOutModalResult,result:"dismiss",docId:e.docId});break;default:(0,N.L0)(t)}}),Q.of(null)),header:()=>Q.of(null),content:D.Z.fromSideEffect((t=>{switch(t){case"notNow":e.actions.next({kind:o.Kind.optInTryItOutModalResult,result:"notNow",docId:e.docId});break;case"decline":e.actions.next({kind:o.Kind.optInTryItOutModalResult,result:"decline",docId:e.docId});break;case"continue":e.actions.next({kind:o.Kind.optInTryItOutModalResult,result:"continue",docId:e.docId});break;case"dataCollectionPolicyLink":e.actions.next({kind:o.Kind.dataCollectionPolicyLinkVisited,docId:e.docId});break;case"privacyPolicyLink":e.actions.next({kind:o.Kind.privacyPolicyLinkVisited,docId:e.docId});break;case"termsOfServiceLink":e.actions.next({kind:o.Kind.termsOfServiceLinkVisited,docId:e.docId});break;default:(0,N.L0)(t)}}),Q.of(null))})}}(Ee||(Ee={}));var _e,Me=n(72369);!function(e){const t=D.UI.Node.make((()=>l.createElement("header",{className:Me.header},l.createElement(ye,null,te.optInDismissModal.title)))),n=D.UI.Node.make((({notify:e})=>l.createElement("main",{className:Me.main},l.createElement(V.o.Primary,{name:"yes-button",onClick:e("yes"),className:Me.button},te.optInDismissModal.yesButton),l.createElement(V.o.Secondary,{name:"no-button",onClick:e("no"),className:Me.button},te.optInDismissModal.noButton))));e.UIPart=D.UI.Knot.make(we(Me.modal),{header:t,content:n}),e.createFlow=function(e){return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t){case"overlayClose":case"close":e.actions.next({kind:o.Kind.optInDismissModalResult,result:"dismiss",docId:e.docId});break;default:(0,N.L0)(t)}}),Q.of(null)),header:()=>Q.of(null),content:D.Z.fromSideEffect((t=>{switch(t){case"no":e.actions.next({kind:o.Kind.optInDismissModalResult,result:"showLaterNo",docId:e.docId});break;case"yes":e.actions.next({kind:o.Kind.optInDismissModalResult,result:"showLaterYes",docId:e.docId});break;default:(0,N.L0)(t)}}),Q.of(null))})}}(_e||(_e={}));var Pe=n(70217);const Ne=()=>l.createElement("svg",{width:"90",height:"90",viewBox:"0 0 90 90",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{y:"36",width:"64",height:"45",rx:"8",fill:"#E7E9F5"}),l.createElement("rect",{x:"9",y:"27",width:"64",height:"45",rx:"8",fill:"#F9FAFF",stroke:"#0E101A",strokeMiterlimit:"10"}),l.createElement("mask",{id:"mask0_2714_10208",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"9",y:"27",width:"64",height:"45"},l.createElement("rect",{x:"9",y:"27",width:"64",height:"45",rx:"8",fill:"#F9FAFF"})),l.createElement("g",{mask:"url(#mask0_2714_10208)"},l.createElement("path",{d:"M11 70.5L31.5 49",stroke:"#0E101A",strokeMiterlimit:"10"}),l.createElement("path",{d:"M71.5 70.5L51 49",stroke:"#0E101A",strokeMiterlimit:"10"}),l.createElement("path",{d:"M10.6267 28.4512L37.4772 55.4777C39.4493 57.2532 42.4833 57.2532 44.3037 55.4777L71.1542 28.4512",stroke:"#0E101A",strokeMiterlimit:"10"})),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.9332 26.9666C88.9332 36.8888 80.8896 44.9332 70.9666 44.9332C61.0443 44.9332 53 36.8888 53 26.9666C53 17.0436 61.0443 9 70.9666 9C80.8896 9 88.9332 17.0436 88.9332 26.9666Z",fill:"#15C39A",stroke:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73.3148 30.8458C73.4211 31.434 73.9741 31.837 74.5717 31.837H76.4543L77.5456 31.6839C75.7997 34.2453 72.768 35.4241 69.4536 34.9039C66.7555 34.4805 64.4378 32.6549 63.4598 30.1052C61.2397 24.3176 65.4666 18.7917 70.9745 18.7917C73.8453 18.7917 76.3637 20.5157 77.8073 22.5452C78.1908 23.0975 78.9493 23.256 79.5024 22.8725C80.0273 22.5085 80.1804 21.8172 79.8648 21.2735C77.8682 18.1567 74.2804 16.1624 70.2457 16.4326C64.9924 16.7849 60.7414 21.0837 60.439 26.3401C60.0883 32.4565 64.9401 37.4504 70.9745 37.4504C74.1444 37.4504 76.9824 36.0701 78.9157 33.8368L78.6869 35.1179V36.2756C78.6869 36.8724 79.0892 37.4262 79.6774 37.5325C80.4499 37.6715 81.1217 37.0817 81.1217 36.3349V29.4014H74.5116C73.7648 29.4014 73.175 30.074 73.3148 30.8458Z",fill:"white"}),l.createElement("path",{d:"M82.2162 52.7185C82.5227 52.0465 83.4773 52.0465 83.7838 52.7185L85.0592 55.5145C85.1453 55.7033 85.2967 55.8547 85.4855 55.9408L88.2815 57.2162C88.9535 57.5227 88.9535 58.4773 88.2815 58.7838L85.4855 60.0592C85.2967 60.1453 85.1453 60.2967 85.0592 60.4855L83.7838 63.2815C83.4773 63.9535 82.5227 63.9535 82.2162 63.2815L80.9408 60.4855C80.8547 60.2967 80.7033 60.1453 80.5145 60.0592L77.7185 58.7838C77.0465 58.4773 77.0465 57.5227 77.7185 57.2162L80.5145 55.9408C80.7033 55.8547 80.8547 55.7033 80.9408 55.5145L82.2162 52.7185Z",fill:"#F8E485",stroke:"#0E101A"}),l.createElement("path",{d:"M42.5482 4.08671C42.9204 3.27071 44.0796 3.27071 44.4518 4.08672L46.0005 7.48188C46.105 7.71115 46.2888 7.89497 46.5181 7.99955L49.9133 9.54819C50.7293 9.92039 50.7293 11.0796 49.9133 11.4518L46.5181 13.0005C46.2888 13.105 46.105 13.2888 46.0005 13.5181L44.4518 16.9133C44.0796 17.7293 42.9204 17.7293 42.5482 16.9133L40.9995 13.5181C40.895 13.2888 40.7112 13.105 40.4819 13.0005L37.0867 11.4518C36.2707 11.0796 36.2707 9.92039 37.0867 9.54819L40.4819 7.99955C40.7112 7.89497 40.895 7.71115 40.9995 7.48188L42.5482 4.08671Z",fill:"#F8E485",stroke:"#0E101A"}));var Se;!function(e){const t=D.UI.Node.make((()=>l.createElement("header",{className:Pe.header},l.createElement(Ne,null),l.createElement(ye,{className:Pe.title},te.aboutRecapModal.title)))),n=D.UI.Node.make((({notify:e,view:t})=>l.createElement(l.Fragment,null,l.createElement(ve,null,te.aboutRecapModal.body({onLearMoreLinkClick:e("learnMoreLink")})),l.createElement(Ce,null,l.createElement($.F.Fragment,null,t("canShowTour").pipe(w.U((0,P.RN)(l.createElement(l.Fragment,null,l.createElement(V.o.Tertiary,{onClick:e("close"),name:"close-button",className:Ie.button},te.aboutRecapModal.closeButton),l.createElement(V.o.Primary,{onClick:e("takeATour"),name:"take-a-tour-button",className:Ie.button},te.aboutRecapModal.takeATourButton)),l.createElement(V.o.Primary,{onClick:e("close"),name:"close-button",className:Ie.button},te.aboutRecapModal.closeButton)))))))));e.UIPart=D.UI.Knot.make(we(),{header:t,content:n}),e.createFlow=function(e){return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t){case"overlayClose":case"close":e.actions.next({kind:o.Kind.aboutRecapModalResult,result:"dismiss",docId:e.docId});break;default:(0,N.L0)(t)}}),Q.of(null)),header:()=>Q.of(null),content:D.Z.fromSideEffect((t=>{switch(t){case"close":e.actions.next({kind:o.Kind.aboutRecapModalResult,result:"dismiss",docId:e.docId});break;case"takeATour":e.actions.next({kind:o.Kind.aboutRecapModalResult,result:"takeATour",docId:e.docId});break;case"learnMoreLink":e.actions.next({kind:o.Kind.learnMoreLinkVisited,source:"aboutRecapModal",docId:e.docId});break;default:(0,N.L0)(t)}}),e.canShowTour.pipe(w.U((e=>({canShowTour:e})))))})}}(Se||(Se={}));const Fe=()=>l.createElement("svg",{width:"171",height:"24",viewBox:"0 0 171 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.2797 17.687C30.9014 17.543 30.6539 17.2394 30.6539 16.8345C30.6539 16.3435 31.0611 15.9392 31.5561 15.9392C31.7017 15.9392 31.8178 15.9679 31.9197 16.0112C32.5602 16.3002 33.2438 16.4735 34.0735 16.4735C35.5868 16.4735 36.2998 15.7514 36.2998 14.3641V13.9884C35.6446 14.7689 34.9321 15.2453 33.7535 15.2453C31.9344 15.2453 30.2898 13.9305 30.2898 11.6333V11.6046C30.2898 9.29276 31.9633 7.99258 33.7535 7.99258C34.961 7.99258 35.674 8.49815 36.2704 9.14824V9.13363C36.2704 8.54145 36.7653 8.0505 37.3764 8.0505C37.9875 8.0505 38.4819 8.54145 38.4819 9.14824V14.1329C38.4819 15.5202 38.1478 16.5314 37.4925 17.1815C36.7653 17.9041 35.6446 18.2218 34.1318 18.2218C33.0983 18.2218 32.1961 18.0486 31.2797 17.687ZM36.2998 11.6333V11.6046C36.2998 10.5496 35.4701 9.81293 34.3935 9.81293C33.3169 9.81293 32.5019 10.5496 32.5019 11.6046V11.6333C32.5019 12.7023 33.3169 13.4249 34.3935 13.4249C35.4701 13.4249 36.2998 12.6882 36.2998 11.6333Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.2797 17.687C30.9014 17.543 30.6539 17.2394 30.6539 16.8345C30.6539 16.3435 31.0611 15.9392 31.5561 15.9392C31.7017 15.9392 31.8178 15.9679 31.9197 16.0112C32.5602 16.3002 33.2438 16.4735 34.0735 16.4735C35.5868 16.4735 36.2998 15.7514 36.2998 14.3641V13.9884C35.6446 14.7689 34.9321 15.2453 33.7535 15.2453C31.9344 15.2453 30.2898 13.9305 30.2898 11.6333V11.6046C30.2898 9.29276 31.9633 7.99258 33.7535 7.99258C34.961 7.99258 35.674 8.49815 36.2704 9.14824V9.13363C36.2704 8.54145 36.7653 8.0505 37.3764 8.0505C37.9875 8.0505 38.4819 8.54145 38.4819 9.14824V14.1329C38.4819 15.5202 38.1478 16.5314 37.4925 17.1815C36.7653 17.9041 35.6446 18.2218 34.1318 18.2218C33.0983 18.2218 32.1961 18.0486 31.2797 17.687ZM36.2998 11.6333V11.6046C36.2998 10.5496 35.4701 9.81293 34.3935 9.81293C33.3169 9.81293 32.5019 10.5496 32.5019 11.6046V11.6333C32.5019 12.7023 33.3169 13.4249 34.3935 13.4249C35.4701 13.4249 36.2998 12.6882 36.2998 11.6333Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.7341 9.14824C39.7341 8.54145 40.2285 8.0505 40.8401 8.0505C41.4512 8.0505 41.9456 8.54145 41.9456 9.14824V9.49467C42.2662 8.74389 42.7895 8.0505 43.4447 8.0505C44.1288 8.0505 44.5213 8.49815 44.5213 9.11902C44.5213 9.6971 44.143 10.0441 43.6922 10.1453C42.5714 10.4056 41.9456 11.2576 41.9456 12.8181V14.8696C41.9456 15.4764 41.4512 15.9679 40.8401 15.9679C40.2285 15.9679 39.7341 15.4764 39.7341 14.8696V9.14824Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44.2597 13.6561V13.6274C44.2597 11.9369 45.5544 11.1564 47.4029 11.1564C48.1884 11.1564 48.7559 11.2863 49.3092 11.4741V11.3442C49.3092 10.4343 48.7412 9.92824 47.6356 9.92824C47.0245 9.92824 46.5296 10.0154 46.1077 10.1453C45.9768 10.1886 45.8896 10.2032 45.7877 10.2032C45.2785 10.2032 44.8708 9.81293 44.8708 9.30684C44.8708 8.91711 45.1177 8.58476 45.4677 8.45432C46.166 8.1945 46.9226 8.0505 47.9556 8.0505C49.1631 8.0505 50.0364 8.36824 50.5891 8.91711C51.1713 9.49467 51.4335 10.3477 51.4335 11.3881V14.9129C51.4335 15.5056 50.9533 15.9679 50.3564 15.9679C49.7164 15.9679 49.2945 15.5202 49.2945 15.0575V15.0428C48.7559 15.6355 48.014 16.0253 46.9368 16.0253C45.4677 16.0253 44.2597 15.1879 44.2597 13.6561ZM49.3381 13.1505V12.7602C48.9597 12.587 48.4653 12.4712 47.9262 12.4712C46.9804 12.4712 46.3987 12.8468 46.3987 13.5408V13.5695C46.3987 14.1621 46.8937 14.5086 47.6062 14.5086C48.6398 14.5086 49.3381 13.9451 49.3381 13.1505Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.6126 9.14824C52.6126 8.54145 53.107 8.0505 53.7187 8.0505C54.3297 8.0505 54.8247 8.54145 54.8247 9.14824V9.23537C55.3333 8.58476 56.0033 7.99258 57.1235 7.99258C58.1418 7.99258 58.9132 8.44024 59.3204 9.22076C60.0045 8.42615 60.8195 7.99258 61.8814 7.99258C63.526 7.99258 64.5154 8.97502 64.5154 10.8392V14.8696C64.5154 15.4764 64.0204 15.9679 63.4094 15.9679C62.7983 15.9679 62.3033 15.4764 62.3033 14.8696V11.5613C62.3033 10.5209 61.8378 9.98615 61.0086 9.98615C60.1789 9.98615 59.6698 10.5209 59.6698 11.5613V14.8696C59.6698 15.4764 59.1754 15.9679 58.5637 15.9679C57.9527 15.9679 57.4577 15.4764 57.4577 14.8696V11.5613C57.4577 10.5209 56.9927 9.98615 56.163 9.98615C55.3333 9.98615 54.8247 10.5209 54.8247 11.5613V14.8696C54.8247 15.4764 54.3297 15.9679 53.7187 15.9679C53.107 15.9679 52.6126 15.4764 52.6126 14.8696V9.14824Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.7092 9.14824C65.7092 8.54145 66.2036 8.0505 66.8153 8.0505C67.4263 8.0505 67.9213 8.54145 67.9213 9.14824V9.23537C68.4299 8.58476 69.0999 7.99258 70.2201 7.99258C71.2384 7.99258 72.0098 8.44024 72.417 9.22076C73.1011 8.42615 73.9161 7.99258 74.978 7.99258C76.6226 7.99258 77.612 8.97502 77.612 10.8392V14.8696C77.612 15.4764 77.1176 15.9679 76.506 15.9679C75.8949 15.9679 75.3999 15.4764 75.3999 14.8696V11.5613C75.3999 10.5209 74.9344 9.98615 74.1052 9.98615C73.2756 9.98615 72.7664 10.5209 72.7664 11.5613V14.8696C72.7664 15.4764 72.272 15.9679 71.6603 15.9679C71.0493 15.9679 70.5548 15.4764 70.5548 14.8696V11.5613C70.5548 10.5209 70.0893 9.98615 69.2596 9.98615C68.4299 9.98615 67.9213 10.5209 67.9213 11.5613V14.8696C67.9213 15.4764 67.4263 15.9679 66.8153 15.9679C66.2036 15.9679 65.7092 15.4764 65.7092 14.8696V9.14824Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M78.3403 13.6561V13.6274C78.3403 11.9369 79.6355 11.1564 81.4829 11.1564C82.269 11.1564 82.8365 11.2863 83.3892 11.4741V11.3442C83.3892 10.4343 82.8223 9.92824 81.7157 9.92824C81.1046 9.92824 80.6102 10.0154 80.1882 10.1453C80.0574 10.1886 79.9702 10.2032 79.8682 10.2032C79.3586 10.2032 78.9514 9.81293 78.9514 9.30684C78.9514 8.91711 79.1988 8.58476 79.5477 8.45432C80.2466 8.1945 81.0032 8.0505 82.0362 8.0505C83.2442 8.0505 84.117 8.36824 84.6697 8.91711C85.2519 9.49467 85.5136 10.3477 85.5136 11.3881V14.9129C85.5136 15.5056 85.0339 15.9679 84.4375 15.9679C83.797 15.9679 83.375 15.5202 83.375 15.0575V15.0428C82.8365 15.6355 82.094 16.0253 81.0179 16.0253C79.5477 16.0253 78.3403 15.1879 78.3403 13.6561ZM83.4187 13.1505V12.7602C83.0403 12.587 82.5454 12.4712 82.0073 12.4712C81.061 12.4712 80.4793 12.8468 80.4793 13.5408V13.5695C80.4793 14.1621 80.9738 14.5086 81.6868 14.5086C82.7198 14.5086 83.4187 13.9451 83.4187 13.1505Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.6927 9.14824C86.6927 8.54145 87.1876 8.0505 87.7987 8.0505C88.4103 8.0505 88.9048 8.54145 88.9048 9.14824V9.49467C89.2248 8.74389 89.7486 8.0505 90.4039 8.0505C91.0875 8.0505 91.48 8.49815 91.48 9.11902C91.48 9.6971 91.1016 10.0441 90.6508 10.1453C89.5306 10.4056 88.9048 11.2576 88.9048 12.8181V14.8696C88.9048 15.4764 88.4103 15.9679 87.7987 15.9679C87.1876 15.9679 86.6927 15.4764 86.6927 14.8696V9.14824Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.1499 6.34493C92.1499 5.73815 92.6443 5.24719 93.2554 5.24719C93.867 5.24719 94.362 5.73815 94.362 6.34493V14.8696C94.362 15.4764 93.867 15.9679 93.2554 15.9679C92.6443 15.9679 92.1499 15.4764 92.1499 14.8696V6.34493Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.1227 18.034C95.8022 17.9187 95.4239 17.6583 95.4239 17.1241C95.4239 16.5893 95.8458 16.2277 96.2972 16.2277C96.4716 16.2277 96.5736 16.2569 96.6608 16.2856C96.85 16.3435 96.9666 16.3728 97.1269 16.3728C97.5194 16.3728 97.7085 16.3002 97.9124 15.91L97.9849 15.7368L95.3225 9.6105C95.2642 9.46597 95.2058 9.24945 95.2058 9.10493C95.2058 8.48354 95.6861 8.0505 96.2972 8.0505C96.85 8.0505 97.1699 8.35363 97.3591 8.87328L99.0473 13.3816L100.677 8.88789C100.852 8.42615 101.171 8.0505 101.739 8.0505C102.307 8.0505 102.786 8.48354 102.786 9.06163C102.786 9.23537 102.729 9.48058 102.685 9.5818L99.9637 16.0691C99.309 17.6437 98.6543 18.2364 97.3302 18.2364C96.8352 18.2364 96.4863 18.1644 96.1227 18.034Z",fill:"#0E101A"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.1008 11.9995C24.1008 18.6268 18.7061 24 12.0509 24C5.39464 24 0 18.6268 0 11.9995C0 5.37208 5.39464 0 12.0509 0C18.7061 0 24.1008 5.37208 24.1008 11.9995Z",fill:"white"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.1008 11.9995C24.1008 18.6268 18.7061 24 12.0509 24C5.39464 24 0 18.6268 0 11.9995C0 5.37208 5.39464 0 12.0509 0C18.7061 0 24.1008 5.37208 24.1008 11.9995ZM14.4285 13.6262C13.9271 13.6262 13.5312 14.0746 13.6247 14.5913C13.6965 14.9833 14.0674 15.253 14.4676 15.253H15.7304L16.4624 15.1501C15.2921 16.8614 13.2582 17.6488 11.0351 17.3011C9.22527 17.0185 7.67105 15.7989 7.01521 14.0963C5.52624 10.2308 8.36169 6.53964 12.0553 6.53964C13.9804 6.53964 15.6695 7.66172 16.6375 9.01665L16.6385 9.04698C16.8952 9.41523 17.4042 9.52137 17.7751 9.26576C18.1275 9.02207 18.2243 8.56067 18.0122 8.19784H18.0177C16.6788 6.11616 14.273 4.78289 11.5669 4.96376C8.04302 5.19987 5.19234 8.07112 4.98895 11.5814C4.75403 15.6668 8.00821 19.0016 12.0553 19.0016C14.1816 19.0016 16.0849 18.0799 17.3814 16.5885L17.228 17.4441V18.2174C17.228 18.616 17.4978 18.9853 17.8926 19.0568C18.4103 19.15 18.8617 18.7557 18.8617 18.2564V13.6262H14.4285Z",fill:"#15C39A"}));var Ke,Re=n(8130);!function(e){const t=D.UI.Node.make((()=>l.createElement("header",{className:Re.header},l.createElement(Fe,null),l.createElement(ye,{className:Re.title},te.turnOffRecapModal.title)))),n=D.UI.Node.make((({view:e,notify:t})=>l.createElement(l.Fragment,null,l.createElement(ve,{className:Re.main},te.turnOffRecapModal.body()),l.createElement(Ce,null,l.createElement($.F.Fragment,null,e("canHideRecap").pipe(w.U((0,P.RN)(l.createElement(V.o.Secondary,{onClick:t("hideRecap"),name:"hide-recap-button",className:Ie.button},te.turnOffRecapModal.hideRecapButton),null)))),l.createElement(V.o.Primary,{onClick:t("turnOffRecap"),name:"turn-off-recap-button",className:Ie.button},te.turnOffRecapModal.turnOffRecapButton)))));e.UIPart=D.UI.Knot.make(we(Re.modal),{header:t,content:n}),e.createFlow=function(e){return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t){case"overlayClose":case"close":e.actions.next({kind:o.Kind.turnOffRecapModalResult,result:"dismiss",docId:e.docId});break;default:(0,N.L0)(t)}}),Q.of(null)),header:()=>Q.of(null),content:D.Z.fromSideEffect((t=>{switch(t){case"hideRecap":e.actions.next({kind:o.Kind.turnOffRecapModalResult,result:"hideRecap",docId:e.docId});break;case"turnOffRecap":e.actions.next({kind:o.Kind.turnOffRecapModalResult,result:"turnOffRecap",docId:e.docId});break;default:(0,N.L0)(t)}}),e.state)})}}(Ke||(Ke={}));var xe,Le=n(57053),Be=n(1198);!function(e){e.UIPart=D.UI.Node.make((({view:e,notify:t})=>l.createElement("section",null,l.createElement(Le.i,{maxRating:te.genericFeedbackModal.ratings.length,ratingLabels:te.genericFeedbackModal.ratings,className:Be.ratingContainer,ratingStarsClassName:Be.ratingStars,ratingLegendClassName:Be.ratingLegend,ratingLabelsClassName:Be.ratingLabels,onChange:e=>t({kind:"rating",score:e,label:te.genericFeedbackModal.ratings[e-1]||""})(),ariaLabel:te.genericFeedbackModal.title}),l.createElement($.F.Fragment,null,e("showRequiredError").pipe(w.U((0,P.RN)(l.createElement("span",{className:Be.requiredLabel},te.genericFeedbackModal.requiredLabel),null))))))),e.createFlow=function(e){return D.Z.fromSideEffect((t=>{if("rating"===t.kind)e.set({rating:E.some({score:t.score,label:t.label}),showRequiredError:!1});else(0,N.L0)(t.kind)}),e.pipe(w.U(M.H6("showRequiredError"))))}}(xe||(xe={}));var Ae,Te=n(6057);!function(e){let t;!function(e){e.eq=S.yv}(t||(t={})),e.getUIPart=e=>D.UI.Node.make((({state:n,notify:o})=>l.createElement("section",null,e.textBoxHeader?l.createElement("label",{htmlFor:"feedback-textbox",className:Te.textBoxHeader},e.textBoxHeader):null,l.createElement($.F.div,{name:"feedback-textbox",role:"textbox",...(0,ke.Sh)(Te.textbox,n.pipe(w.U((0,s.ls)(A.t9(t.eq)("required"),(0,P.RN)(Te.required,void 0))))),contentEditable:!0,"aria-placeholder":e.textBoxPlaceholder,"data-placeholder":e.textBoxPlaceholder,"aria-label":e.textBoxAriaLabel,onInput:e=>o({kind:"textChange",text:e.target instanceof HTMLElement?e.target.innerText:""})()}),l.createElement($.F.Fragment,null,n.pipe(w.U((0,s.ls)(A.t9(t.eq)("required"),(0,P.RN)(l.createElement("span",{className:Te.requiredLabel},e.requiredLabel),null)))))))),e.createFlow=function(e){return D.Z.fromSideEffect((n=>{if("textChange"===n.kind)e.modify((e=>({text:n.text,errors:(0,s.zG)(e.errors,A.Od(t.eq)("required"))})));else(0,N.L0)(n.kind)}),e.pipe(w.U(M.ei("errors"))))}}(Ae||(Ae={}));var Oe,Ge=n(85593);!function(e){const t=D.UI.Node.make((()=>l.createElement("header",{className:Ge.header},l.createElement(Fe,null),l.createElement(ye,{className:Ge.title},te.genericFeedbackModal.title)))),n=D.UI.Grid.make((({slots:e,notify:t})=>l.createElement(l.Fragment,null,l.createElement(ve,{className:Ge.body},e.rating,e.textBox),l.createElement(Ce,null,l.createElement(V.o.Tertiary,{name:"cancel-button",className:Ie.button,onClick:t("cancel")},te.genericFeedbackModal.cancel),l.createElement(V.o.Primary,{name:"submit-button",className:Ie.button,onClick:t("submit")},te.genericFeedbackModal.sendFeedback))))),i=D.UI.Knot.make(n,{rating:xe.UIPart,textBox:Ae.getUIPart(te.genericFeedbackModal)});e.UIPart=D.UI.Knot.make(we(Ge.modal),{header:t,content:i}),e.createFlow=function(e){const t=F.h.create({text:"",errors:new Set}),n=F.h.create({rating:E.none,showRequiredError:!1});return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t){case"overlayClose":case"close":e.actions.next({kind:o.Kind.genericFeedbackModalResult,result:{kind:"dismiss"},docId:e.docId});break;default:(0,N.L0)(t)}}),Q.of(null)),header:()=>Q.of(null),content:D.Z.composeKnot({root:D.Z.fromSideEffect((i=>{switch(i){case"cancel":e.actions.next({kind:o.Kind.genericFeedbackModalResult,result:{kind:"dismiss"},docId:e.docId});break;case"submit":""===t.get().text.trim()&&t.lens("errors").set(new Set(["required"])),E.isNone(n.get().rating)&&n.lens("showRequiredError").set(!0),(0,s.zG)(n.get().rating,E.filter((()=>0===t.get().errors.size)),U.bw((n=>{e.actions.next({kind:o.Kind.genericFeedbackModalResult,result:{kind:"submit",feedbackText:t.get().text,rating:n},docId:e.docId})})));break;default:(0,N.L0)(i)}}),Q.of(null)),rating:xe.createFlow(n),textBox:Ae.createFlow(t)})})}}(Oe||(Oe={}));var He,ze,De,Ve,Ze,Ye,qe,je,We,Qe,Je=n(86010);!function(e){const t=D.UI.Node.make((()=>l.createElement("header",{className:Je.header},l.createElement(Fe,null),l.createElement(ye,{className:Je.title},te.itemFeedbackModal.title)))),n=D.UI.Grid.make((({slots:e,notify:t})=>l.createElement(l.Fragment,null,l.createElement(ve,{className:Je.body},l.createElement("p",{className:Je.description},te.itemFeedbackModal.description),e.textBox),l.createElement(Ce,null,l.createElement(V.o.Tertiary,{name:"skip-button",className:Ie.button,onClick:t("skip")},te.itemFeedbackModal.skip),l.createElement(V.o.Primary,{name:"submit-button",className:Ie.button,onClick:t("submit")},te.itemFeedbackModal.sendFeedback))))),i=D.UI.Knot.make(n,{textBox:Ae.getUIPart(te.itemFeedbackModal)});e.UIPart=D.UI.Knot.make(we(Je.modal),{header:t,content:i}),e.createFlow=function(e,t){const n=F.h.create({text:"",errors:new Set});return D.Z.composeKnot({root:D.Z.fromSideEffect((n=>{switch(n){case"overlayClose":case"close":e.actions.next({kind:o.Kind.itemFeedbackModalResult,result:{kind:"dismiss"},itemFeedback:t,docId:e.docId});break;default:(0,N.L0)(n)}}),Q.of(null)),header:()=>Q.of(null),content:D.Z.composeKnot({root:D.Z.fromSideEffect((i=>{switch(i){case"skip":e.actions.next({kind:o.Kind.itemFeedbackModalResult,result:{kind:"dismiss"},itemFeedback:t,docId:e.docId});break;case"submit":""===n.get().text.trim()&&n.lens("errors").set(new Set(["required"])),0===n.get().errors.size&&e.actions.next({kind:o.Kind.itemFeedbackModalResult,result:{kind:"submit",feedbackText:n.get().text},itemFeedback:t,docId:e.docId});break;default:(0,N.L0)(i)}}),Q.of(null)),textBox:Ae.createFlow(n)})})}}(He||(He={})),function(e){e.Impl=class{constructor(e,t,n,o){this.docId=e,this.actions=t,this._subscriptions=new I.w,this._subscriptions.add(this.actions.pipe(K.h(o)).subscribe((()=>n.onClose())))}dispose(){this._subscriptions.unsubscribe()}};e.Mock=class{constructor(){this.actions=new le.xQ,this.docId=k.e.create("doc-id"),this.dispose=s.Q1}}}(ze||(ze={})),function(e){class t extends ze.Impl{constructor(e,t,n,i){super(e,t,n,o.is(o.Kind.aboutRecapModalResult)),this.canShowTour=i}}e.Impl=t;class n extends ze.Mock{constructor(){super(...arguments),this.canShowTour=F.h.create(!0)}}e.Mock=n}(De||(De={})),function(e){class t extends ze.Impl{constructor(e,t,n){super(e,t,n,o.is(o.Kind.genericFeedbackModalResult))}}e.Impl=t;class n extends ze.Mock{}e.Mock=n}(Ve||(Ve={})),function(e){class t extends ze.Impl{constructor(e,t,n){super(e,t,n,o.is(o.Kind.itemFeedbackModalResult))}}e.Impl=t;class n extends ze.Mock{}e.Mock=n}(Ze||(Ze={})),function(e){class t extends ze.Impl{constructor(e,t,n){super(e,t,n,o.is(o.Kind.optInDismissModalResult))}}e.Impl=t;class n extends ze.Mock{}e.Mock=n}(Ye||(Ye={})),function(e){class t extends ze.Impl{constructor(e,t,n){super(e,t,n,o.is(o.Kind.optInTryItOutModalResult))}}e.Impl=t;class n extends ze.Mock{}e.Mock=n}(qe||(qe={})),function(e){class t extends ze.Impl{constructor(e,t,n,i,a){super(e,t,n,o.is(o.Kind.turnOffRecapModalResult)),this._docsStateManager=i,this._itemsManager=a,this.state=F.h.combine(this._docsStateManager.state,this._itemsManager.followUps,this._itemsManager.keyPoints,(({thread:e,docs:t},n,o)=>({canHideRecap:Array.from(t.entries()).some((([t,i])=>(0,s.zG)(z(e,i,!!n.get(t)||!!o.get(t)),U.FX(!1))))})))}}e.Impl=t;class n extends ze.Mock{constructor(){super(...arguments),this.state=F.h.create({canHideRecap:!0})}}e.Mock=n}(je||(je={})),function(e){e.optInTryItOut="optInTryItOut",e.optInDismiss="optInDismiss",e.aboutRecap="aboutRecap",e.turnOffRecap="turnOffRecap",e.genericFeedback="genericFeedback",e.itemFeedback="itemFeedback"}(We||(We={})),function(e){e.Impl=class{constructor(e,t,n,o){this._actions=e,this._docsStateManager=t,this._itemsManager=n,this._onboardingManager=o,this._subscriptions=new I.w,this._state=F.h.create(E.none),this.state=this._state.view(),this._modalOperations={onClose:()=>this._hide()},this._subscriptions.add(this._handleOptInTryItOut()),this._subscriptions.add(this._handleOptInDismiss()),this._subscriptions.add(this._handleRequestAboutRecap()),this._subscriptions.add(this._handleTurnOffRecap()),this._subscriptions.add(this._handleGenericFeedback()),this._subscriptions.add(this._handleItemFeedback())}dispose(){this._hide(),this._subscriptions.unsubscribe()}_show(e){this._state.modify((0,s.ls)(U.bw((e=>e.instance.dispose())),(()=>E.some(this._load(e)))))}_hide(){this._state.modify((0,s.ls)(U.bw((e=>e.instance.dispose())),(()=>E.none)))}_load(e){switch(e.kind){case We.optInTryItOut:return this._loadOptInTryItOut(e);case We.optInDismiss:return this._loadOptInDismiss(e);case We.aboutRecap:return this._loadAboutRecap(e);case We.turnOffRecap:return this._loadTurnOffRecap(e);case We.genericFeedback:return this._loadGenericFeedback(e);case We.itemFeedback:return this._loadItemFeedback(e);default:(0,N.L0)(e)}}_loadOptInTryItOut(e){const t=new qe.Impl(e.docId,this._actions,this._modalOperations);return{instance:{kind:We.optInTryItOut,dispose:()=>t.dispose()},component:D.UI.mount(Ee.UIPart,Ee.createFlow(t))}}_loadOptInDismiss(e){const t=new Ye.Impl(e.docId,this._actions,this._modalOperations);return{instance:{kind:We.optInDismiss,dispose:()=>t.dispose()},component:D.UI.mount(_e.UIPart,_e.createFlow(t))}}_loadAboutRecap(e){const t=new De.Impl(e.docId,this._actions,this._modalOperations,this._onboardingManager.availableFor(F.h.create(E.some(e.docId))));return{instance:{kind:We.aboutRecap,dispose:()=>t.dispose()},component:D.UI.mount(Se.UIPart,Se.createFlow(t))}}_loadTurnOffRecap(e){const t=new je.Impl(e.docId,this._actions,this._modalOperations,this._docsStateManager,this._itemsManager);return{instance:{kind:We.turnOffRecap,dispose:()=>t.dispose()},component:D.UI.mount(Ke.UIPart,Ke.createFlow(t))}}_loadGenericFeedback(e){const t=new Ve.Impl(e.docId,this._actions,this._modalOperations);return{instance:{kind:We.genericFeedback,dispose:()=>t.dispose()},component:D.UI.mount(Oe.UIPart,Oe.createFlow(t))}}_loadItemFeedback(e){const t=new Ze.Impl(e.docId,this._actions,this._modalOperations);return{instance:{kind:We.itemFeedback,dispose:()=>t.dispose()},component:D.UI.mount(He.UIPart,He.createFlow(t,e.feedbackData))}}_handleOptInTryItOut(){return this._actions.pipe(i.ofKind(o.Kind.optInTryItOutModal)).subscribe((({docId:e})=>this._show({kind:We.optInTryItOut,docId:e})))}_handleOptInDismiss(){return this._actions.pipe(i.ofKind(o.Kind.optInDismissModal)).subscribe((({docId:e})=>this._show({kind:We.optInDismiss,docId:e})))}_handleRequestAboutRecap(){return this._actions.pipe(i.ofKind(o.Kind.aboutRecapModal)).subscribe((({docId:e})=>this._show({kind:We.aboutRecap,docId:e})))}_handleTurnOffRecap(){return this._actions.pipe(i.ofKind(o.Kind.turnOffRecapModal)).subscribe((({docId:e})=>this._show({kind:We.turnOffRecap,docId:e})))}_handleGenericFeedback(){return this._actions.pipe(i.ofKind(o.Kind.genericFeedbackModal)).subscribe((({docId:e})=>this._show({kind:We.genericFeedback,docId:e})))}_handleItemFeedback(){return this._actions.pipe(i.ofKind(o.Kind.itemFeedback)).subscribe((e=>this._show({kind:We.itemFeedback,docId:e.docId,feedbackData:M.CE(e,"kind")})))}}}(Qe||(Qe={}));var Xe,$e,et,tt,nt=n(77843),ot=n(90361);!function(e){let t,n,o,i;!function(e){let t;!function(e){e.textCopiedSuccess="textCopiedSuccess",e.feedbackSubmittedSuccess="feedbackSubmittedSuccess",e.undoRemoveItem="undoRemoveItem"}(t=e.Kind||(e.Kind={}))}(t=e.Toast||(e.Toast={})),function(e){let t;!function(e){e.optInDismissShowLaterYes="optInDismissShowLaterYes",e.optInDismissShowLaterNo="optInDismissShowLaterNo",e.turnOffRecap="turnOffRecap"}(t=e.Kind||(e.Kind={}))}(n=e.Lasting||(e.Lasting={})),function(e){e.isToast=function(e){return e.kind in t.Kind},e.isLasting=function(e){return e.kind in n.Kind}}(o=e.Request||(e.Request={})),(0,N.L0)(void 0),function(e){e.is=function(e){return t=>t.kind===e}}(i=e.Model||(e.Model={})),e.create=function(e,o){const i={id:ot.iy.create(),dismissTimestamp:Date.now()+o};switch(e.kind){case t.Kind.undoRemoveItem:return{...e,...i,undoRemoveDone:!1};case t.Kind.feedbackSubmittedSuccess:case t.Kind.textCopiedSuccess:case n.Kind.optInDismissShowLaterNo:case n.Kind.optInDismissShowLaterYes:case n.Kind.turnOffRecap:return{...e,...i};default:(0,N.L0)(e)}}}(Xe||(Xe={})),function(e){e.Impl=class{constructor(e,t,n,o){this.actions=e,this._notificationRequestRefinement=t,this._notificationDurationMs=n,this._maxNotificationsCountAtOnce=o,this._subscriptions=new I.w,this._state=F.h.create([]),this.state=this._state.view(),this._subscriptions.add(this._autoDismissNotifications()),this._subscriptions.add(this._handleShowNotifications()),this._subscriptions.add(this._handleDismissNotifications())}_autoDismissNotifications(){return nt.F(1e3).pipe(W.M(this._state),v.b((()=>this._state.modify(m.hX((e=>Date.now()<e.dismissTimestamp)))))).subscribe()}_handleShowNotifications(){return this.actions.pipe(i.ofKind(o.Kind.showNotification),w.U(M.ei("notification")),K.h(this._notificationRequestRefinement),v.b((e=>this._state.modify((0,s.ls)(m.QI(Xe.create(e,this._notificationDurationMs)),m.ke(this._maxNotificationsCountAtOnce)))))).subscribe()}_handleDismissNotifications(){return this.actions.pipe(i.ofKind(o.Kind.dismissNotification),v.b((({notificationId:e})=>this._state.modify(m.hX((t=>t.id!==e)))))).subscribe()}dispose(){this._subscriptions.unsubscribe()}}}($e||($e={})),function(e){class t extends $e.Impl{constructor(e){super(e,Xe.Request.isLasting,8e3,1)}}e.Impl=t}(et||(et={})),function(e){class t extends $e.Impl{constructor(e){super(e,Xe.Request.isToast,6e3,3),this._subscriptions.add(this._handleItemRemovalUndone())}_handleItemRemovalUndone(){return this.actions.pipe(i.ofKind(o.Kind.undoRemoveItem),v.b((({notificationId:e})=>this._state.modify(m.UI((t=>t.id===e&&t.kind===Xe.Toast.Kind.undoRemoveItem?{...t,undoRemoveDone:!0}:t)))))).subscribe()}}e.Impl=t}(tt||(tt={}));var it,at,st=n(16118);!function(e){let t,n,a,l;!function(e){e.fold=function(e){return t=>{switch(t){case"followUps":return e.followUps();case"keyPoints":return e.keyPoints();case"all":return e.all();default:(0,N.L0)(t)}}}}(t=e.MoreDataPopupKind||(e.MoreDataPopupKind={})),function(e){e.eq=S.yv,e.isMoreDataPopupKind=function(e){return"followUps"===e||"keyPoints"===e||"all"===e},e.isFollowUpsOrKeyPoints=function(e){return"followUps"===e||"keyPoints"===e}}(n=e.PopupKind||(e.PopupKind={})),function(e){e.none="none",e.optInIndeterminate="optInIndeterminate",e.optIn="optIn",e.indeterminate="indeterminate",e.compact="compact",e.expanded="expanded"}(a=e.Kind||(e.Kind={})),function(e){e.is=function(e){return t=>t===e}}(a=e.Kind||(e.Kind={})),function(e){e.empty=function(e,t){return{docId:e,browser:t,popupKind:E.none,itemMenuVisibleFor:E.none}}}(l=e.InternalState||(e.InternalState={}));e.ViewModelImpl=class{constructor(e,t,n,o,i,c,m,u){this.actions=e,this._docId=t,this._browser=n,this._itemsManager=o,this._docsStateManager=i,this._optInStatus=c,this._isLastMessage=m,this._onboardingAvailable=u,this._subscriptions=new I.w,this._state=F.h.create(l.empty(this._docId,this._browser)),this._disposed=F.h.create(!1),this.disposed=this._disposed.view(),this.state=F.h.combine(this._state,this._optInStatus,F.h.combine(this._isLastMessage,this._onboardingAvailable,((e,t)=>({isLastMessage:e,onboardingAvailable:t}))),this._docsStateManager.state.view((({thread:e,docs:t})=>({threadState:e,docState:E.fromNullable(t.get(this._docId))}))),this._itemsManager.followUps.view(r.P5(k.e.eq)(this._docId)),this._itemsManager.keyPoints.view(r.P5(k.e.eq)(this._docId)),this._itemsManager.highlights.view(r.fP(k.e.eq)(this._docId)),((e,t,{isLastMessage:n,onboardingAvailable:o},{threadState:i,docState:r},l,c,m)=>({...e,isLastMessage:n,onboardingAvailable:o,followUps:l,keyPoints:c,highlightsSwitchState:(0,s.zG)(r,E.chain((e=>H(i,e,E.isSome(l),E.isSome(c),m)))),kind:(0,s.zG)(t,d.t.fold({indeterminate:()=>n?a.optInIndeterminate:a.none,notOptedInYet:()=>n?a.optIn:a.none,optedIn:()=>(0,s.zG)(r,E.chain((e=>z(i,e,E.isSome(l)||E.isSome(c)))),E.map((e=>e?a.compact:a.expanded)),E.getOrElse((()=>a.indeterminate))),optedOut:()=>a.none})),showLowQualityContent:(0,s.zG)(r,E.fold(s.jv,M.ei("showLowQualityContentRequested"))),lowQualityInfo:(0,s.zG)(r,E.chain(M.ei("lowQualityInfo"))),goodForAnnotations:(0,s.zG)(r,E.chain(M.ei("goodForAnnotations"))),checkingState:(0,s.zG)(r,E.fold((()=>"initial"),M.ei("checkingState")))}))),this._subscriptions.add(this._handleSetRecapBarPopup()),this._subscriptions.add(this._handleItemMenuVisibleFor()),this._subscriptions.add(this._handleToggleItemFeedbackMenu()),this._subscriptions.add(this._handleItemMenuActionClick()),this._subscriptions.add(this._handleReply()),this._subscriptions.add(this._handleReplyToItem()),this._subscriptions.add(this._resetPopupKindOnLastItemRemoved()),this._subscriptions.add(this._dispatchOnboardingAnchorUnmountedOnBarCollapse()),this._subscriptions.add(this._dispatchOnboardingAnchorUnmountedOnPopupClosed())}dispose(){this._disposed.set(!0),this._subscriptions.unsubscribe()}_handleSetRecapBarPopup(){return this.actions.pipe(i.ofKind(o.Kind.setRecapBarPopup),w.U((e=>(0,s.zG)(e.docId===this._docId?E.some(e):E.none,E.chain((e=>e.popupKind))))),v.b((e=>this._state.modify((t=>({...t,popupKind:e,itemMenuVisibleFor:E.none})))))).subscribe()}_handleItemMenuVisibleFor(){return this.actions.pipe(i.ofKind(o.Kind.setItemMenuVisibleFor),w.U((({item:e,docId:t,uiMode:n})=>(0,s.zG)(e,E.filter((()=>t===this._docId&&"recapBar"===n))))),v.b((e=>this._state.lens("itemMenuVisibleFor").set((0,s.zG)(e,E.map((e=>({id:e.id,kind:e.kind,feedbackMenuActive:!1})))))))).subscribe()}_handleToggleItemFeedbackMenu(){return this.actions.pipe(i.ofKind(o.Kind.toggleItemFeedbackMenu),i.ofDocId(this._docId),i.ofUIMode("recapBar"),v.b((({menuOpen:e})=>this._state.lens("itemMenuVisibleFor").modify(E.map((t=>({...t,feedbackMenuActive:e}))))))).subscribe()}_handleItemMenuActionClick(){return this.actions.pipe(K.h((0,P.Kg)(o.is(o.Kind.copyItem),o.is(o.Kind.replyToItem),o.is(o.Kind.removeItem),o.is(o.Kind.itemFeedback),o.is(o.Kind.setItemChecked))),i.ofDocId(this._docId),i.ofUIMode("recapBar"),v.b((()=>this._state.lens("itemMenuVisibleFor").set(E.none)))).subscribe()}_handleReply(){return this.actions.pipe(i.ofKind(o.Kind.reply),i.ofDocId(this._docId),v.b((()=>this._state.lens("popupKind").set(E.none)))).subscribe()}_handleReplyToItem(){return this.actions.pipe(i.ofKind(o.Kind.replyToItem),i.ofDocId(this._docId),i.ofUIMode("recapBar"),v.b((()=>this._state.lens("popupKind").set(E.none)))).subscribe()}_resetPopupKindOnLastItemRemoved(){this.state.pipe(K.h((e=>(0,s.zG)(e.popupKind,U.FX("followUps"))&&E.isNone(e.followUps)||(0,s.zG)(e.popupKind,U.FX("keyPoints"))&&E.isNone(e.keyPoints)||(0,s.zG)(e.popupKind,U.FX("all"))&&E.isNone(e.keyPoints)&&E.isNone(e.followUps))),v.b((()=>this._state.lens("popupKind").set(E.none)))).subscribe()}_dispatchOnboardingAnchorUnmountedOnBarCollapse(){return this.state.view("kind").pipe(K.h((e=>e!==a.expanded)),v.b((()=>{this.actions.next({kind:o.Kind.onboardingAnchorUnmounted,stepNames:["recapBar","recapBarMenu","followUps","draftReply","keyPoints"],docId:this._docId})}))).subscribe()}_dispatchOnboardingAnchorUnmountedOnPopupClosed(){return this.state.view("popupKind").pipe(X.O(E.none),st.G(),v.b((([e,t])=>{if(E.isNone(t)&&E.isSome(e))switch(e.value){case"settingsMenu":this.actions.next({kind:o.Kind.onboardingAnchorUnmounted,stepNames:["recapBarMenu"],docId:this._docId});break;case"followUps":this.actions.next({kind:o.Kind.onboardingAnchorUnmounted,stepNames:["followUps","draftReply"],docId:this._docId});break;case"keyPoints":this.actions.next({kind:o.Kind.onboardingAnchorUnmounted,stepNames:["keyPoints"],docId:this._docId})}}))).subscribe()}}}(it||(it={})),function(e){let t,n;!function(e){e.hidden="hidden",e.compact="compact",e.full="full"}(t=e.Mode||(e.Mode={})),function(e){e.empty=function(e){return{docId:e,kind:t.hidden,expanded:!1,itemMenuVisibleFor:E.none,hasOverflow:!1}}}(n=e.InternalState||(e.InternalState={}));e.ViewModelImpl=class{constructor(e,o,i,a,r){this.actions=e,this._docId=o,this._itemsManager=i,this._onboardingAvailable=a,this._optInStatus=r,this._subscriptions=new I.w,this._state=F.h.create(n.empty(this._docId)),this._disposed=F.h.create(!1),this.disposed=this._disposed.view(),this.state=F.h.combine(this._state,this._onboardingAvailable,this._itemsManager.followUps.view((e=>E.fromNullable(e.get(this._docId)))),this._itemsManager.keyPoints.view((e=>E.fromNullable(e.get(this._docId)))),this._optInStatus,((e,n,o,i,a)=>({...e,onboardingAvailable:n,followUps:o,keyPoints:i,kind:(0,s.zG)(a,d.t.fold({indeterminate:()=>t.hidden,notOptedInYet:()=>t.hidden,optedIn:()=>E.isSome(o)||E.isSome(i)?e.kind===t.hidden?t.compact:e.kind:t.hidden,optedOut:()=>t.hidden}))}))),this._subscriptions.add(this._handleToggleReplyPanelMode()),this._subscriptions.add(this._handleToggleReplyPanelExpanded()),this._subscriptions.add(this._handleItemMenuVisibleFor()),this._subscriptions.add(this._handleToggleItemFeedbackMenu()),this._subscriptions.add(this._handleItemMenuActionClick()),this._subscriptions.add(this._handlePanelOverflow()),this._subscriptions.add(this._collapseOnLastItemRemoved()),this._subscriptions.add(this._dispatchOnboardingAnchorUnmountedOnCollapse())}dispose(){this._disposed.set(!0),this._subscriptions.unsubscribe()}_handlePanelOverflow(){return this.actions.pipe(i.ofKind(o.Kind.panelOverflow),i.ofDocId(this._docId),K.h((({source:e})=>"replyPanel"===e)),v.b((({hasOverflow:e})=>this._state.lens("hasOverflow").set(e)))).subscribe()}_handleToggleReplyPanelMode(){return this.actions.pipe(i.ofKind(o.Kind.toggleReplyPanelMode),i.ofDocId(this._docId),v.b((({mode:e})=>this._state.lens("kind").set(e)))).subscribe()}_handleToggleReplyPanelExpanded(){return this.actions.pipe(i.ofKind(o.Kind.toggleReplyPanelExpanded),i.ofDocId(this._docId),v.b((({expanded:e})=>this._state.lens("expanded").set(e)))).subscribe()}_handleItemMenuVisibleFor(){return this.actions.pipe(i.ofKind(o.Kind.setItemMenuVisibleFor),w.U((({item:e,docId:t,uiMode:n})=>(0,s.zG)(e,E.filter((()=>t===this._docId&&"replyPanel"===n))))),v.b((e=>this._state.lens("itemMenuVisibleFor").set((0,s.zG)(e,E.map((e=>({id:e.id,kind:e.kind,feedbackMenuActive:!1})))))))).subscribe()}_handleToggleItemFeedbackMenu(){return this.actions.pipe(i.ofKind(o.Kind.toggleItemFeedbackMenu),i.ofDocId(this._docId),i.ofUIMode("replyPanel"),v.b((({menuOpen:e})=>this._state.lens("itemMenuVisibleFor").modify(E.map((t=>({...t,feedbackMenuActive:e}))))))).subscribe()}_handleItemMenuActionClick(){return this.actions.pipe(K.h((0,P.Kg)(o.is(o.Kind.copyItem),o.is(o.Kind.replyToItem),o.is(o.Kind.removeItem),o.is(o.Kind.itemFeedback),o.is(o.Kind.setItemChecked))),i.ofDocId(this._docId),i.ofUIMode("replyPanel"),v.b((()=>this._state.lens("itemMenuVisibleFor").set(E.none)))).subscribe()}_collapseOnLastItemRemoved(){F.h.combine(this._state.view("kind"),this.state.view((e=>E.isNone(e.followUps)&&E.isNone(e.keyPoints))),((e,t)=>({kind:e,isEmpty:t}))).pipe(K.h((e=>e.kind===t.full&&e.isEmpty)),v.b((()=>this._state.modify((e=>({...e,kind:t.compact,expanded:!1})))))).subscribe()}_dispatchOnboardingAnchorUnmountedOnCollapse(){return this.state.view("kind").pipe(K.h((e=>e!==t.full)),v.b((()=>{this.actions.next({kind:o.Kind.onboardingAnchorUnmounted,stepNames:["checkItem","itemMenu"],docId:this._docId})}))).subscribe()}}}(at||(at={}));var rt=n(22667),lt=n(86705),ct=n(65223),dt=n(29254);const mt=({onChange:e,labelId:t,className:n,switchClassName:o,labelClassName:i,checked:a,children:r,disabled:c,dataGrammarlyPart:d="ui-kit-switch",tabIndex:m=0,labelPlacement:u="before"})=>{const[p,h]=l.useState(null!=a&&a);l.useEffect((()=>{h(Boolean(a))}),[a]);const f=t=>{t.preventDefault(),t.stopPropagation(),h(!p),null==e||e(!p)};return l.createElement("div",{"data-grammarly-part":d,...(0,ke.Sh)(dt.switchContainer,n,"after"===u?dt.switchContainerCompact:null)},l.createElement("div",{...(0,ke.Sh)(dt.switch,o,p?dt.switchChecked:null,c?dt.switchDisabled:null,"before"===u?dt.switchAfter:null),role:"checkbox","aria-checked":p,tabIndex:m,"aria-labelledby":t,onKeyDown:e=>{c||" "!==e.key||f(e)},onClick:c?s.Q1:f},p?"ON":"OFF"),l.createElement("label",{id:t,onClick:c?s.Q1:f,className:i},r))};var ut,pt=n(8694);!function(e){e.UIPart=D.UI.Node.make((({state:e,notify:t})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({checked:e})=>l.createElement(mt,{key:"inline-highlights-switch",labelId:"inline-highlights-switch-label",labelPlacement:"before",labelClassName:pt.label,className:pt.switch,checked:e,onChange:e=>{t({kind:"toggleInlineHighlights",enabled:e})()}},te.recapBar.highlightsSwitch.label))))))),e.createFlow=function(e){return D.Z.fromSideEffect((t=>{e.actions.next({kind:o.Kind.toggleInlineHighlights,enabled:t.enabled,docId:e.state.get().docId})}),e.state.view(M.ei("highlightsSwitchState")).pipe(j.oA,w.U((e=>({checked:e})))))}}(ut||(ut={}));var ht=n(25352),ft=n(60920);const gt=({className:e,size:t=22})=>l.createElement("svg",{width:t,height:t,...(0,ke.Sh)(e,ft.logoIconSpinning),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("circle",{cx:"12",cy:"12",r:"12",fill:ht.Z.BrandGreen60,stroke:"none"}),l.createElement("path",{d:"M19.9476 11.0858C19.7424 9.30177 18.9429 7.63865 17.6778 6.36412C16.4126 5.08959 14.7555 4.2778 12.973 4.05939C11.1905 3.84098 9.38634 4.22866 7.85092 5.16003C6.31551 6.09141 5.13811 7.5123 4.50823 9.19403C3.87836 10.8758 3.83264 12.7205 4.37843 14.4314C4.92422 16.1423 6.02978 17.6197 7.51718 18.626C9.00457 19.6323 10.7873 20.1089 12.5784 19.9791C14.3695 19.8492 16.0649 19.1205 17.3916 17.9102L16.4176 16.8425C15.3305 17.8342 13.9415 18.4312 12.4739 18.5376C11.0064 18.644 9.54571 18.2535 8.32701 17.429C7.10832 16.6045 6.20248 15.3939 5.75529 13.9922C5.3081 12.5904 5.34556 11.0789 5.86165 9.70094C6.37773 8.32302 7.34243 7.15881 8.60047 6.39569C9.85851 5.63257 11.3367 5.31493 12.7972 5.49388C14.2577 5.67284 15.6155 6.33798 16.652 7.38226C17.6886 8.42654 18.3437 9.78922 18.5118 11.251L19.9476 11.0858Z",fill:"white",stroke:"none"}));function bt(e){return(0,s.zG)(e,E.fold((()=>0),(e=>e.length)))}function kt(e){return e.trim().split(/\s+/).length}var It=n(86133),wt=n(18208),yt=n(55721),Ct=n(60932);D.UI.Grid.make((({slots:e,state:t})=>l.createElement($.F.Fragment,null,t.pipe(w.U((({width:t="auto",height:n="320px"})=>l.createElement("div",{key:"contentUIGrid",className:Ct.container,style:{width:t,height:n}},l.createElement("nav",{className:Ct.menu},l.createElement("section",{className:Ct.menuContent},e.sidebarContent),l.createElement("footer",{className:Ct.menuFooter},e.sidebarFooter)),l.createElement("section",{className:Ct.main},l.createElement("header",{className:Ct.mainHeader},e.mainHeader),l.createElement("section",{className:Ct.mainContent},e.mainContent),l.createElement("footer",{className:Ct.mainFooter},e.mainFooter)))))))));const vt=D.UI.Grid.make((({slots:e,state:t})=>l.createElement($.F.Fragment,null,t.pipe(w.U((({width:t="auto",height:n="320px"})=>l.createElement("div",{key:"contentUIGrid",className:Ct.container,style:{width:t,height:n}},l.createElement("section",{...(0,ke.Sh)(Ct.main,Ct.mainNoSidebar)},l.createElement("header",{className:Ct.mainHeader},e.mainHeader),l.createElement("section",{className:Ct.mainContent},e.mainContent),l.createElement("footer",{className:Ct.mainFooter},e.mainFooter))))))))),Et=D.UI.Grid.make((({slots:e,state:t})=>l.createElement($.F.Fragment,null,t.pipe(w.U((({width:t="auto",height:n="320px"})=>l.createElement("div",{key:"contentUIGrid",className:Ct.container,style:{width:t,height:n}},l.createElement("nav",{className:Ct.menu},l.createElement("section",{className:Ct.menuContent},e.sidebarContent),l.createElement("footer",{className:Ct.menuFooter},e.sidebarFooter)),l.createElement("section",{className:Ct.main},l.createElement("header",{className:Ct.mainHeader},e.mainHeader),l.createElement("section",{...(0,ke.Sh)(Ct.mainContent,Ct.mainContentNoFooter)},e.mainContent)))))))));var Ut=n(31944),_t=n(55073),Mt=n(2479),Pt=n(65316);const Nt=D.UI.Grid.make((({slots:e})=>l.createElement("li",{className:Pt.item},l.createElement("div",{className:Pt.itemWrapper},l.createElement("article",{className:Pt.itemContent},e.item),l.createElement("aside",{className:Pt.itemMenu},e.menu)))));var St=n(3958);const Ft=({children:e,className:t})=>l.createElement("div",{...(0,ke.Sh)(St.container,t)},e);var Kt=n(41627),Rt=n(46418);const xt=({feedback:e,className:t,placement:n,disablePositionUpdates:o,onFeedback:i,onOpen:a,onClose:r})=>(0,s.zG)(e,_.g_((c=>(0,s.zG)(n,E.fold((()=>l.createElement(V.o.Tertiary,{name:"feedback-button",onClick:()=>c?r():a(),active:c,title:te.itemFeedback.button.action,"aria-label":te.itemFeedback.button.action,compact:!0},l.createElement(q.JO.AssistantFeedback,null))),(n=>l.createElement(It.J,{mainContent:l.createElement("div",{...(0,ke.Sh)(Rt.feedbackPopup,t)},l.createElement(V.o.Tertiary,{name:"feedback-good-button","aria-label":te.itemFeedback.popup.good,onClick:()=>i(d.h2.good)},l.createElement(ee.J.ThumbsUp,null)," ",l.createElement("span",{className:Rt.buttonText},te.itemFeedback.popup.good)),l.createElement(V.o.Tertiary,{name:"feedback-bad-button","aria-label":te.itemFeedback.popup.bad,onClick:()=>i(d.h2.bad)},l.createElement(ee.J.ThumbsDown,null)," ",l.createElement("span",{className:Rt.buttonText},te.itemFeedback.popup.bad))),isOutsideReferenceElement:!1,placement:n,show:_.nM(e)&&!0===e.left,includeMainContentPadding:!1,style:{zIndex:1e3,width:"auto",background:"none",borderRadius:"0",boxShadow:"none"},showArrow:!1,distanceFromReferenceElement:8,disablePositionUpdates:o},l.createElement(V.o.Tertiary,{name:"feedback-button",onClick:()=>c?r():a(),active:c,title:te.itemFeedback.button.action,"aria-label":te.itemFeedback.button.action,compact:!0},l.createElement(q.JO.AssistantFeedback,null))))))),(e=>e===d.h2.good?l.createElement(ct.u,{title:te.itemFeedback.button.good},l.createElement(ee.J.ThumbsUpFilled,{className:Rt.inactiveThumbsUp})):e===d.h2.bad?l.createElement(ct.u,{title:te.itemFeedback.button.bad},l.createElement(ee.J.ThumbsDownFilled,{className:Rt.inactiveThumbsDown})):(0,N.vE)(e))));var Lt=n(73914);const Bt=()=>l.createElement("div",{className:Lt.separator});var At;!function(e){e.getUIPart=function(e,t=q.JO.Ignore,n){return D.UI.Node.make((({state:o,notify:i})=>l.createElement($.F.Fragment,null,o.pipe(w.U((({uiMode:o,feedback:a,item:s,docId:r,feedbackMenuPlacement:c,disablePositionUpdates:d})=>l.createElement(l.Fragment,null,l.createElement("span",{ref:e=>"replyPanel"===o&&i(e?{kind:"replyButtonMounted",el:e,docId:r}:{kind:"replyButtonUnmounted",docId:r})()},l.createElement(V.o.Tertiary,{name:"reply-button",compact:!0,title:e.reply,"aria-label":e.reply,onClick:i({kind:"reply",item:s,docId:r})},l.createElement(ee.J.Reply,null))),l.createElement(Bt,null),(0,Kt.x)()&&l.createElement(V.o.Tertiary,{name:"copy-button",compact:!0,title:e.copy,"aria-label":e.copy,onClick:i({kind:"copy",item:s,docId:r})},l.createElement(q.JO.Copy,null)),l.createElement(V.o.Tertiary,{name:"remove-button",compact:!0,title:e.remove,"aria-label":e.remove,onClick:i({kind:"remove",item:s,docId:r})},l.createElement(t,null)),l.createElement(xt,{className:n,onOpen:i({kind:"openFeedback",item:s,docId:r}),onClose:i({kind:"closeFeedback",item:s,docId:r}),onFeedback:e=>i({kind:"feedback",feedback:e,item:s,docId:r})(),feedback:a,placement:c,disablePositionUpdates:d}))))))))},e.toReaderAction=function(e){return t=>{switch(t.kind){case"reply":return{kind:o.Kind.replyToItem,item:t.item,docId:t.docId,uiMode:e};case"copy":return{kind:o.Kind.copyItem,item:t.item,docId:t.docId,uiMode:e};case"remove":return{kind:o.Kind.removeItem,item:t.item,docId:t.docId,uiMode:e};case"feedback":return{kind:o.Kind.itemFeedback,item:t.item,feedback:t.feedback,docId:t.docId,uiMode:e};case"openFeedback":case"closeFeedback":return{kind:o.Kind.toggleItemFeedbackMenu,item:t.item,menuOpen:"openFeedback"===t.kind,docId:t.docId,uiMode:e};case"replyButtonMounted":return{kind:o.Kind.onboardingAnchorMounted,anchorNode:t.el,stepName:"itemMenu",docId:t.docId};case"replyButtonUnmounted":return{kind:o.Kind.onboardingAnchorUnmounted,stepNames:["itemMenu"],docId:t.docId};default:(0,N.L0)(t)}}}}(At||(At={}));var Tt,Ot,Gt=n(23014);!function(e){let t,n;!function(e){const t=D.UI.Grid.make((({slots:e})=>l.createElement(Ft,{className:Gt.popup},l.createElement($.F.Fragment,null,e.menu))));e.UIPart=D.UI.Knot.make(t,{menu:At.getUIPart(te.itemMenu.actions,q.JO.Ignore,Gt.feedbackPopup)}),e.createFlow=function(e,t,n,o,i){return D.Z.composeKnot({menu:D.Z.fromSideEffect((0,s.ls)(At.toReaderAction(i),(e=>t.next(e))),C.aj([o,n]).pipe(w.U((([t,n])=>({item:t,docId:e,feedback:_.Yo((()=>(0,s.zG)(n,E.exists((e=>e.feedbackMenuActive)))))(t.feedback),feedbackMenuPlacement:E.some("top-end"),disablePositionUpdates:!1,uiMode:i})))))})}}(t=e.Popup||(e.Popup={})),function(t){const n=D.UI.Grid.make((({slots:e,state:t,notify:n})=>l.createElement($.F.Fragment,null,t.pipe(w.U((({show:t,item:o})=>l.createElement(It.J,{key:o.id,mainContent:e.popup,isOutsideReferenceElement:!1,placement:"top-end",show:t,includeMainContentPadding:!1,style:{zIndex:1e3,width:"auto",background:"none",borderRadius:"0",boxShadow:"none"},showArrow:!1,distanceFromReferenceElement:1,clickAwayOptions:{onClickAway:n({kind:"clickAway"})}},l.createElement(V.o.Tertiary,{compact:!0,name:"menu",title:te.itemMenu.buttonTitle,"aria-label":te.itemMenu.buttonTitle,onClick:n(t?{kind:"hide"}:{kind:"show",item:o}),active:t},l.createElement(q.JO.Ellipsis,{className:Gt.ellipsis,width:15})))))))));t.UIPart=D.UI.Knot.make(n,{popup:e.Popup.UIPart}),t.createFlow=function(t,n,i,a,r,l,c){const d=r.pipe(w.U(m.Ew((e=>e.id==a))),j.oA);return D.Z.composeKnot({root:D.Z.fromSideEffect((e=>{switch(e.kind){case"show":n.next({kind:o.Kind.setItemMenuVisibleFor,item:E.some(e.item),docId:t,uiMode:c,source:"user"});break;case"hide":case"clickAway":n.next({kind:o.Kind.setItemMenuVisibleFor,item:E.none,docId:t,uiMode:c,source:"hide"===e.kind?"user":"clickAway"});break;default:(0,ot.vE)(e)}}),i.pipe(W.M(d),w.U((([e,t])=>({item:t,show:(0,s.zG)(e,E.fold((()=>!1),(e=>e.kind===l&&e.id===a)))}))))),popup:e.Popup.createFlow(t,n,i,d,c)})}}(n=e.Button||(e.Button={}))}(Tt||(Tt={})),function(e){const t=D.UI.Node.make((({state:e,notify:t})=>{const{ref:n,onMount:o}=Y.P.useElWatcher(),i=l.useRef(F.h.create(E.none)),a=l.useRef(F.h.create(!1));return l.createElement($.F.Fragment,null,e.pipe(w.U((e=>l.createElement(Ut.J,{labelId:e.id,...(0,ke.Sh)(Mt.checkboxWrapper,e.checked&&Mt.textChecked),labelClassName:Mt.label,checkboxClassName:Mt.checkbox,checked:e.checked,onChange:n=>{a.current.set(n),t({kind:"check",checked:n,item:e})()},useDS:!0,onMount:e=>{i.current.set(E.some(e)),t({kind:"mount",el:e})()}},(0,_t.l)(e.delta,""))))),C.aj([i.current,n,a.current]).pipe(w.U((([e,t,n])=>(0,s.zG)(e,E.filter((()=>n)),E.fold(s.gn,(e=>{const n=e.getBoundingClientRect(),i=(0,s.zG)(t,E.chain((e=>E.fromNullable(e.offsetParent))),E.fold((()=>({top:0,left:0})),(e=>e.getBoundingClientRect())));return l.createElement("div",{ref:o,className:Mt.checkboxDoneNotification,style:{top:n.top-i.top-6,left:n.left-i.left+.5*n.width},onAnimationEnd:()=>a.current.set(!1),role:"presentation"},te.followUps.doneNotification,l.createElement("div",{className:Mt.arrow}))})))))))})),n=D.UI.Knot.make(Nt,{item:t,menu:Tt.Button.UIPart}),i=D.UI.List.make(m.Bk,n);e.UIPart=D.UI.Composite.make(D.UI.Grid.make((({slots:e})=>l.createElement($.F.ul,{className:Mt.followUps},e.list))),i),e.createFlow=function(e,t,n,i,a){return D.Z.composeList(m.Bk,(()=>n.pipe(j.oA,X.O([]),w.U(m.Su(((e,{id:t})=>({id:t,isFirstItem:0===e})))))),(({id:s,isFirstItem:r})=>function(e,t,n,i,a,s,r){return D.Z.composeKnot({item:D.Z.fromSideEffect((e=>{switch(e.kind){case"check":i.next({kind:o.Kind.setItemChecked,checked:e.checked,item:e.item,docId:n,uiMode:r});break;case"mount":"replyPanel"==r&&t&&i.next({kind:o.Kind.onboardingAnchorMounted,anchorNode:e.el,stepName:"checkItem",docId:n});break;default:(0,N.L0)(e)}}),a.pipe(w.U(E.chain(m.Ew((t=>t.id==e)))),j.oA)),menu:Tt.Button.createFlow(n,i,s,e,a.pipe(j.oA,X.O([])),d.YB.followUp,r)})}(s,r,e,t,n,i,a)))}}(Ot||(Ot={}));var Ht,zt,Dt,Vt=n(58563);!function(e){const t=D.UI.Knot.make(Nt,{item:D.UI.Node.make((({state:e})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({delta:e})=>l.createElement(l.Fragment,null,(0,_t.l)(e,"")))))))),menu:Tt.Button.UIPart}),n=D.UI.List.make(m.Bk,t);e.UIPart=D.UI.Composite.make(D.UI.Grid.make((({slots:e})=>l.createElement($.F.ul,{className:Vt.keyPoints},e.list))),n),e.createFlow=function(e,t,n,o,i){return D.Z.composeList(m.Bk,(()=>n.pipe(j.oA,X.O([]),w.U(m.UI(M.ei("id"))))),(a=>function(e,t,n,o,i,a){return D.Z.composeKnot({item:()=>o.pipe(w.U(E.chain(m.Ew((t=>t.id==e)))),j.oA),menu:Tt.Button.createFlow(t,n,i,e,o.pipe(j.oA,X.O([])),d.YB.keyPoint,a)})}(a,e,t,n,o,i)))}}(Ht||(Ht={})),function(e){e.UIPart=D.UI.Node.make((({notify:e})=>l.createElement(V.o.Tertiary,{name:"hint",title:te.hintButton.title,"aria-label":te.hintButton.title,compact:!0,onClick:e("showOnboarding")},l.createElement(q.JO.QuestionMark,{width:12})))),e.createFlow=function(e,t,n){const i="moreDataFollowUps"===(a=t)?"followUps":"moreDataKeyPoints"===a?"keyPoints":"replyPanel";var a;return D.Z.fromSideEffect((t=>{e.next({kind:o.Kind.onboardingSetKind,onboardingKind:E.some(i),docId:n})}),Q.of(null))}}(zt||(zt={})),function(e){e.UIPart=D.UI.Node.make((({state:e})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({count:e,singular:t,plural:n})=>l.createElement(l.Fragment,null,e," ",wt._6(e,t,n))))))))}(Dt||(Dt={}));var Zt,Yt=n(13719);!function(e){let t,n,i;!function(e){const t=D.UI.Grid.make((({state:e,slots:t,notify:n})=>{const{ref:o,onMount:i}=Y.P.useElWatcher();return l.useEffect((()=>{const t=o.pipe(j.oA,W.M(e),v.b((([e,{popupKind:t}])=>n({kind:"mount",el:e,popupKind:t})()))).subscribe();return()=>t.unsubscribe()}),[]),l.createElement($.F.Fragment,null,e.pipe(w.U((({popupKind:e})=>l.createElement("div",{className:Yt.footer,key:`footer-${e}`},t.hintButton,l.createElement("div",{ref:i,className:Yt.replyButton},l.createElement(V.o.Primary,{name:"replyButton",onClick:n({kind:"reply",popupKind:e})},l.createElement(ee.J.Reply,null),te.reply)))))))})),n=D.UI.Union.make("popupKind",{none:D.UI.Node.empty,followUps:zt.UIPart,keyPoints:zt.UIPart});e.UIPart=D.UI.Knot.make(t,{hintButton:n}),e.createFlow=function(e){return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t.kind){case"reply":e.actions.next({kind:o.Kind.reply,docId:e.state.get().docId,popupKind:t.popupKind});break;case"mount":"followUps"===t.popupKind&&e.actions.next({kind:o.Kind.onboardingAnchorMounted,anchorNode:t.el,stepName:"draftReply",docId:e.state.get().docId});break;default:(0,N.L0)(t)}}),e.state.view((({popupKind:e})=>(0,s.zG)(e,E.filter(it.PopupKind.isMoreDataPopupKind),E.fold((()=>({popupKind:"all"})),(e=>({popupKind:e}))))))),hintButton:D.Z.composeUnion({none:()=>Q.of(null),followUps:zt.createFlow(e.actions,"moreDataFollowUps",e.state.get().docId),keyPoints:zt.createFlow(e.actions,"moreDataKeyPoints",e.state.get().docId)},(()=>e.state.view((({popupKind:e,onboardingAvailable:t})=>(0,s.zG)(e,E.filter(it.PopupKind.isFollowUpsOrKeyPoints),E.filter((()=>t)),E.getOrElse((()=>"none")),(e=>({popupKind:e})))))))})}}(t=e.Footer||(e.Footer={})),function(e){const t=D.UI.Union.make("popupKind",{followUps:Dt.UIPart,keyPoints:Dt.UIPart,all:()=>l.createElement(l.Fragment,null,"All")}),n=D.UI.Grid.make((({state:e,slots:t,notify:n})=>{const{ref:o,onMount:i}=Y.P.useElWatcher();return l.useEffect((()=>{const t=o.pipe(j.oA,W.M(e),v.b((([e,{popupKind:t}])=>n({kind:"mount",el:e,popupKind:t})()))).subscribe();return()=>t.unsubscribe()}),[]),l.createElement($.F.Fragment,null,e.pipe(w.U((({popupKind:e})=>l.createElement("div",{className:Yt.header,key:`header-${e}`},l.createElement("div",{className:Yt.headerCounts,ref:i},t.counts),l.createElement(V.o.Tertiary,{name:"close",compact:!0,onClick:n({kind:"close"})},l.createElement(q.JO.Close,null)))))))}));e.UIPart=D.UI.Knot.make(n,{counts:t}),e.createFlow=function(e){return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t.kind){case"close":e.actions.next({kind:o.Kind.setRecapBarPopup,popupKind:E.none,docId:e.state.get().docId,source:"user"});break;case"mount":"all"!==t.popupKind&&e.actions.next({kind:o.Kind.onboardingAnchorMounted,anchorNode:t.el,stepName:t.popupKind,docId:e.state.get().docId});break;default:(0,N.L0)(t)}}),e.state.view((({popupKind:e})=>(0,s.zG)(e,E.filter(it.PopupKind.isMoreDataPopupKind),E.fold((()=>({popupKind:"all"})),(e=>({popupKind:e}))))))),counts:()=>e.state.view((({popupKind:e,followUps:t,keyPoints:n})=>(0,s.zG)(B.Y(E.option)({popupKind:e,followUpsCount:E.some(bt(t)),keyPointsCount:E.some(bt(n))}),E.map((({popupKind:e,followUpsCount:t,keyPointsCount:n})=>"followUps"===e?{popupKind:"followUps",count:t,plural:te.recapBar.followUps.buttonTitle.plural,singular:te.recapBar.followUps.buttonTitle.singular}:"keyPoints"===e?{popupKind:"keyPoints",count:n,plural:te.recapBar.keyPoints.buttonTitle.plural,singular:te.recapBar.keyPoints.buttonTitle.singular}:{popupKind:"all"})),E.getOrElse((()=>({popupKind:"all"}))))))})}}(n=e.Header||(e.Header={})),function(e){const t=D.UI.Union.make("dataKind",{followUps:Dt.UIPart,keyPoints:Dt.UIPart});function n(e,t){return D.Z.composeUnion({followUps:()=>e.state.view((0,s.ls)((({followUps:e})=>bt(e)),(e=>({count:e,plural:te.recapBar.followUps.buttonTitle.plural,singular:te.recapBar.followUps.buttonTitle.singular})))),keyPoints:()=>e.state.view((0,s.ls)((({keyPoints:e})=>bt(e)),(e=>({count:e,plural:te.recapBar.keyPoints.buttonTitle.plural,singular:te.recapBar.keyPoints.buttonTitle.singular}))))},(()=>Q.of({dataKind:t})))}const i=({children:e,onScroll:t})=>{const[n,o]=l.useState(0),[i,a]=l.useState(0),[s,r]=l.useState(0),c=l.useRef(null),d=l.useRef(new le.xQ);return l.useEffect((()=>{var e,t;a((null===(e=null==c?void 0:c.current)||void 0===e?void 0:e.scrollHeight)||0),r((null===(t=null==c?void 0:c.current)||void 0===t?void 0:t.clientHeight)||0)})),l.useEffect((()=>{const e=d.current.pipe(yt.p(te.panelScrollEventThrottleTime),v.b(t)).subscribe();return()=>e.unsubscribe()}),[]),l.createElement("div",{...(0,ke.Sh)(Yt.content,n>0?Yt.contentOverflowTop:void 0,i-s-n>0?Yt.contentOverflowBottom:void 0)},l.createElement("div",{className:Yt.contentContent,ref:c,onScroll:e=>{o(e.currentTarget.scrollTop),d.current.next()}},e))},a=D.UI.Knot.make(D.UI.Grid.make((({slots:e,notify:t})=>l.createElement(i,{onScroll:t("scroll")},e.content))),{content:Ot.UIPart}),r=D.UI.Knot.make(D.UI.Grid.make((({slots:e,notify:t})=>l.createElement(i,{onScroll:t("scroll")},e.content))),{content:Ht.UIPart}),c=D.UI.Grid.make((({slots:e})=>l.createElement(l.Fragment,null,l.createElement("h2",{className:Yt.contentCounts},e.counts),e.content))),d=D.UI.Knot.make(c,{content:Ot.UIPart,counts:t}),m=D.UI.Knot.make(c,{content:Ht.UIPart,counts:t}),u=D.UI.Knot.make(D.UI.Grid.make((({slots:e,notify:t})=>l.createElement(i,{onScroll:t("scroll")},e.followUps,e.keyPoints))),{followUps:d,keyPoints:m});e.UIPart=D.UI.Union.make("popupKind",{followUps:a,keyPoints:r,all:u}),e.createFlow=function(e){return D.Z.composeUnion({followUps:D.Z.composeKnot({root:D.Z.fromSideEffect((t=>e.actions.next({kind:o.Kind.panelScroll,source:"recapBar",docId:e.state.get().docId})),Q.of(null)),content:Ot.createFlow(e.state.view("docId").get(),e.actions,e.state.view("followUps"),e.state.view("itemMenuVisibleFor"),"recapBar")}),keyPoints:D.Z.composeKnot({root:D.Z.fromSideEffect((t=>e.actions.next({kind:o.Kind.panelScroll,source:"recapBar",docId:e.state.get().docId})),Q.of(null)),content:Ht.createFlow(e.state.view("docId").get(),e.actions,e.state.view("keyPoints"),e.state.view("itemMenuVisibleFor"),"recapBar")}),all:D.Z.composeKnot({root:D.Z.fromSideEffect((t=>e.actions.next({kind:o.Kind.panelScroll,source:"recapBar",docId:e.state.get().docId})),Q.of(null)),followUps:D.Z.composeKnot({content:Ot.createFlow(e.state.view("docId").get(),e.actions,e.state.view("followUps"),e.state.view("itemMenuVisibleFor"),"recapBar"),counts:n(e,"followUps")}),keyPoints:D.Z.composeKnot({content:Ht.createFlow(e.state.view("docId").get(),e.actions,e.state.view("keyPoints"),e.state.view("itemMenuVisibleFor"),"recapBar"),counts:n(e,"keyPoints")})})},(()=>e.state.view((({popupKind:e})=>(0,s.zG)(e,E.filter(it.PopupKind.isMoreDataPopupKind),E.fold((()=>({popupKind:"all"})),(e=>({popupKind:e}))))))))}}(i=e.Content||(e.Content={})),e.UIPart=D.UI.Knot.make(vt,{mainHeader:n.UIPart,mainContent:i.UIPart,mainFooter:t.UIPart}),e.createFlow=function(e){return D.Z.composeKnot({root:()=>Q.of({width:"432px",height:"auto"}),mainHeader:n.createFlow(e),mainContent:i.createFlow(e),mainFooter:t.createFlow(e)})}}(Zt||(Zt={}));var qt,jt=n(75130);!function(e){const t=D.UI.Grid.make((({state:e,slots:t,notify:n})=>{const{ref:o,onMount:i}=Y.P.useElWatcher();return l.useEffect((()=>{const e=o.pipe(j.oA,v.b((e=>{n({kind:"mount",el:e})()}))).subscribe();return()=>e.unsubscribe()}),[]),l.createElement($.F.Fragment,null,e.pipe(w.U((({followUpsCount:e,keyPointsCount:o,popupState:{showFollowups:a,showKeyPoints:s,showAll:r},onboardingActive:c})=>l.createElement("div",{key:"moreDataEntryPoint",...(0,ke.Sh)(jt.moreDataEntryPoint,c?jt.moreDataEntryPointWithOnboarding:void 0),ref:i},e?l.createElement(It.J,{mainContent:t.popup,isOutsideReferenceElement:!1,theme:"lightDS",placement:"bottom",show:a,style:{zIndex:1e3,width:"auto"},includeMainContentPadding:!1,boundaryAreaPadding:8,clickAwayOptions:{onClickAway:n({kind:"clickAway"})}},l.createElement(V.o.Tertiary,{name:"follow-ups",active:a,onClick:n({kind:"buttonClicked",popupKind:a?E.none:E.some("followUps")})},e," ",wt._6(e,te.recapBar.followUps.buttonTitle.singular,te.recapBar.followUps.buttonTitle.plural))):null,o?l.createElement(It.J,{mainContent:t.popup,isOutsideReferenceElement:!1,theme:"lightDS",placement:"bottom",show:s,style:{zIndex:1e3,width:"auto"},includeMainContentPadding:!1,boundaryAreaPadding:8,clickAwayOptions:{onClickAway:n({kind:"clickAway"})}},l.createElement(V.o.Tertiary,{name:"key-points",active:s,onClick:n({kind:"buttonClicked",popupKind:s?E.none:E.some("keyPoints")})},o," ",wt._6(o,te.recapBar.keyPoints.buttonTitle.singular,te.recapBar.keyPoints.buttonTitle.plural))):null,e&&o?l.createElement(It.J,{mainContent:t.popup,isOutsideReferenceElement:!1,theme:"lightDS",placement:"bottom",show:r,style:{zIndex:1e3,width:"auto"},includeMainContentPadding:!1,boundaryAreaPadding:8,clickAwayOptions:{onClickAway:n({kind:"clickAway"})}},l.createElement(V.o.Tertiary,{name:"all",active:r,onClick:n({kind:"buttonClicked",popupKind:r?E.none:E.some("all")})},te.recapBar.all.buttonTitle)):null)))))}));e.UIPart=D.UI.Knot.make(t,{popup:Zt.UIPart}),e.createFlow=function(e,t){return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t.kind){case"buttonClicked":e.actions.next({kind:o.Kind.setRecapBarPopup,popupKind:t.popupKind,docId:e.state.get().docId,source:"user"});break;case"clickAway":e.actions.next({kind:o.Kind.setRecapBarPopup,popupKind:E.none,docId:e.state.get().docId,source:"clickAway"});break;case"mount":e.actions.next({kind:o.Kind.onboardingAnchorMounted,anchorNode:t.el,docId:e.state.get().docId,stepName:"recapBar"});break;default:(0,N.vE)(t)}}),F.h.combine(e.state.view((({followUps:e,keyPoints:t,popupKind:n,isLastMessage:o})=>({followUpsCount:bt(e),keyPointsCount:bt(t),popupState:(0,s.zG)(n,E.fold((()=>({showFollowups:!1,showKeyPoints:!1,showAll:!1})),(e=>({showFollowups:"followUps"===e,showKeyPoints:"keyPoints"===e,showAll:"all"===e})))),isLastMessage:o}))),t.view((e=>(0,s.zG)(e,E.fold(s.jv,(({stepName:e,onboardingKind:t})=>"general"===t&&"recapBar"===e))))),((e,t)=>({...e,onboardingActive:!!e.isLastMessage&&t})))),popup:Zt.createFlow(e)})}}(qt||(qt={}));var Wt,Qt=n(3843),Jt=n(64229);!function(e){e.UIPart=D.UI.Node.make((({state:e,notify:t})=>{const n=l.useRef(F.h.create(E.none));return l.useEffect((()=>{const e=n.current.pipe(j.oA,w.U((e=>{t({kind:"itemMount",el:e})()}))).subscribe();return()=>e.unsubscribe()}),[]),l.createElement($.F.Fragment,null,e.pipe(w.U((({show:e,kind:o})=>l.createElement(Jt.m,{ariaMenuId:"actions-menu",ariaMenuLabel:te.recapBar.settingsMenu.menuTitle,sections:[{items:[{icon:l.createElement(rt.K,{size:22}),label:te.recapBar.settingsMenu.about,onClick:t({kind:"aboutRecap"})},{icon:l.createElement(ee.J.Feedback,null),label:te.recapBar.settingsMenu.feedback,onClick:t({kind:"feedback"})}]},{items:[{id:"recap-bar-highlights-switch",icon:o===it.Kind.compact?l.createElement(ee.J.Show,null):l.createElement(ee.J.Hide,null),label:o===it.Kind.compact?te.recapBar.settingsMenu.show:te.recapBar.settingsMenu.hide,onClick:o===it.Kind.compact?t({kind:"toggleRecapBar",isCompact:!1}):t({kind:"toggleRecapBar",isCompact:!0}),disabled:(0,P.ff)((0,P.Kg)(it.Kind.is(it.Kind.compact),it.Kind.is(it.Kind.expanded)))(o)}]},{items:[{icon:l.createElement(ee.J.Disable,null),label:te.recapBar.settingsMenu.disable,onClick:t({kind:"turnOffRecap"})}]}],trigger:{action:"click"},placement:"bottom-end",size:"medium",theme:"lightDS",distanceFromReferenceElement:0,style:{zIndex:1e3,width:240},onToggle:n=>{n!==e&&t({kind:"toggleMenu",show:n})()},onItemMount:(e,t)=>{"recap-bar-highlights-switch"===e&&n.current.set(E.some(t))}},l.createElement(V.o.Tertiary,{title:te.recapBar.settingsMenu.buttonTitle,"aria-label":te.recapBar.settingsMenu.buttonTitle,name:"menu-button",active:e,compact:!0},l.createElement(q.JO.Gear,{width:15})))))))})),e.createFlow=function(e){return D.Z.fromSideEffect((t=>{switch(t.kind){case"aboutRecap":e.actions.next({kind:o.Kind.recapMenuItemClick,item:"about",docId:e.state.get().docId});break;case"feedback":e.actions.next({kind:o.Kind.recapMenuItemClick,item:"feedback",docId:e.state.get().docId});break;case"turnOffRecap":e.actions.next({kind:o.Kind.recapMenuItemClick,item:"turnOff",docId:e.state.get().docId});break;case"toggleMenu":e.actions.next({kind:o.Kind.setRecapBarPopup,popupKind:t.show?E.some("settingsMenu"):E.none,docId:e.state.get().docId,source:"user"});break;case"toggleRecapBar":e.actions.next({kind:o.Kind.recapMenuItemClick,item:t.isCompact?"hide":"show",docId:e.state.get().docId}),e.actions.next({kind:o.Kind.toggleRecapBar,isCompact:t.isCompact,docId:e.state.get().docId,source:"settingsMenu"});break;case"itemMount":e.actions.next({kind:o.Kind.onboardingAnchorMounted,anchorNode:t.el,stepName:"recapBarMenu",docId:e.state.get().docId});break;default:(0,N.L0)(t)}}),e.state.view((({popupKind:e,kind:t})=>({show:(0,s.zG)(e,E.fold((()=>!1),(e=>"settingsMenu"===e))),kind:t}))))}}(Wt||(Wt={}));const Xt=({title:e,children:t})=>e?l.createElement(ct.u,{title:e,align:"right"},t):l.createElement(l.Fragment,null,t),$t=({title:e,warning:t,loading:n})=>l.createElement(Xt,{title:e},l.createElement("div",{className:Qt.logoContainer},n?l.createElement(gt,{size:22}):l.createElement(rt.K,{size:22}),t?l.createElement(ee.J.WarningBadge,{className:Qt.warningBadge}):null)),en=({browser:e})=>l.createElement(lt.v,{browser:e,className:Qt.betaBadge}),tn=D.UI.Grid.make((({slots:e,view:t})=>l.createElement($.F.div,{key:"compact-panel",...(0,ke.Sh)(Qt.recapPanel,t("hasBackground").pipe(w.U((0,P.RN)(Qt.panelBackground,null))))},l.createElement($.F.Fragment,null,e.logo),l.createElement($.F.main,{className:Qt.mainPart},e.content),l.createElement($.F.aside,{className:Qt.asidePart},e.aside))));var nn,on,an;!function(e){const t=D.UI.Node.make((({state:e})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({loading:e,browser:t})=>l.createElement("div",{className:Qt.logoAndBadge},l.createElement($t,{loading:e}),l.createElement(en,{browser:t})))))))),n=D.UI.Node.make((({notify:e})=>l.createElement(l.Fragment,null,l.createElement("span",{className:Qt.optInContent},te.recapBar.optIn.content),l.createElement(V.o.Primary,{name:"try-it-out",onClick:e("tryItOut"),className:Qt.tryItOutButton},te.recapBar.optIn.tryItOutButton),l.createElement("a",{href:te.recapBar.optIn.learnMoreLink,target:"_blank",rel:"noreferrer",className:Qt.learnMoreLink,onClick:e("learnMore")},te.recapBar.optIn.learnMoreLabel)))),i=D.UI.Node.make((({notify:e})=>l.createElement(V.o.Tertiary,{name:"dismiss",onClick:e("dismiss"),className:Qt.ghostButton},te.recapBar.optIn.dismissButton))),a=D.UI.Union.asOption(n),r=D.UI.Union.asOption(i);e.UIPart=D.UI.Knot.make(tn,{logo:t,content:a,aside:r}),e.createFlow=function(e){return D.Z.composeKnot({root:()=>e.state.view((0,s.ls)(M.ei("kind"),(e=>({hasBackground:e===it.Kind.optIn})))),logo:()=>e.state.view((e=>({browser:e.browser,loading:e.kind===it.Kind.optInIndeterminate}))),content:D.Z.composeUnion({Some:D.Z.composeKnot({value:D.Z.fromSideEffect((t=>{switch(t){case"tryItOut":e.actions.next({kind:o.Kind.optInTryItOutModal,docId:e.state.view("docId").get()});break;case"learnMore":e.actions.next({kind:o.Kind.learnMoreLinkVisited,source:"optInRecapBar",docId:e.state.view("docId").get()});break;default:(0,N.L0)(t)}}),Q.of(null))}),None:()=>Q.of(null)},(()=>e.state.view((0,s.ls)(M.ei("kind"),E.some,E.filter(it.Kind.is(it.Kind.optIn)))))),aside:D.Z.composeUnion({Some:D.Z.composeKnot({value:D.Z.fromSideEffect((t=>{if("dismiss"===t)e.actions.next({kind:o.Kind.optInDismissModal,docId:e.state.view("docId").get()});else(0,N.L0)(t)}),Q.of(null))}),None:()=>Q.of(null)},(()=>e.state.view((0,s.ls)(M.ei("kind"),E.some,E.filter(it.Kind.is(it.Kind.optIn))))))})}}(nn||(nn={})),function(e){const t=D.UI.Node.make((({state:e,notify:t})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({kind:e,checkingState:n,logoTooltip:o,logoWarning:i,browser:a})=>l.createElement("div",{onClick:e===it.Kind.compact?t({kind:"toggleRecapBar",isCompact:!1}):e===it.Kind.expanded?t({kind:"toggleRecapBar",isCompact:!0}):void 0,className:Qt.logoAndBadge,...e===it.Kind.compact||e===it.Kind.expanded?{role:"button"}:{}},l.createElement($t,{loading:"idle"!==n,warning:i,title:o}),l.createElement(en,{browser:a}))))))));function n(e){return D.Z.fromSideEffect((t=>e.actions.next({kind:o.Kind.toggleRecapBar,isCompact:t.isCompact,docId:e.state.get().docId,source:"logoButton"})),e.state.view((e=>{const t=E.isNone(e.followUps)&&E.isNone(e.keyPoints),n=E.isSome(e.lowQualityInfo)&&!t,o=e.kind===it.Kind.compact,i=o?t&&"idle"===e.checkingState?(0,s.zG)(e.goodForAnnotations,U.FX(!0))?te.recapBar.logoTooltips.noSummary:te.recapBar.logoTooltips.noSummaryMessageTooShort:n?te.recapBar.logoTooltips.contentIsLowQuality:"":"",a=e.kind===it.Kind.indeterminate?te.recapBar.logoTooltips.loading:`${o?te.recapBar.logoTooltips.show:te.recapBar.logoTooltips.hide}${i?" | ":""}${i}`;return{kind:e.kind,checkingState:e.checkingState,logoTooltip:a,logoWarning:n&&e.kind===it.Kind.expanded,browser:e.browser}})))}let i;!function(e){const t=D.UI.Node.make((()=>l.createElement("span",{className:Qt.contentLabel},te.recapBar.zeroStates.noSummary))),n=D.UI.Node.make((()=>l.createElement("span",{className:Qt.contentLabel},te.recapBar.zeroStates.noSummaryMessageTooShort))),i=D.UI.Node.make((({notify:e})=>l.createElement("span",{className:Qt.contentLabel},te.recapBar.zeroStates.contentIsLowQuality,l.createElement(V.o.Tertiary,{name:"show-anyway",onClick:e("showAnyway"),className:Qt.ghostButton},te.recapBar.zeroStates.showAnyway))));function a(e){const t=E.isSome(e.followUps)&&E.isSome(e.keyPoints),n=E.isSome(e.followUps)||E.isSome(e.keyPoints),o="idle"===e.checkingState&&n||t,i=o&&(E.isNone(e.lowQualityInfo)||e.showLowQualityContent),a=E.isSome(e.lowQualityInfo)&&!e.showLowQualityContent&&o;return e.kind!==it.Kind.expanded?"none":i?"moreDataEntryPoint":a?"lowQualityEntryPoint":(0,s.zG)(e.goodForAnnotations,U.FX(!0))?"noSummary":"noSummaryMessageTooShort"}e.UIPart=D.UI.Union.make("kind",{none:D.UI.Node.empty,moreDataEntryPoint:qt.UIPart,lowQualityEntryPoint:i,noSummary:t,noSummaryMessageTooShort:n}),e.createFlow=function(e,t){return D.Z.composeUnion({none:()=>Q.of(null),moreDataEntryPoint:qt.createFlow(e,t),lowQualityEntryPoint:D.Z.fromSideEffect((t=>e.actions.next({kind:o.Kind.showAnyway,docId:e.state.get().docId})),Q.of(null)),noSummary:()=>Q.of(null),noSummaryMessageTooShort:()=>Q.of(null)},(()=>e.state.view((0,s.ls)(a,(e=>({kind:e}))))))}}(i||(i={}));const a=D.UI.Union.asOption(ut.UIPart),r=D.UI.Knot.make(D.UI.Grid.make((({slots:e})=>l.createElement($.F.Fragment,null,e.highlightsSwitch,e.settingsMenu))),{highlightsSwitch:a,settingsMenu:Wt.UIPart});e.UIPart=D.UI.Knot.make(tn,{logo:t,content:i.UIPart,aside:r}),e.createFlow=function(e,t){return D.Z.composeKnot({root:()=>Q.of({hasBackground:!1}),logo:n(e),content:i.createFlow(e,t),aside:D.Z.composeKnot({highlightsSwitch:D.Z.composeUnion({Some:D.Z.composeKnot({value:ut.createFlow(e)}),None:()=>Q.of(null)},(()=>e.state.view((e=>(0,s.zG)(e.kind===it.Kind.compact?E.none:e.highlightsSwitchState))))),settingsMenu:Wt.createFlow(e)})})}}(on||(on={})),function(e){e.UIPart=D.UI.Union.make("kind",{none:D.UI.Node.empty,optedIn:on.UIPart,notOptedIn:nn.UIPart}),e.createFlow=function(e,t){return D.Z.composeUnion({none:()=>Q.of(null),optedIn:on.createFlow(e,t),notOptedIn:nn.createFlow(e)},(()=>e.state.view((0,s.ls)(M.ei("kind"),(e=>{switch(e){case it.Kind.none:return{kind:"none"};case it.Kind.optInIndeterminate:case it.Kind.optIn:return{kind:"notOptedIn"};default:return{kind:"optedIn"}}})))))}}(an||(an={}));var sn,rn=n(3116);!function(e){let t;!function(e){let t,n;!function(e){const t=D.UI.Grid.make((({notify:e,slots:t})=>l.createElement(l.Fragment,null,l.createElement("strong",null,t.count)," ",te.replyPanel.compact.followUps.suffix," ",l.createElement("a",{onClick:e("show"),role:"button",tabIndex:0},te.replyPanel.show))));e.UIPart=D.UI.Knot.make(t,{count:Dt.UIPart}),e.createFlow=e=>D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{e.actions.next({kind:o.Kind.toggleReplyPanelMode,docId:e.state.get().docId,trigger:"followUps",mode:at.Mode.full})}),Q.of(null)),count:()=>e.state.view((({followUps:e})=>({count:(0,s.zG)(e,E.fold((()=>0),(e=>e.length))),plural:te.replyPanel.compact.followUps.plural,singular:te.replyPanel.compact.followUps.singular})))})}(t||(t={})),function(e){e.UIPart=D.UI.Node.make((({notify:e})=>l.createElement(l.Fragment,null,te.replyPanel.compact.keyPoints.content," ",l.createElement("a",{onClick:e("show"),role:"button",tabIndex:0},te.replyPanel.compact.keyPoints.action)))),e.createFlow=e=>D.Z.fromSideEffect((t=>{e.actions.next({kind:o.Kind.toggleReplyPanelMode,docId:e.state.get().docId,trigger:"keyPoints",mode:at.Mode.full})}),Q.of(null))}(n||(n={})),e.UIPart=D.UI.Union.make("kind",{none:D.UI.Node.empty,followUps:t.UIPart,keyPoints:n.UIPart}),e.createFlow=e=>D.Z.composeUnion({none:()=>Q.of(null),followUps:t.createFlow(e),keyPoints:n.createFlow(e)},(()=>e.state.view((({followUps:e,keyPoints:t})=>({kind:E.isSome(e)?"followUps":E.isSome(t)?"keyPoints":"none"})))))}(t||(t={}));const n=D.UI.Grid.make((({state:e,notify:t,slots:n})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({messageId:e})=>l.createElement("div",{key:e,className:rn.compactReplyPanel},l.createElement(rt.K,{className:rn.compactReplyPanelLogo,size:22}),l.createElement("div",{className:rn.compactReplyPanelContent},n.content),l.createElement(V.o.Tertiary,{name:"show",title:te.replyPanel.show,onClick:t("show"),compact:!0},l.createElement(ee.J.ChevronDown,null)))))))));e.UIPart=D.UI.Knot.make(n,{content:t.UIPart}),e.createFlow=e=>D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{e.actions.next({kind:o.Kind.toggleReplyPanelMode,docId:e.state.get().docId,trigger:"arrowButton",mode:at.Mode.full})}),e.state.view((({docId:e})=>({messageId:e})))),content:t.createFlow(e)})}(sn||(sn={}));var ln,cn=n(28043),dn=n(97156);!function(e){const t=D.UI.Union.make("dataKind",{followUps:Dt.UIPart,keyPoints:Dt.UIPart});function n(e,t){return D.Z.composeUnion({followUps:()=>e.state.view((0,s.ls)((({followUps:e})=>bt(e)),(e=>({count:e,plural:te.replyPanel.content.followUps.plural,singular:te.replyPanel.content.followUps.singular})))),keyPoints:()=>e.state.view((0,s.ls)((({keyPoints:e})=>bt(e)),(e=>({count:e,plural:te.replyPanel.content.keyPoints.plural,singular:te.replyPanel.content.keyPoints.singular}))))},(()=>Q.of({dataKind:t})))}const i=({children:e,expanded:t,onScroll:n,onOverflow:o})=>{const[i,a]=l.useState(0),r=l.useRef(new le.xQ),{ref:c,onMount:d}=Y.P.useElWatcher();return l.useEffect((()=>{const e=r.current.pipe(yt.p(te.panelScrollEventThrottleTime),v.b(n)).subscribe(),t=c.pipe(w.U(E.fold(s.jv,(e=>e.clientHeight<e.scrollHeight))),cn.x(),v.b(o)).subscribe();return()=>{e.unsubscribe(),t.unsubscribe()}}),[]),l.createElement("div",{...(0,ke.Sh)(i>0?dn.contentOverflowTop:void 0)},l.createElement("div",{...(0,ke.Sh)(dn.content,t?dn.contentExpanded:void 0),ref:d,onScroll:e=>{a(e.currentTarget.scrollTop),r.current.next()}},e))},a=D.UI.Grid.make((({slots:e})=>l.createElement(l.Fragment,null,l.createElement("h2",{className:dn.contentCounts},e.counts),e.content))),r=D.UI.Knot.make(a,{content:Ot.UIPart,counts:t}),c=D.UI.Knot.make(a,{content:Ht.UIPart,counts:t}),d=D.UI.Knot.make(D.UI.Grid.make((({slots:e,state:t,notify:n})=>l.createElement($.F.Fragment,null,t.pipe(w.U((({expanded:t})=>l.createElement(i,{key:"followUpsContent",expanded:t,onScroll:n({kind:"scroll"}),onOverflow:e=>n({kind:"overflow",hasOverflow:e})()},e.content))))))),{content:r}),m=D.UI.Knot.make(D.UI.Grid.make((({slots:e,state:t,notify:n})=>l.createElement($.F.Fragment,null,t.pipe(w.U((({expanded:t})=>l.createElement(i,{key:"keyPointsContent",expanded:t,onScroll:n({kind:"scroll"}),onOverflow:e=>n({kind:"overflow",hasOverflow:e})()},e.content))))))),{content:Ht.UIPart});function u(e){return D.Z.fromSideEffect((t=>{switch(t.kind){case"scroll":e.actions.next({kind:o.Kind.panelScroll,source:"replyPanel",docId:e.state.get().docId});break;case"overflow":e.actions.next({kind:o.Kind.panelOverflow,source:"replyPanel",docId:e.state.get().docId,hasOverflow:t.hasOverflow});break;default:(0,N.L0)(t)}}),e.state.view((e=>({expanded:e.expanded}))))}e.AllContent=D.UI.Knot.make(D.UI.Grid.make((({slots:e,state:t,notify:n})=>l.createElement($.F.Fragment,null,t.pipe(w.U((({expanded:t})=>l.createElement(i,{key:"allContent",expanded:t,onScroll:n({kind:"scroll"}),onOverflow:e=>n({kind:"overflow",hasOverflow:e})()},e.followUps,e.keyPoints))))))),{followUps:r,keyPoints:c}),e.UIPart=D.UI.Union.make("kind",{none:D.UI.Node.empty,followUps:d,keyPoints:m,all:e.AllContent}),e.createFlow=function(e){return D.Z.composeUnion({none:()=>Q.of(null),followUps:D.Z.composeKnot({root:u(e),content:D.Z.composeKnot({content:Ot.createFlow(e.state.view("docId").get(),e.actions,e.state.view("followUps"),e.state.view("itemMenuVisibleFor"),"replyPanel"),counts:n(e,"followUps")})}),keyPoints:D.Z.composeKnot({root:u(e),content:Ht.createFlow(e.state.view("docId").get(),e.actions,e.state.view("keyPoints"),e.state.view("itemMenuVisibleFor"),"replyPanel")}),all:D.Z.composeKnot({root:u(e),followUps:D.Z.composeKnot({content:Ot.createFlow(e.state.view("docId").get(),e.actions,e.state.view("followUps"),e.state.view("itemMenuVisibleFor"),"replyPanel"),counts:n(e,"followUps")}),keyPoints:D.Z.composeKnot({content:Ht.createFlow(e.state.view("docId").get(),e.actions,e.state.view("keyPoints"),e.state.view("itemMenuVisibleFor"),"replyPanel"),counts:n(e,"keyPoints")})})},(()=>e.state.view((({followUps:e,keyPoints:t})=>({kind:E.isSome(e)&&E.isSome(t)?"all":E.isSome(e)?"followUps":E.isSome(t)?"keyPoints":"none"})))))}}(ln||(ln={}));var mn,un=n(63389),pn=n(13054);!function(e){let t,n;!function(e){e.UIPart=D.UI.Node.make((({notify:e})=>l.createElement(V.o.Tertiary,{className:pn.headerButton,name:"hide",title:te.replyPanel.hide,onClick:e("hide"),compact:!0},l.createElement(ee.J.ChevronDown,null)))),e.createFlow=e=>D.Z.fromSideEffect((t=>{e.actions.next({kind:o.Kind.toggleReplyPanelMode,docId:e.state.get().docId,trigger:"arrowButton",mode:at.Mode.compact})}),Q.of(null))}(t||(t={})),function(e){let t,n;!function(e){e.UIPart=D.UI.Node.make((({state:e})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({count:e})=>l.createElement(l.Fragment,null,wt._6(e,te.replyPanel.header.followUps.singular,te.replyPanel.header.followUps.plural)))))))),e.createFlow=e=>()=>e.state.view((({followUps:e})=>(0,s.zG)(e,bt,(e=>({count:e})))))}(t||(t={})),function(e){const t=D.UI.Grid.make((({slots:e})=>l.createElement(l.Fragment,null,e.count)));e.UIPart=D.UI.Knot.make(t,{count:Dt.UIPart}),e.createFlow=e=>D.Z.composeKnot({count:()=>e.state.view((({keyPoints:e})=>({count:bt(e),plural:te.replyPanel.header.keyPoints.plural,singular:te.replyPanel.header.keyPoints.singular})))})}(n||(n={})),e.UIPart=D.UI.Union.make("kind",{none:D.UI.Node.empty,followUps:t.UIPart,keyPoints:n.UIPart}),e.createFlow=e=>D.Z.composeUnion({none:()=>Q.of(null),followUps:t.createFlow(e),keyPoints:n.createFlow(e)},(()=>e.state.view((({followUps:e,keyPoints:t})=>({kind:E.isSome(e)?"followUps":E.isSome(t)?"keyPoints":"none"})))))}(n||(n={}));const i=D.UI.Grid.make((({slots:e})=>l.createElement("div",{className:pn.header},l.createElement("div",{className:pn.headerContent},e.content),e.button)));e.UIPart=D.UI.Knot.make(i,{content:n.UIPart,button:t.UIPart}),e.createFlow=e=>D.Z.composeKnot({content:n.createFlow(e),button:t.createFlow(e)})}(mn||(mn={}));var hn,fn,gn,bn=n(71301);!function(e){let t,n;!function(e){e.UIPart=D.UI.Node.make((()=>l.createElement("div",{className:bn.sidebarLogo},l.createElement(rt.K,{size:22}))))}(t=e.Header||(e.Header={})),function(e){const t=D.UI.Grid.make((({state:e,notify:t,slots:n})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({expanded:e,canShowToggleExpandButton:o,onboardingAvailable:i})=>l.createElement("div",{className:bn.sidebarFooter,key:"footer"},i?n.hint:null,o?l.createElement(V.o.Tertiary,{name:"expand",title:e?te.replyPanel.collapse:te.replyPanel.expand,onClick:t({kind:"toggleExpanded",expanded:!e}),compact:!0},e?l.createElement(ee.J.Collapse,null):l.createElement(ee.J.Expand,null)):null)))))));e.UIPart=D.UI.Knot.make(t,{hint:zt.UIPart}),e.createFlow=e=>D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{e.actions.next({kind:o.Kind.toggleReplyPanelExpanded,expanded:t.expanded,docId:e.state.get().docId})}),e.state.view((e=>({expanded:e.expanded,canShowToggleExpandButton:e.hasOverflow,onboardingAvailable:e.onboardingAvailable})))),hint:zt.createFlow(e.actions,"replyPanelFooter",e.state.get().docId)})}(n=e.Footer||(e.Footer={}))}(hn||(hn={})),function(e){const t=D.UI.Knot.make(Et,{sidebarContent:hn.Header.UIPart,sidebarFooter:hn.Footer.UIPart,mainHeader:mn.UIPart,mainContent:ln.UIPart});e.UIPart=D.UI.Composite.make(D.UI.Grid.make((({slots:e})=>l.createElement("div",{className:un.fullReplyPanel},e.content))),t),e.createFlow=e=>D.Z.composeKnot({root:()=>Q.of({width:"auto",height:"auto"}),sidebarContent:()=>Q.of(null),sidebarFooter:hn.Footer.createFlow(e),mainHeader:mn.createFlow(e),mainContent:ln.createFlow(e)})}(fn||(fn={})),function(e){e.UIPart=D.UI.Union.make("kind",{hidden:D.UI.Node.empty,compact:sn.UIPart,full:fn.UIPart}),e.createFlow=e=>D.Z.composeUnion({hidden:()=>Q.of(null),compact:sn.createFlow(e),full:fn.createFlow(e)},(()=>e.state.view((e=>({kind:e.kind})))))}(gn||(gn={}));var kn,In=n(54049);!function(e){const t=D.UI.Grid.make((({notify:e,slots:t,state:n})=>l.createElement("div",{className:In.notification},t.content,l.createElement($.F.Fragment,null,n.pipe(w.U((({id:t})=>l.createElement(V.o.Tertiary,{name:"close-notification",onClick:e({kind:"dismiss",id:t}),className:In.closeButton,theme:"dark",compact:!0},l.createElement(q.JO.Close,null))))))))),n=e=>D.UI.Node.make((()=>l.createElement("div",{className:In.iconAndText},l.createElement(ee.J.NotificationInfo,{width:24,className:In.icon}),l.createElement("span",null,e)))),i=D.UI.Node.make((({state:e,notify:t})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({item:e,id:n,docId:o,undoRemoveDone:i})=>l.createElement(l.Fragment,null,l.createElement("div",{className:In.iconAndText},l.createElement(ee.J.NotificationInfo,{width:24,className:In.icon}),l.createElement("span",null,i?te.toastNotifications.undoRemoveItem.undoDoneLabel:te.toastNotifications.undoRemoveItem[e.kind])),i?null:l.createElement(V.o.Primary,{name:"undo-button",onClick:t({kind:"undo",item:e,notificationId:n,docId:o}),className:In.undoButton,theme:"dark"},l.createElement(q.JO.Undo,{color:"black",className:In.undoIcon}),te.toastNotifications.undoRemoveItem.undoButton)))))))),a=D.UI.Union.make("kind",{textCopiedSuccess:n(te.toastNotifications.textCopiedSuccess),feedbackSubmittedSuccess:n(te.toastNotifications.feedbackSubmittedSuccess),undoRemoveItem:i});e.UIPart=D.UI.Knot.make(t,{content:a}),e.createFlow=function(e,t){return D.Z.composeKnot({root:D.Z.fromSideEffect((e=>t.next({kind:o.Kind.dismissNotification,notificationId:e.id})),e),content:D.Z.composeUnion({textCopiedSuccess:()=>Q.of(null),feedbackSubmittedSuccess:()=>Q.of(null),undoRemoveItem:D.Z.fromSideEffect((e=>{t.next({kind:o.Kind.undoRemoveItem,item:e.item,docId:e.docId,notificationId:e.notificationId})}),e.pipe(K.h(Xe.Model.is(Xe.Toast.Kind.undoRemoveItem))))},(()=>e))})}}(kn||(kn={}));var wn,yn=n(65758);!function(e){const t=D.UI.Grid.make((({slots:e})=>l.createElement($.F.div,{className:yn.notificationsContainer},e.notification))),n=D.UI.List.make(m.Bk,kn.UIPart);e.UIPart=D.UI.Composite.make(t,n),e.createFlow=function(e){return D.Z.composeList(m.Bk,(()=>e.state.view(m.UI((e=>e.id)))),(t=>kn.createFlow(e.state.view(m.Ew((e=>e.id===t))).pipe(j.oA),e.actions)))}}(wn||(wn={}));var Cn,vn=n(59303);!function(e){e.UIPart=D.UI.Node.make((({notify:e,state:t,view:n})=>l.createElement("div",{className:vn.notification},l.createElement($.F.div,{className:vn.content},t.pipe(w.U((({kind:t,id:n})=>l.createElement(l.Fragment,null,l.createElement("h1",{className:vn.header},te.lastingNotifications[t].title),l.createElement("p",{className:vn.body},te.lastingNotifications[t].body),l.createElement(V.o.Primary,{name:"close-button",onClick:e({kind:"dismiss",id:n}),className:vn.closeButton},te.lastingNotifications[t].closeButton)))))),l.createElement(rt.K,{size:56,className:vn.logo}),l.createElement($.F.Fragment,null,n("id").pipe(w.U((t=>l.createElement(V.o.Tertiary,{name:"close-notification",onClick:e({kind:"dismiss",id:t}),className:vn.iconCloseButton,compact:!0},l.createElement(q.JO.Close,{width:13})))))))))}(Cn||(Cn={}));var En,Un=n(68978);!function(e){const t=D.UI.Grid.make((({slots:e})=>l.createElement($.F.div,{className:Un.notificationsContainer},e.notification)));e.UIPart=D.UI.Composite.make(t,D.UI.List.make(m.Bk,Cn.UIPart)),e.createFlow=function(e){return D.Z.fromSideEffect((t=>{if("dismiss"===t.action.kind)e.actions.next({kind:o.Kind.dismissNotification,notificationId:t.action.id});else(0,N.L0)(t.action.kind)}),e.state)}}(En||(En={}));var _n=n(59468),Mn=n(44586),Pn=n(23063),Nn=n(89068),Sn=n(91224),Fn=n(52965);class Kn{constructor(e,t,n=2e3){this._openReplyFieldTimeout=n,this._subscriptions=new I.w,this._expandedMessageNodes=F.h.create(new Map),this._replyFields=F.h.create(new Map),this._subscriptions.add(e.pipe(w.U((0,s.ls)(M.ei("messages"),r.UI(M.ei("messageNode"))))).subscribe(y.wW(this._expandedMessageNodes))),this._subscriptions.add(t.subscribe(y.wW(this._replyFields)))}replyToMessage(e,t){return new Mn.y((t=>t.next(E.fromNullable(this._replyFields.get().get(e))))).pipe(J.w(E.fold((()=>(0,s.zG)(this._openReplyField(e),_.g_((e=>Q.of(_.t$(e))),(()=>this._replyFields.pipe(w.U(r.P5(k.e.eq)(e)),j.oA,Pn.q(1),w.U(_.F2),Nn.V(this._openReplyFieldTimeout),Sn.K((()=>Q.of(_.t$(new Error("Timed out opening reply field")))))))))),(e=>Q.of(_.F2(e))))),w.U(_.UI((e=>(e.focus(),t?this._insertQuote(e,t):void 0)))))}_openReplyField(e){return(0,s.zG)(_.ij(new Error(`Message ${e} not expanded`))(this._expandedMessageNodes.get().get(e)),_.tS((e=>_.ij(new Error("No reply button found"))(e.querySelector(Fn.gj)))),_.Y$((e=>e instanceof HTMLElement),(()=>new Error("Button is not an HTMLElement"))),_.UI((e=>{e.click()})))}_insertQuote(e,t){const n=self.getSelection();if(n){const o=n.getRangeAt(0);o.collapse(!1);const i="<br>"===e.innerHTML?null:document.createElement("br"),a=document.createElement("blockquote");a.className="gmail_quote",a.style.margin="0px 0px 0px 0.8ex",a.style.borderLeft="1px solid rgb(204, 204, 204)",a.style.paddingLeft="1ex",a.innerHTML=_n.V.renderToHtml(t),o.insertNode(i||a),i&&i.insertAdjacentElement("afterend",a);const s=document.createElement("br"),r=document.createElement("br");a.insertAdjacentElement("afterend",r),a.insertAdjacentElement("afterend",s),o.setStartAfter(s),o.collapse(!0),n.removeAllRanges(),n.addRange(o)}}dispose(){this._subscriptions.unsubscribe()}}var Rn=n(84017),xn=n(74850),Ln=n(18625),Bn=n(95300),An=n(19751),Tn=n(41638),On=n(49708),Gn=n(24209),Hn=n(40151),zn=n(17343),Dn=n(47849);class Vn extends Dn.LH{constructor(e,t=xn.Y.create(Vn.name)){var n;super(e,t),this.activeAnnotation=On.R((null===(n=this._options.textNode.ownerDocument)||void 0===n?void 0:n.defaultView)||this._options.textNode,"click").pipe(W.M(this._rawHoveredAnnotation.pipe(this._switchByDisplayedCard())),w.U((([e,t])=>t)),J.w((e=>e?Gn.T(this._offByUpdatedGeometry(e),this._options.offByTextPositionChange||Hn.E,this._options.cardDismissed.pipe(zn.h(null))).pipe(Pn.q(1),X.O(e)):Q.of(null))),X.O(null),An.skipBy(Dn.Cn.getEqById()),An.shareReplay({bufferSize:1,refCount:!0})),this.hoveredAnnotation=this._rawHoveredAnnotation}}var Zn=n(41263),Yn=n(5919),qn=n(51655),jn=n(62337),Wn=n(13116),Qn=n(50051);class Jn{constructor(e,t,n,o){this.actions=e,this._itemsManager=t,this._activeAnnotation=n,this._layout=o,this._state=F.h.create(E.none),this._subscriptions=new I.w,this.state=F.h.combine(this._state,this._itemsManager.highlights,((e,t)=>(0,s.zG)(e,E.chain((e=>(0,s.zG)(E.fromNullable(t.get(e.docId)),E.chain(m.Ew((t=>t.id===e.item.id))),E.map((t=>({item:t,docId:e.docId,highlightNode:e.highlightNode,hovered:e.hovered,feedbackMenuPlacement:e.feedbackMenuPlacement,feedback:_.Yo((()=>e.feedbackMenuActive))(t.feedback)}))))))))).view(),this._subscriptions.add(this._handleSetHighlightMenuVisibleFor()),this._subscriptions.add(this._handleToggleHighlightFeedbackMenu()),this._subscriptions.add(this._handleHighlightMenuActionClick()),this._subscriptions.add(this._handleMenuHovered())}onPlacementChange(e){this._state.modify(E.map((t=>({...t,feedbackMenuPlacement:(0,s.zG)(e,E.map((e=>"top"===e?"top-end":"bottom"===e?"bottom-end":e)))}))))}_handleSetHighlightMenuVisibleFor(){return this.actions.pipe(i.ofKind(o.Kind.setHighlightMenuVisibleFor),w.U(M.ei("item")),W.M(this._activeAnnotation),v.b((([e,t])=>(0,s.zG)(B.Y(E.option)({item:e,activeAnnotation:t}),E.fold((()=>this._state.set(E.none)),(({item:e,activeAnnotation:t})=>this._state.modify((n=>E.some({item:e,docId:e.docId,hovered:!1,highlightNode:{getBoundingClientRect:()=>function(e,t,n){var o,i;const a=null!==(i=null===(o=e.mouse.get().offset)||void 0===o?void 0:o.left)&&void 0!==i?i:t.left+.5*t.width,r=n.filter((e=>e.left<=a&&e.left+e.width>=a)),l=Math.min(...r.map((e=>e.top))),c=Math.max(...r.map((e=>e.top+e.height))),d=(0,Wn.Z)(jn.Wm.create({left:a,width:0,top:l,height:c-l}),e.textNode.rect.getCurrent().client,e.textNode.scroll.getCurrent());return DOMRect.fromRect((0,s.zG)((0,Qn.QK)(d,(0,Qn.Z2)(t)),(e=>({x:e.left,y:e.top,width:e.width,height:e.height}))))}(this._layout,t.activeHighlightRect,t.highlightRects)},feedbackMenuActive:!1,feedbackMenuPlacement:(0,s.zG)(n,E.chain(M.ei("feedbackMenuPlacement")))}))))))))).subscribe()}_handleToggleHighlightFeedbackMenu(){return this.actions.pipe(i.ofKind(o.Kind.toggleItemFeedbackMenu),i.ofUIMode("highlights"),v.b((({menuOpen:e})=>this._state.modify(E.map((t=>({...t,feedbackMenuActive:e}))))))).subscribe()}_handleHighlightMenuActionClick(){return this.actions.pipe(K.h((0,P.Kg)(o.is(o.Kind.copyItem),o.is(o.Kind.replyToItem),o.is(o.Kind.removeItem),o.is(o.Kind.itemFeedback),o.is(o.Kind.setItemChecked))),i.ofUIMode("highlights"),v.b((()=>this._state.set(E.none)))).subscribe()}_handleMenuHovered(){return this.actions.pipe(i.ofKind(o.Kind.highlightMenuHovered)).subscribe((({hovered:e})=>this._state.modify(E.map((t=>({...t,hovered:e}))))))}dispose(){this._subscriptions.unsubscribe()}}var Xn=n(34311),$n=n(41703),eo=n(976);const to=({heightOffset:e=0,hoverState:t,annotation:n,rects:o,id:i,theme:a})=>l.createElement(l.Fragment,null,o.map(((s,r)=>{const c=o.length>1?`${i}-${r}`:i;return l.createElement($.F.div,{key:c,"data-key":c,"data-grammarly-part":"reader-highlight",style:t.pipe(w.U((t=>(0,Qn.z9)({...s,height:Math.max(0,s.height+e)},t===Xn.pc.hovered)))),...(0,ke.Sh)(eo.highlight,"dark"===a?eo.dark:null)},l.createElement($.F.div,{className:t.pipe(w.U((e=>function(e,t){switch(e.apiKind){case f.jA.Kind.readerDebugItem:return(0,ke.Sh)(eo.background,eo.debug).className;case f.jA.Kind.readerMainPoint:case f.jA.Kind.readerActionItem:return(0,ke.Sh)(eo.background,t&&eo.hovered).className;default:(0,N.vE)(e.apiKind)}}(n,e===Xn.pc.hovered))))}))})));const no=({highlights:e,getHoverState:t,highlightsTheme:n})=>l.createElement($n.Y,{key:"reader-highlights",highlightHeightOffset:0,highlightsTheme:n,highlights:e.geometry.view((e=>Array.from(e.values()))),getHoverState:t,highlightRenderer:(e,t,n,o)=>l.createElement(to,{key:e.meta.highlightId,id:e.meta.highlightId,rects:e.rects,heightOffset:n,hoverState:t.pipe(X.O(Xn.pc.none),cn.x()),annotation:e.meta.annotation,theme:o})});var oo,io=n(15130),ao=n(54161),so=n(54784);!function(e){const t=D.UI.Grid.make((({state:e,slots:t,notify:n})=>l.createElement($.F.Fragment,null,e.pipe(w.U((({highlightNode:e,hovered:o,docId:i})=>l.createElement(so.w,{key:"highlight-menu",placement:"top",zIndex:io.G.reader,referenceElement:e,onHover:e=>o!==e&&n({kind:"hovered",hovered:e})(),onPlacementChange:e=>n({kind:"placementChange",placement:e})(),onPopperMount:e=>n({kind:"mount",node:e,docId:i})()},l.createElement(Ft,null,l.createElement($.F.Fragment,null,t.menu),l.createElement(ct.u,{title:te.highlightMenu.logoTooltip},l.createElement("div",{className:ao.logoContainer},l.createElement(rt.K,{size:16}))))))))))),n=At.getUIPart(te.highlightMenu.actions,ee.J.InlineHighlightsDisabled),i=D.UI.Knot.make(t,{menu:n});e.UIPart=D.UI.Union.asOption(i),e.createFlow=function(e){return D.Z.composeUnion({None:()=>Q.of(null),Some:D.Z.composeKnot({value:D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t.kind){case"hovered":e.actions.next({kind:o.Kind.highlightMenuHovered,hovered:t.hovered});break;case"placementChange":e.onPlacementChange(t.placement);break;case"mount":e.actions.next({kind:o.Kind.onboardingAnchorMounted,stepName:"highlightMenu",anchorNode:t.node,docId:t.docId});break;default:(0,N.L0)(t)}}),e.state.view(E.map(M.H6("highlightNode","hovered","docId"))).pipe(j.oA)),menu:D.Z.fromSideEffect((0,s.ls)(At.toReaderAction("highlights"),(t=>e.actions.next(t))),e.state.pipe(j.oA,w.U((e=>({item:e.item,docId:e.docId,feedback:e.feedback,feedbackMenuPlacement:e.feedbackMenuPlacement,disablePositionUpdates:!0,uiMode:"highlights"})))))})})},(()=>e.state))}}(oo||(oo={}));var ro,lo=n(96002),co=n(55935),mo=n(598),uo=n(2768),po=n(93497);class ho{constructor(e){this._actions=e,this._subscription=new I.w}addEffects(...e){for(const t of e)this._subscription.add(t(this._actions).subscribe((e=>this._actions.next(e))))}dispose(){this._subscription.unsubscribe()}}!function(e){e.tracking=function(e,t){return(n,o,a)=>(0,s.ls)(i.ofKind(e),J.w((e=>o.pipe(j.oA,w.U((t=>({action:e,sessionUuid:t})))))),v.b((({sessionUuid:e,action:o})=>t(o,e,a(),n))),mo.c(Hn.E))},e.feedback=function(e,t){return(0,s.ls)(i.ofKind(e),v.b(t),mo.c(Hn.E))},e.logAction=function(e){return(0,s.ls)(v.b((t=>e.trace(`[${t.kind}]`,M.CE(t,"kind")))),mo.c(Hn.E))},e.replyToItem=function(e){return(0,s.ls)(i.ofKind(o.Kind.replyToItem),J.w((({docId:t,item:n})=>e.replyToMessage(t,n.delta))),w.U(_.g_((e=>({kind:o.Kind.replyToItemResult,result:_.t$(e)})),(()=>({kind:o.Kind.replyToItemResult,result:_.F2(void 0)})))))},e.reply=function(e){return(0,s.ls)(i.ofKind(o.Kind.reply),J.w((({docId:t})=>e.replyToMessage(t))),w.U(_.g_((e=>({kind:o.Kind.replyResult,result:_.t$(e)})),(()=>({kind:o.Kind.replyResult,result:_.F2(void 0)})))))},e.copyItem=function(){return(0,s.ls)(i.ofKind(o.Kind.copyItem),J.w((({item:e})=>(0,Kt.v)((0,_t.l)(e.delta,"")))),w.U(_.g_((e=>({kind:o.Kind.copyItemResult,result:_.t$(e)})),(()=>({kind:o.Kind.copyItemResult,result:_.F2(void 0)})))))},e.closeRecapBarPopupOnHighlightMenuShow=function(){return(0,s.ls)(K.h(o.is(o.Kind.setHighlightMenuVisibleFor)),w.U(M.ei("item")),j.oA,w.U((e=>({kind:o.Kind.setRecapBarPopup,popupKind:E.none,docId:e.docId,source:"api"}))))},e.closeRecapBarPopupOnItemMenuShow=function(){return(0,s.ls)(i.ofKind(o.Kind.setItemMenuVisibleFor),K.h((({item:e,uiMode:t})=>E.isSome(e)&&"replyPanel"===t)),w.U((({docId:e})=>({kind:o.Kind.setRecapBarPopup,popupKind:E.none,docId:e,source:"api"}))))},e.closeHighlightMenuOnExternalPopupShow=function(){return(0,s.ls)(K.h((0,P.Kg)((0,P.W9)(o.is(o.Kind.setRecapBarPopup),(({popupKind:e})=>E.isSome(e))),(0,P.W9)(o.is(o.Kind.setItemMenuVisibleFor),(({item:e})=>E.isSome(e))))),w.U((({docId:e})=>({kind:o.Kind.setHighlightMenuVisibleFor,item:E.none,docId:e,source:"api"}))))},e.closeReplyPanelItemMenuOnExternalPopupShow=function(){return(0,s.ls)(i.ofKind(o.Kind.setRecapBarPopup),K.h((({popupKind:e})=>E.isSome(e))),w.U((({docId:e})=>({kind:o.Kind.setItemMenuVisibleFor,item:E.none,docId:e,uiMode:"replyPanel",source:"api"}))))},e.toggleActiveHighlightMenu=function(e,t){return()=>e.pipe(uo.R(t),w.U(E.toNullable),po.n((e=>null===e)),An.skipBy(Dn.Cn.getEqById()),w.U((e=>({kind:o.Kind.setHighlightMenuVisibleFor,item:E.fromNullable(null==e?void 0:e.annotation),source:"user"}))))},e.openModalsOnMenuItemClick=function(){return(0,s.ls)(i.ofKind(o.Kind.recapMenuItemClick),w.U((({item:e,docId:t})=>{switch(e){case"about":return E.some({kind:o.Kind.aboutRecapModal,docId:t,source:"settingsMenu"});case"feedback":return E.some({kind:o.Kind.genericFeedbackModal,docId:t});case"turnOff":return E.some({kind:o.Kind.turnOffRecapModal,docId:t});case"hide":case"show":return E.none;default:(0,N.L0)(e)}})),j.oA)},e.showCopyNotification=function(){return(0,s.ls)(i.ofKind(o.Kind.copyItemResult),K.h((({result:e})=>_.tO(e))),w.U((()=>({kind:o.Kind.showNotification,notification:{kind:Xe.Toast.Kind.textCopiedSuccess}}))))},e.showUndoItemRemovedNotification=function(){return(0,s.ls)(i.ofKind(o.Kind.removeItem),w.U((({item:e,docId:t})=>({kind:o.Kind.showNotification,notification:{kind:Xe.Toast.Kind.undoRemoveItem,item:e,docId:t}}))))},e.showItemFeedbackNotification=function(){return(0,s.ls)(i.ofKind(o.Kind.itemFeedbackModalResult),K.h((({result:e})=>"submit"===e.kind)),w.U((()=>({kind:o.Kind.showNotification,notification:{kind:Xe.Toast.Kind.feedbackSubmittedSuccess}}))))},e.showGenericFeedbackNotification=function(){return(0,s.ls)(i.ofKind(o.Kind.genericFeedbackModalResult),K.h((({result:e})=>"submit"===e.kind)),w.U((()=>({kind:o.Kind.showNotification,notification:{kind:Xe.Toast.Kind.feedbackSubmittedSuccess}}))))},e.showTurnoffNotification=function(){return(0,s.ls)(i.ofKind(o.Kind.turnOffRecapModalResult),K.h((({result:e})=>"turnOffRecap"===e)),w.U((()=>({kind:o.Kind.showNotification,notification:{kind:Xe.Lasting.Kind.turnOffRecap}}))))},e.showOptInDismissNotification=function(){return(0,s.ls)(i.ofKind(o.Kind.optInDismissModalResult),w.U(M.ei("result")),K.h((e=>"showLaterYes"===e||"showLaterNo"===e)),w.U((e=>({kind:o.Kind.showNotification,notification:{kind:"showLaterYes"===e?Xe.Lasting.Kind.optInDismissShowLaterYes:"showLaterNo"===e?Xe.Lasting.Kind.optInDismissShowLaterNo:(0,N.L0)(e)}}))))},e.highlightMenuUnmounted=function(e,t,n){return()=>t.pipe(uo.R(n),zn.h({kind:o.Kind.onboardingAnchorUnmounted,stepNames:["highlightMenu"],docId:e}))},e.firstHighlightMounted=function(e,t,n,i){return()=>t.geometry.pipe(uo.R(i),K.h((e=>e.size>0)),w.U((e=>(0,s.zG)(Array.from(e.values()),G.Ew((({rects:e})=>e.some((e=>e.width>40)))),E.map(M.ei("rects")),E.chain(G.Ew((e=>e.width>40)))))),j.oA,Pn.q(1),w.U((t=>({kind:o.Kind.onboardingAnchorMounted,stepName:"firstHighlight",docId:e,anchorNode:{getBoundingClientRect:()=>{const e=(0,Wn.Z)(t,n.textNode.rect.getCurrent().client,n.textNode.scroll.getCurrent());return DOMRect.fromRect({x:e.left+40,y:e.top,width:0,height:e.height})}}}))))},e.closeItemMenuOnScroll=function(){return(0,s.ls)(i.ofKind(o.Kind.panelScroll),w.U((({source:e,docId:t})=>({kind:o.Kind.setItemMenuVisibleFor,item:E.none,uiMode:e,docId:t,source:"api"}))))},e.optInDismiss=function(e,t){return(0,s.ls)(i.ofKind(o.Kind.optInDismissModalResult),v.b((({result:n})=>{switch(n){case"dismiss":break;case"showLaterYes":e.readerOptOut({hoursToWaitBeforeShowingAgain:24}).catch(t("csActions.readerOptOut.showLayerYes"));break;case"showLaterNo":e.readerOptOut({hoursToWaitBeforeShowingAgain:1440}).catch(t("csActions.readerOptOut.showLayerNo"));break;default:(0,N.L0)(n)}})),mo.c(Hn.E))},e.optInTryItOut=function(e,t){return(0,s.ls)(i.ofKind(o.Kind.optInTryItOutModalResult),v.b((({result:n})=>{switch(n){case"notNow":case"dismiss":case"decline":break;case"continue":e.readerOptIn().catch(t("csActions.readerOptIn"));break;default:(0,N.L0)(n)}})),mo.c(Hn.E))},e.turnOffRecap=function(e,t){return(0,s.ls)(i.ofKind(o.Kind.turnOffRecapModalResult),v.b((({result:n})=>{switch(n){case"dismiss":case"hideRecap":break;case"turnOffRecap":e.readerToggleFeature({enabled:!1}).catch(t("csActions.readerToggleFeature"));break;default:(0,N.L0)(n)}})),mo.c(Hn.E))},e.showOnboardingOnTakeATour=function(){return(0,s.ls)(i.ofKind(o.Kind.aboutRecapModalResult),K.h((({result:e})=>"takeATour"===e)),w.U((({docId:e})=>({kind:o.Kind.onboardingSetKind,onboardingKind:E.some("general"),docId:e}))))}}(ro||(ro={}));function fo(e,t,n,o,i,a,r,c,d,m,u){const p=F.h.create(E.none),h=new le.xQ,f=new Jn(a,o,p,n),g=f.state.view(E.fold(s.jv,M.ei("hovered"))),b=f.state.view(E.isNone).pipe(co.T(1),K.h(ot.fQ)),k=new Vn({textNode:t,textNodeLayout:n.textNode,mouseData:n.mouse,highlightGeometry:r,cardHovered:g,cardDismissed:b,getCurrentCardAnnotationState:()=>(0,s.zG)(p.get(),E.toNullable),offByTextPositionChange:void 0}),I=new Tn.q(k),C=k.activeAnnotation.pipe(w.U(E.fromNullable)).subscribe(y.wW(p));i.addEffects(ro.highlightMenuUnmounted(e,b,h),ro.firstHighlightMounted(e,r,n,h),ro.toggleActiveHighlightMenu(p,h));const U=((e,t,n,o)=>n.pipe(j.oA,J.w((n=>e.pipe(w.U(E.fold(s.gn,(e=>({annotation:e,hoveredOn:Date.now()})))),st.G(),v.b((([e,i])=>{if(e&&null===i){const i=e.annotation.annotation;t.readerV1HighlightHover(Date.now()-e.hoveredOn,i.id,i.docId,n,o())}})))))))(k.hoveredAnnotation.pipe(w.U(E.fromNullable)),u,c,d).subscribe();return{dispose:()=>{U.unsubscribe(),C.unsubscribe(),f.dispose(),h.next()},highlightsLayerOrder:io.C.reader,highlightsUI:()=>l.createElement(Zn.L,{chunkName:"readerGmailThreadIntegration"},l.createElement(no,{highlights:r,getHoverState:e=>I.getHoveredStateBehavior(e),highlightsTheme:(0,s.zG)((0,Yn.D)(t,(0,qn.o)(t)),E.fold((()=>"light"),(e=>e?"light":"dark")))})),cardsUI:()=>l.createElement(lo.P,{env:m(),dataGrammarlyPart:"reader-cards"},D.UI.mount(oo.UIPart,oo.createFlow(f)))}}function go(e,t,n){return F.h.combine(e.highlights,e.followUps,e.keyPoints,t.state.view("thread"),t.state.view("docs"),n,((e,t,n,o,i,a)=>(0,s.zG)(e,r.Su(((e,a)=>(0,s.zG)(E.some(a),E.filter((()=>(0,s.zG)(E.fromNullable(i.get(e)),E.fold(s.jv,(i=>function(e,t,n,o){return!(0,s.zG)(t.highlightsToggledByUser,U.FX(!1))&&(0,s.zG)(H(e,t,n,o,!0),U.FX(!0))}(o,i,t.has(e),n.has(e)))))))))),r.DZ(E.filter((()=>a))))))}var bo,ko=n(19019),Io=n(66319),wo=n(43675),yo=n(92843);!function(e){e.eq=S.MW({textField:S.w4,formEl:S.w4,buttonEl:S.w4,messageId:k.e.eq,initTime:S.lr,startTime:S.lr})}(bo||(bo={}));var Co=n(11861),vo=n(34283);class Eo{constructor(e,t,n,o,i,a,r,c,d,m,u,p,h=xn.Y.create("gmail.reader.panelInjection")){this._getEnv=p,this._logger=h,this._subs=new I.w,this._recapBarInjections=new Map,this._replyFormInjections=new Map,this._subs.add(e.pipe(X.O(ko.Of.empty()),st.G(),w.U((([e,t])=>({...t,updated:_o(e.updated,e.messages,t.updated,t.messages)}))),K.h((e=>e.added.size>0||e.updated.size>0||e.removed.size>0)),v.b((({added:e,updated:t,removed:i,messages:a})=>{t.forEach((e=>{var t;null===(t=this._recapBarInjections.get(e))||void 0===t||t.dispose(),this._recapBarInjections.delete(e),this._logger.trace("Recap bar disposed: message updated")})),i.forEach((e=>{var t;o(e),null===(t=this._recapBarInjections.get(e))||void 0===t||t.dispose(),this._recapBarInjections.delete(e),this._logger.trace("Recap bar disposed: message removed")}));for(const o of a.values())(0,s.zG)(o,E.fromPredicate((n=>e.has(n.id)||t.has(n.id))),E.chain(Uo),E.chain((e=>B.Y(E.option)({injectBefore:(0,s.zG)(E.fromNullable(e.firstElementChild),E.filter((e=>e instanceof HTMLElement))),injectionParent:E.some(e)}))),U.bw((({injectBefore:e,injectionParent:t})=>{var i;const a=n(o.id),s=Co.V.get({monitorAs:"reader-recap-bar"}).inject(vo.EM.fromDocument(e.ownerDocument,"grammarly-extension"),(n=>t.insertBefore(n,e)),(()=>l.createElement(lo.P,{env:this._getEnv(),dataGrammarlyPart:"reader-recap-bar"},l.createElement("div",{style:{margin:"4px -6px 0 0"}},l.createElement(a,null)))));null===(i=this._recapBarInjections.get(o.id))||void 0===i||i.dispose(),this._recapBarInjections.set(o.id,s),this._logger.trace("Recap bar injected")})))}))).subscribe()),this._subs.add(t.pipe(K.h((e=>e.added.size>0||e.updated.size>0||e.removed.size>0)),v.b((({added:e,updated:t,removed:n,forms:o})=>{t.forEach((e=>{var t;null===(t=this._replyFormInjections.get(e))||void 0===t||t.dispose(),this._replyFormInjections.delete(e),this._logger.trace("Reply panel disposed: form updated")})),n.forEach((e=>{var t;a(e),null===(t=this._replyFormInjections.get(e))||void 0===t||t.dispose(),this._replyFormInjections.delete(e),this._logger.trace("Reply panel disposed: form removed")}));for(const n of o.values())(0,s.zG)(n,E.fromPredicate((({messageId:n})=>e.has(n)||t.has(n))),E.chain((({formEl:e,messageId:t})=>B.Y(E.option)({insertBefore:E.fromNullable(e.closest("table[role=presentation]")),messageId:E.some(t)}))),E.chain((({insertBefore:e,messageId:t})=>B.Y(E.option)({injectBefore:E.some(e),injectionParent:(0,s.zG)(E.fromNullable(e.parentElement),E.filter((e=>e instanceof HTMLElement))),messageId:E.some(t)}))),U.bw((({injectBefore:e,injectionParent:t,messageId:n})=>{var o;const a=i(n),s=Co.V.get({monitorAs:"reader-reply-panel"}).inject(vo.EM.fromDocument(e.ownerDocument,"grammarly-extension"),(n=>t.insertBefore(n,e)),(()=>l.createElement(lo.P,{env:this._getEnv(),dataGrammarlyPart:"reader-reply-panel"},l.createElement("div",{style:{margin:"0 0 8px 48px"}},l.createElement(a,null)))));null===(o=this._replyFormInjections.get(n))||void 0===o||o.dispose(),this._replyFormInjections.set(n,s),this._logger.trace("Reply panel injected")})))}))).subscribe());const f=Co.V.get({monitorAs:"reader-modals-and-notifications"}).inject(vo.EM.fromDocument(document,"grammarly-extension"),vo.zs.appendChild(document.documentElement),(()=>l.createElement(lo.P,{env:this._getEnv(),dataGrammarlyPart:"reader-modals-and-notifications"},l.createElement($.F.Fragment,null,c.state.view(E.fold((()=>null),(({component:e})=>e))),l.createElement(d,null),r.state.view("ui")))));this._subs.add((()=>f.dispose())),u.next((()=>l.createElement(lo.P,{env:this._getEnv(),dataGrammarlyPart:"reader-persistent-notifications"},l.createElement(m,null))))}dispose(){this._subs.unsubscribe();for(const e of this._recapBarInjections.values())e.dispose(),this._logger.trace("Recap bar disposed");for(const e of this._replyFormInjections.values())e.dispose(),this._logger.trace("Reply panel disposed")}}function Uo(e){var t;return(0,s.zG)(E.fromNullable(null===(t=e.bodyNode.node.parentElement)||void 0===t?void 0:t.parentElement),E.filter((e=>e instanceof HTMLElement)))}function _o(e,t,n,o){const i=(0,s.zG)(e,A.DZ(S.w4)((e=>(0,s.zG)(E.fromNullable(t.get(e)),E.chain(Uo)))));return(0,s.zG)(n,A.hX((e=>(0,s.zG)(E.fromNullable(o.get(e)),E.chain(Uo),E.fold(s.jv,(e=>i.has(e)))))))}var Mo=n(66428);function Po(e,t,n){if(0===t.length)return Promise.resolve(_.F2(E.none));const o=e.split("@")[1];return n(o).then(_.UI((e=>{if(e)return E.none;for(const e of t){if(e.split("@")[1]!==o)return E.some(!0)}return E.some(!1)})))}var No=n(51150),So=n(85321),Fo=n(12126);var Ko=n(48424),Ro=n(8740);var xo,Lo,Bo,Ao=n(44561);function To(e,t){return(0,s.zG)((0,s.zG)(E.some(e.item.apiKind),E.filter(d.PJ.isNotDebug)),E.map((n=>({docId:e.docId,filteringInfo:(0,s.zG)(E.fromNullable(t.get().checks.get().get(e.docId)),E.map(M.ei("checks")),E.chain(m.Ew(g.I.Reader.isDocInfo)),E.chain(M.ei("filteringInfo"))),subject:n,subtype:"highlights"===e.uiMode?"inline":"panel",itemDelta:e.item.delta}))))}function Oo(e,t,n){const o=(0,s.zG)(t,E.fold((()=>[]),m.qo)),i=(0,s.zG)(n,E.fold((()=>[]),m.qo));return(0,s.zG)(e,it.MoreDataPopupKind.fold({followUps:()=>o,keyPoints:()=>i,all:()=>[...o,...i]}),m.UI((e=>({delta:e.delta,type:e.apiKind}))))}!function(e){e.itemLooked=function(e){return ro.feedback(o.Kind.setItemMenuVisibleFor,(t=>{return(0,s.zG)(B.Y(E.option)({docId:E.some(t.docId),filteringInfo:E.some((0,s.zG)(E.fromNullable(e.get().checks.get().get(t.docId)),E.map(M.ei("checks")),E.chain(m.Ew(g.I.Reader.isDocInfo)),E.chain(M.ei("filteringInfo")))),itemDelta:(0,s.zG)(t.item,E.map((e=>e.delta))),subject:(0,s.zG)(t.item,E.map((e=>e.apiKind)),E.filter(d.PJ.isNotDebug)),subtype:E.some((n=t.uiMode,"highlights"===n?"inline":"panel"))}),U.bw((t=>e.get().sendReaderFeedback({...t,kind:Ao.Ej.Feedback.Type.READER_LOOKED}))));var n}))},e.itemCopy=function(e){return ro.feedback(o.Kind.copyItem,(t=>(0,s.zG)(To(t,e),U.bw((t=>e.get().sendReaderFeedback({...t,kind:Ao.Ej.Feedback.Type.READER_COPY}))))))},e.itemRemove=function(e){return ro.feedback(o.Kind.removeItem,(t=>(0,s.zG)(To(t,e),U.bw((t=>e.get().sendReaderFeedback({...t,kind:Ao.Ej.Feedback.Type.READER_IGNORE}))))))},e.itemReply=function(e){return ro.feedback(o.Kind.replyToItem,(t=>(0,s.zG)(To(t,e),U.bw((t=>e.get().sendReaderFeedback({...t,kind:Ao.Ej.Feedback.Type.READER_REPLY}))))))},e.itemCheck=function(e){return ro.feedback(o.Kind.setItemChecked,(t=>(0,s.zG)(To(t,e),U.bw((n=>e.get().sendReaderFeedback({...n,kind:t.checked?Ao.Ej.Feedback.Type.READER_CHECK:Ao.Ej.Feedback.Type.READER_UNCHECK}))))))},e.itemFeedback=function(e){return ro.feedback(o.Kind.itemFeedback,(t=>(0,s.zG)(To(t,e),U.bw((n=>e.get().sendReaderFeedback({...n,kind:t.feedback===d.h2.good?Ao.Ej.Feedback.Type.READER_LIKE:t.feedback===d.h2.bad?Ao.Ej.Feedback.Type.READER_DISLIKE:(0,N.vE)(t.feedback)}))))))},e.recapBarDataPopupOpened=function(e,t){return ro.feedback(o.Kind.setRecapBarPopup,(({docId:n,popupKind:o})=>(0,s.zG)(o,E.filter(it.PopupKind.isMoreDataPopupKind),U.bw((o=>{e.get().sendReaderFeedback({kind:Ao.Ej.Feedback.Type.READER_PANEL_OPENED,docId:n,subtype:o,items:Oo(o,(0,s.zG)(t.followUps.get(),r.P5(k.e.eq)(n)),(0,s.zG)(t.keyPoints.get(),r.P5(k.e.eq)(n))),filteringInfo:(0,s.zG)(E.fromNullable(e.get().checks.get().get(n)),E.map(M.ei("checks")),E.chain(m.Ew(g.I.Reader.isDocInfo)),E.chain(M.ei("filteringInfo")))})})))))},e.recapPanelReady=function(e,t){return n=>C.aj([t,e.get().checks.view(r.DZ((0,s.ls)(M.ei("checks"),m.Ew(g.I.Reader.isDocInfo))))]).pipe(w.U((([e,t])=>e===d.t.optedIn?E.some(t):E.none)),j.oA,w.U((e=>(0,s.zG)(Array.from(e.values()),A.nI(g.I.Reader.DocInfo.eqByDocId)))),(0,Ro.Y)(g.I.Reader.DocInfo.eqByDocId),re.b((e=>Q.of(...e))),v.b((t=>e.get().sendReaderFeedback({kind:Ao.Ej.Feedback.Type.READER_PANEL_READY,docId:t.docId,filteringInfo:(0,s.zG)(E.fromNullable(e.get().checks.get().get(t.docId)),E.map(M.ei("checks")),E.chain(m.Ew(g.I.Reader.isDocInfo)),E.chain(M.ei("filteringInfo")))}))),mo.c(Hn.E))}}(xo||(xo={})),function(e){e.check=ro.tracking(o.Kind.setItemChecked,(({checked:e,uiMode:t,docId:n,item:o},i,a,s)=>{s.readerV1FollowUpCheck(o.id,n,t,i,e,a)})),e.feedback=ro.tracking(o.Kind.itemFeedback,(({feedback:e,item:t,docId:n,uiMode:o},i,a,s)=>{switch(t.kind){case d.YB.followUp:"good"===e?s.readerV1FollowUpThumbsUpClick(t.id,n,o,i,a):s.readerV1FollowUpThumbsDownClick(t.id,n,o,i,a);break;case d.YB.keyPoint:"good"===e?s.readerV1KeyPointThumbsUpClick(t.id,n,o,i,a):s.readerV1KeyPointThumbsDownClick(t.id,n,o,i,a);break;case d.YB.highlight:"good"===e?s.readerV1HighlightThumbsUpClick(t.id,n,o,i,a):s.readerV1HighlightThumbsDownClick(t.id,n,o,i,a);break;default:(0,N.L0)(t)}})),e.reply=ro.tracking(o.Kind.replyToItem,(({item:e,docId:t,uiMode:n},o,i,a)=>{switch(e.kind){case d.YB.followUp:a.readerV1FollowUpReplyItemClick(e.id,t,n,o,i);break;case d.YB.keyPoint:a.readerV1KeyPointReplyItemClick(e.id,t,n,o,i);break;case d.YB.highlight:a.readerV1HighlightReplyItemClick(e.id,t,n,o,i);break;default:(0,N.L0)(e)}})),e.copy=ro.tracking(o.Kind.copyItem,(({item:e,docId:t,uiMode:n},o,i,a)=>{switch(e.kind){case d.YB.followUp:a.readerV1FollowUpCopyItemClick(e.id,t,n,o,i);break;case d.YB.keyPoint:a.readerV1KeyPointCopyItemClick(e.id,t,n,o,i);break;case d.YB.highlight:a.readerV1HighlightCopyItemClick(e.id,t,n,o,i);break;default:(0,N.L0)(e)}})),e.remove=ro.tracking(o.Kind.removeItem,(({item:e,docId:t,uiMode:n},o,i,a)=>{switch(e.kind){case d.YB.followUp:a.readerV1FollowUpRemoveItemClick(e.id,t,n,o,i);break;case d.YB.keyPoint:a.readerV1KeyPointRemoveItemClick(e.id,t,n,o,i);break;case d.YB.highlight:a.readerV1HighlightRemoveItemClick(e.id,t,n,o,i);break;default:(0,N.L0)(e)}})),e.undoRemove=ro.tracking(o.Kind.undoRemoveItem,(({item:e,docId:t},n,o,i)=>{switch(e.kind){case d.YB.followUp:i.readerV1FollowUpUndoRemoveItemClick(e.id,t,n,o);break;case d.YB.keyPoint:i.readerV1KeyPointUndoRemoveItemClick(e.id,t,n,o);break;case d.YB.highlight:i.readerV1HighlightUndoRemoveItemClick(e.id,t,n,o);break;default:(0,N.L0)(e)}})),e.itemMenuOpen=ro.tracking(o.Kind.setItemMenuVisibleFor,(({item:e,docId:t,uiMode:n},o,i,a)=>{(0,s.zG)(e,U.bw((e=>{a.readerV1ItemMenuOpen(e.id,e.kind,t,n,o,i)})))})),e.highlightMenuOpen=ro.tracking(o.Kind.setHighlightMenuVisibleFor,(({item:e},t,n,o)=>{(0,s.zG)(e,U.bw((e=>{o.readerV1ItemMenuOpen(e.id,e.kind,e.docId,"highlights",t,n)})))}))}(Lo||(Lo={})),function(e){e.shown=ro.tracking(o.Kind.onboardingShown,(({docId:e,stepName:t},n,o,i)=>{i.readerV1OnboardingPopupShow(e,t,n,o)})),e.dismiss=ro.tracking(o.Kind.onboardingDismiss,(({docId:e,stepName:t},n,o,i)=>{i.readerV1OnboardingPopupDismiss(e,t,n,o)})),e.next=ro.tracking(o.Kind.onboardingNext,(({docId:e,stepName:t},n,o,i)=>{i.readerV1OnboardingPopupNavigationButtonClick("next",e,t,n,o)})),e.prev=ro.tracking(o.Kind.onboardingPrev,(({docId:e,stepName:t},n,o,i)=>{i.readerV1OnboardingPopupNavigationButtonClick("prev",e,t,n,o)})),e.setKind=ro.tracking(o.Kind.onboardingSetKind,(({docId:e,onboardingKind:t},n,o,i)=>{(0,s.zG)(t,U.bw((t=>{switch(t){case"replyPanel":i.readerV1ReplyPanelHintButtonClick(e,n,o);break;case"followUps":i.readerV1FollowUpsPanelHintButtonClick(e,n,o);break;case"keyPoints":i.readerV1KeyPointsPanelHintButtonClick(e,n,o);break;case"general":break;default:(0,N.L0)(t)}})))}))}(Bo||(Bo={}));var Go,Ho,zo,Do,Vo,Zo=n(78146);function Yo(e,t){return()=>e.pipe(re.b((e=>e.entries())),Zo.v((e=>e[0])),So.zg((e=>e.pipe(Pn.q(1),J.w((([e,n])=>t(e)(n.state).pipe(uo.R(n.disposed.pipe(K.h(ot.fQ))))))))),mo.c(Hn.E))}function qo(e,t,n,o,i,a,u,p,h,f,g,b=c.O,y=xn.Y.create("gmail.reader.threadIntegrationV1")){const _=new I.w,P=Ln.P((()=>e.get().sessionUuid)),N=()=>o.view("threadId").view((0,s.ls)(E.fromEither,E.toUndefined)).get(),x=(0,ot.Vo)((()=>b().bgRpc.api)),T=new Bn.X(new Map),O=new Bn.X(new Map),H=new le.xQ,z=new ho(H),V=u.view((e=>"optedIn"===e.kind?d.t.optedIn:"optedOut"!==e.kind||(0,Rn.U7)(e)?d.t.notOptedInYet:d.t.optedOut));_.add(V.pipe(K.h((e=>e!==d.t.notOptedInYet))).subscribe((t=>e.get().dataOptIn(t===d.t.optedIn))));const Z=function(e){const t=Date.now();return Io.x.create(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["contenteditable"]}).pipe(K.h((e=>e.some((e=>"attributes"==e.type&&(0,ae.Re)(e.target)?e.target.matches(Fn.kO):Array.from(e.addedNodes).filter(ae.Re).some((e=>e.matches(Fn.kO)||!!e.querySelector(Fn.kO)))||Array.from(e.removedNodes).filter(ae.Re).some((e=>e.querySelector(Fn.kO))))))),w.U((t=>Array.from(e.querySelectorAll(Fn.kO))))).pipe(X.O(Array.from(e.querySelectorAll(Fn.kO))),w.U((e=>(0,s.zG)(e,G.UI((e=>(0,s.zG)(E.fromNullable(e.closest(Fn.e8)),E.chain((n=>{var o;return B.Y(E.option)({textField:E.some(e),formEl:E.fromNullable(null===(o=n.closest(Fn.KC))||void 0===o?void 0:o.querySelector(Fn.ZA)),buttonEl:E.fromNullable(n.querySelector(Fn.DM)),messageId:(0,s.zG)(E.fromNullable(e.closest(Fn.n4)),E.chain(ko.Su)),initTime:E.some(t),startTime:E.some(Date.now()-t)})}))))),G.oA,G.u4(new Map,((e,t)=>(0,s.zG)(e,r.ZQ(S.w4)(t.formEl,t))))))),X.O(new Map),st.G(),w.U((([e,t])=>(0,s.zG)(wo.yi(bo.eq)(e,t),yo.v.reduce({forms:new Map(Array.from(t.values()).map((e=>[e.messageId,e]))),added:new Set,updated:new Set,removed:new Set},((e,t)=>({...e,removed:e.removed.add(t.messageId)})),((e,t,n)=>({...e,updated:e.updated.add(n.messageId)})),((e,t)=>({...e,added:e.added.add(t.messageId)})))))))}(n).pipe(An.shareReplay({bufferSize:1,refCount:!0})),q=new Kn(i,Z.pipe(w.U((0,s.ls)(M.ei("forms"),r.UI((e=>e.textField)))))),$=new R(H,e,o,p,jo(g),u.get()),ee=new L.Impl(H,p,u,e,jo(g)),te=F.h.create(null),ne=new fe(o,ee,$,u.view((e=>"optedIn"===e.kind&&e.onboarding||{})),p,H,te,jo(g)),oe=new Qe.Impl(H,ee,$,ne),ie=new tt.Impl(H),se=a?null:t.createIntegration({annotations:go($,ee,V.view((e=>e===d.t.optedIn))),mouseOverride:te.pipe(w.U(E.fromNullable)),createAnnotationsView:({docId:e,docNode:t,docLayout:n,highlightsCollection:o})=>fo(e,t,n,$,z,H,o,P,N,b,f)}),ce=a?null:new Eo(i,Z,(e=>()=>D.UI.mount(an.UIPart,an.createFlow(((e,t,n,o)=>(0,s.zG)(E.fromNullable(T.value.get(e)),E.getOrElse((()=>{const i=new it.ViewModelImpl(H,e,b().config.bundleInfo.browser,t,ee,V,n.view((t=>t.messageIndexToIdMap.get(t.messageCount-1)===e)),o.availableFor(F.h.create(E.some(e))));return T.next((0,s.zG)(T.value,r.ZQ(k.e.eq)(e,i))),i}))))(e,$,o,ne),ne.state.view("activeStep")))),(e=>{var t,n;null===(t=O.value.get(e))||void 0===t||t.dispose(),O.next((0,s.zG)(O.value,r.EG(k.e.eq)(e))),null===(n=T.value.get(e))||void 0===n||n.dispose(),T.next((0,s.zG)(T.value,r.EG(k.e.eq)(e)))}),(e=>()=>D.UI.mount(gn.UIPart,gn.createFlow(((e,t,n)=>(0,s.zG)(E.fromNullable(O.value.get(e)),E.getOrElse((()=>{const o=new at.ViewModelImpl(H,e,t,n.availableFor(F.h.create(E.some(e))),V);return O.next((0,s.zG)(O.value,r.ZQ(k.e.eq)(e,o))),o}))))(e,$,ne)))),(e=>{var t;null===(t=O.value.get(e))||void 0===t||t.dispose(),O.next((0,s.zG)(O.value,r.EG(k.e.eq)(e)))}),ne,oe,(()=>D.UI.mount(wn.UIPart,wn.createFlow(ie))),(()=>{const e=l.useRef(new et.Impl(H));return Y.P.useEffectOnWillUnmount((()=>e.current.dispose())),D.UI.mount(En.UIPart,En.createFlow(e.current))}),h,b);return _.add(((e,t,n,o,i)=>n.pipe(j.oA,J.w((n=>e.pipe(w.U((({forms:e,added:t})=>Array.from(e.values()).filter((({messageId:e})=>t.has(e))))),re.b((e=>Q.of(...e))),W.M(t),v.b((([{initTime:e,messageId:t},i])=>{o.readerV1ReplyStart(i.messageCount,t,n,Date.now()-e,(0,s.zG)(i.threadId,E.fromEither,E.toUndefined))})),So.zg((([e])=>On.R(e.buttonEl,"click").pipe(W.M(Q.of(e),Mo.x.getRecipientsContextEventObservable(e.formEl,null),t),K.h((([e,t,n])=>n.length>0)),So.zg((([e,t,n,o])=>(0,s.zG)(B.Y(E.option)({message:(0,s.zG)(E.fromNullable(o.expandedMessages.get(t.messageId)),E.chain(U.xC)),loggedUser:E.fromEither(o.loggedUser)}),E.fold((()=>Hn.E),(({message:e,loggedUser:a})=>Fo.D(Po(a.email,(0,s.zG)(n,G.UI((e=>No.G.create(e.email))),G.oA),(e=>i.get().isGenericEmailDomain(e)))).pipe(w.U((i=>({message:e,isExternalComm:i,threadContext:o,recipients:n,data:t}))))))))),v.b((({data:e,recipients:t,threadContext:i,message:a,isExternalComm:r})=>{o.readerV1ReplySent(i.messageCount,e.messageId,a.context.audience.length,kt(a.textMap.getPlainText()),t.length,n,Date.now()-e.startTime,(0,s.zG)(E.fromEither(r),E.flatten,E.toUndefined),(0,s.zG)(i.threadId,E.fromEither,E.toUndefined))}))))))))))(Z,o,P,f,x).subscribe()),_.add(((e,t,n,o)=>e.pipe(w.U((e=>(0,s.zG)(E.fromNullable(e.messageIndexToIdMap.get(e.messageCount-1)),E.chain((t=>E.fromNullable(e.expandedMessages.get(t)))),E.chain(U.xC),E.map((t=>({lastMessage:t,ctx:e})))))),j.oA,Pn.q(1),J.w((({lastMessage:e,ctx:n})=>Fo.D(Po(e.context.author.email,e.context.audience.map((e=>e.email)),(e=>t.get().isGenericEmailDomain(e)))).pipe(w.U((t=>({lastMessage:e,ctx:n,isExternalComm:t})))))),J.w((({lastMessage:e,ctx:t,isExternalComm:i})=>n.pipe(X.O(E.none),st.G(),w.U((([e,n])=>((0,s.zG)(B.g(E.option)(e,n),E.filter((([e,t])=>e!==t)),U.bw((([e])=>{o.readerV1SessionEnd(e,(0,s.zG)(t.threadId,E.fromEither,E.toUndefined))}))),n))),j.oA,w.U((n=>({lastMessage:e,ctx:t,isExternalComm:i,sessionUuid:n})))))),v.b((({lastMessage:e,ctx:t,isExternalComm:n,sessionUuid:i})=>{o.readerV1SessionStart(e.id,e.context.audience.length,kt(e.textMap.getPlainText()),t.messageCount,i,(0,s.zG)(E.fromEither(n),E.flatten,E.toUndefined),(0,s.zG)(t.threadId,E.fromEither,E.toUndefined))}))))(o,x,P,f).subscribe()),_.add(function(e,t,n,o){return C.aj([e.pipe(w.U((e=>(0,s.zG)(Array.from(e.expandedMessages.values()),m.DZ(U.xC),A.nI(Ko.mq.eqByDocId)))),(0,Ro.Y)(Ko.mq.eqByDocId),re.b((e=>Q.of(...e)))),n.pipe(j.oA)]).pipe(So.zg((([n,i])=>Fo.D(Po(n.context.author.email,n.context.audience.map((e=>e.email)),(e=>t.get().isGenericEmailDomain(e)))).pipe(w.U((t=>({msg:n,isExternalComm:(0,s.zG)(E.fromEither(t),E.flatten,E.toUndefined),threadId:(0,s.zG)(e.get().threadId,E.fromEither,E.toUndefined),messageCount:e.get().messageCount}))),v.b((({msg:e,isExternalComm:t,threadId:n,messageCount:a})=>{o.readerV1MessageOpen(e.index===a-1,a,e.id,kt(e.textMap.getPlainText()),e.context.audience.length,i,t,n)}))))))}(o,x,P,f).subscribe()),z.addEffects(ro.logAction(xn.Y.create("gmail.reader.actions")),ro.optInDismiss(p,jo(g)),ro.optInTryItOut(p,jo(g)),ro.turnOffRecap(p,jo(g)),ro.reply(q),ro.replyToItem(q),ro.copyItem(),ro.closeHighlightMenuOnExternalPopupShow(),ro.closeRecapBarPopupOnItemMenuShow(),ro.closeRecapBarPopupOnHighlightMenuShow(),ro.closeReplyPanelItemMenuOnExternalPopupShow(),ro.openModalsOnMenuItemClick(),ro.showCopyNotification(),ro.showUndoItemRemovedNotification(),ro.showItemFeedbackNotification(),ro.showGenericFeedbackNotification(),ro.showTurnoffNotification(),ro.showOptInDismissNotification(),ro.closeItemMenuOnScroll(),ro.showOnboardingOnTakeATour(),xo.itemLooked(e),xo.itemCopy(e),xo.itemRemove(e),xo.itemReply(e),xo.itemCheck(e),xo.itemFeedback(e),xo.recapPanelReady(e,V),xo.recapBarDataPopupOpened(e,$),...[Lo.copy,Lo.remove,Lo.undoRemove,Lo.reply,Lo.check,Lo.feedback,Lo.itemMenuOpen,Lo.highlightMenuOpen,Bo.shown,Bo.dismiss,Bo.next,Bo.prev,Bo.setKind,Go.tryItOutClicked,Go.dismissClicked,Go.tryItOutModalResult,Go.dismissModalResult,Go.showOptInHeader(T),Ho.toggleHighlights,Ho.reply,Ho.showAnyway,Ho.recapBarToggle,Ho.menuItemClick,Ho.showRecapBar(T),Ho.popupShowHide(T),Ho.recapBarLoaded(T,$,ee),zo.toggleExpand,zo.toggleMode,zo.panelShow(O),Do.aboutRecapResult,Do.turnOffRecapResult,Do.genericFeedbackResult,Do.itemFeedbackResult,Vo.learnMore,Vo.dataCollectionPolicy,Vo.privacyPolicy,Vo.termsOfService].map((e=>e(f,P,N)))),y.debug(`Thread integration created for thread #${N()||"unknown"}`),()=>{(0,s.zG)(e.get().sessionUuid.get(),U.bw((e=>{f.readerV1SessionEnd(e,N())}))),ie.dispose(),z.dispose(),Array.from(T.value.values()).forEach((e=>e.dispose())),T.next(new Map),Array.from(O.value.values()).forEach((e=>e.dispose())),O.next(new Map),null==ce||ce.dispose(),$.dispose(),null==se||se.dispose(),q.dispose(),ee.dispose(),oe.dispose(),ne.dispose(),_.unsubscribe(),y.debug("Thread integration disposed")}}function jo(e){return t=>n=>{const o=`${t} promise rejection: ${String(n)}`;e.readerGmail.warning("promiseRejection",o,n)}}!function(e){e.tryItOutClicked=ro.tracking(o.Kind.optInTryItOutModal,(({docId:e},t,n,o)=>{o.readerV1OptInHeaderTryItOutClick(e,t,n)})),e.dismissClicked=ro.tracking(o.Kind.optInDismissModal,(({docId:e},t,n,o)=>{o.readerV1OptInHeaderDismissClick(e,t,n)})),e.tryItOutModalResult=ro.tracking(o.Kind.optInTryItOutModalResult,(({docId:e,result:t},n,o,i)=>{switch(t){case"dismiss":i.readerV1OptInPanelDismissClick(e,n,o);break;case"notNow":i.readerV1OptInPanelNotNowClick(e,n,o);break;case"decline":i.readerV1OptInPanelDeclineClick(e,n,o);break;case"continue":i.readerV1OptInPanelContinueClick(e,n,o);break;default:(0,N.L0)(t)}})),e.dismissModalResult=ro.tracking(o.Kind.optInDismissModalResult,(({docId:e,result:t},n,o,i)=>{switch(t){case"dismiss":i.readerV1OptInDismissModalDismissClick(e,n,o);break;case"showLaterYes":i.readerV1OptInDismissModalLaterYesClick(e,n,o);break;case"showLaterNo":i.readerV1OptInDismissModalLaterNoClick(e,n,o);break;default:(0,N.L0)(t)}})),e.showOptInHeader=e=>(t,n,o)=>Yo(e,(e=>(0,s.ls)(w.U(M.ei("kind")),K.h((e=>e===it.Kind.optIn)),Pn.q(1),mo.c(n.pipe(j.oA)),v.b((n=>{t.readerV1OptInHeaderShow(e,n,o())})))))}(Go||(Go={})),function(e){e.toggleHighlights=ro.tracking(o.Kind.toggleInlineHighlights,(({enabled:e,docId:t},n,o,i)=>{i.readerV1HighlightsToggleClick(e,t,n,o)})),e.reply=ro.tracking(o.Kind.reply,(({popupKind:e,docId:t},n,o,i)=>{switch(e){case"followUps":i.readerV1FollowUpsPanelReplyClick(t,n,o);break;case"keyPoints":i.readerV1KeyPointsPanelReplyClick(t,n,o);break;case"all":i.readerV1AllDataPanelReplyClick(t,n,o);break;default:(0,N.L0)(e)}})),e.showAnyway=ro.tracking(o.Kind.showAnyway,(({docId:e},t,n,o)=>{o.readerV1LowQualityContentShow(e,t,n)})),e.recapBarToggle=ro.tracking(o.Kind.toggleRecapBar,(({docId:e,isCompact:t,source:n},o,i,a)=>{switch(n){case"logoButton":a.readerV1RecapBarLogoToggleClick(!t,e,o,i);break;case"settingsMenu":a.readerV1RecapBarOptionsVisibilityToggleClick(!t,e,o,i);break;default:(0,N.L0)(n)}})),e.menuItemClick=ro.tracking(o.Kind.recapMenuItemClick,(({item:e,docId:t},n,o,i)=>{i.readerV1RecapBarOptionsItemClick(e,t,n,o)})),e.showRecapBar=e=>(t,n,o)=>Yo(e,(e=>(0,s.ls)(w.U(M.ei("kind")),K.h((e=>e===it.Kind.indeterminate)),Pn.q(1),mo.c(n.pipe(j.oA)),v.b((n=>{t.readerV1RecapBarShow(e,n,o())}))))),e.recapBarLoaded=(e,t,n)=>(o,i,a)=>Yo(e,(e=>(0,s.ls)(w.U(M.ei("kind")),K.h((e=>e===it.Kind.compact||e===it.Kind.expanded)),Pn.q(1),mo.c(i.pipe(j.oA)),v.b((i=>{o.readerV1RecapBarLoaded((0,s.zG)(t.followUps.get(),r.P5(k.e.eq)(e),bt),(0,s.zG)(t.highlights.get(),r.P5(k.e.eq)(e),bt),(0,s.zG)(t.keyPoints.get(),r.P5(k.e.eq)(e),bt),e,(0,s.zG)(E.fromNullable(n.state.get().docs.get(e)),E.chain(M.ei("goodForAnnotations")),U.FX(!0)),(0,s.zG)(E.fromNullable(n.state.get().docs.get(e)),E.chain(M.ei("lowQualityInfo")),E.isSome),i,a())}))))),e.popupShowHide=e=>(t,n,o)=>Yo(e,(e=>(0,s.ls)(w.U(M.ei("popupKind")),An.skipBy(E.getEq(it.PopupKind.eq)),st.G(),J.w((([i,a])=>n.pipe(j.oA,Pn.q(1),w.U((e=>({sessionUuid:e,prev:i,next:a}))),v.b((({prev:n,next:i,sessionUuid:a})=>{(0,s.zG)(n,U.bw((n=>{switch(n){case"settingsMenu":t.readerV1RecapBarOptionsMenuClose(e,a,o());break;case"followUps":t.readerV1FollowUpsPanelHide(e,a,o());break;case"keyPoints":t.readerV1KeyPointsPanelHide(e,a,o());break;case"all":t.readerV1AllDataPanelHide(e,a,o());break;default:(0,N.L0)(n)}}))),(0,s.zG)(i,U.bw((n=>{switch(n){case"settingsMenu":t.readerV1RecapBarOptionsMenuOpen(e,a,o());break;case"followUps":t.readerV1FollowUpsPanelShow(e,a,o());break;case"keyPoints":t.readerV1KeyPointsPanelShow(e,a,o());break;case"all":t.readerV1AllDataPanelShow(e,a,o());break;default:(0,N.L0)(n)}})))}))))))))}(Ho||(Ho={})),function(e){e.toggleExpand=ro.tracking(o.Kind.toggleReplyPanelExpanded,(({expanded:e,docId:t},n,o,i)=>{e?i.readerV1ReplyPanelExpand(t,n,o):i.readerV1ReplyPanelCollapse(t,n,o)})),e.toggleMode=ro.tracking(o.Kind.toggleReplyPanelMode,(({trigger:e,mode:t,docId:n},o,i,a)=>{t===at.Mode.full?a.readerV1ReplyPanelToggleFull(n,o,e,i):a.readerV1ReplyPanelToggleCompact(n,o,i)})),e.panelShow=e=>(t,n,o)=>Yo(e,(e=>(0,s.ls)(w.U(M.ei("kind")),K.h((e=>e!==at.Mode.hidden)),Pn.q(1),mo.c(n.pipe(j.oA)),v.b((n=>{t.readerV1ReplyPanelShow(e,n,o())})))))}(zo||(zo={})),function(e){e.aboutRecapResult=ro.tracking(o.Kind.aboutRecapModalResult,(({docId:e,result:t},n,o,i)=>{switch(t){case"takeATour":i.readerV1AboutPanelTakeATourClick(e,n,o);break;case"dismiss":i.readerV1AboutPanelCloseClick(e,n,o);break;default:(0,N.L0)(t)}})),e.turnOffRecapResult=ro.tracking(o.Kind.turnOffRecapModalResult,(({docId:e,result:t},n,o,i)=>{switch(t){case"turnOffRecap":i.readerV1TurnOffPanelTurnOffClick(e,n,o);break;case"dismiss":i.readerV1TurnOffPanelDismissClick(e,n,o);break;case"hideRecap":i.readerV1TurnOffPanelHideRecapClick(e,n,o);break;default:(0,N.L0)(t)}})),e.genericFeedbackResult=ro.tracking(o.Kind.genericFeedbackModalResult,(({docId:e,result:t},n,o,i)=>{switch(t.kind){case"dismiss":i.readerV1GenericFeedbackPanelDismissClick(e,n,o);break;case"submit":i.readerV1GenericFeedbackPanelSubmitClick(t.feedbackText,e,t.rating.label,t.rating.score,n,o);break;default:(0,N.L0)(t)}})),e.itemFeedbackResult=ro.tracking(o.Kind.itemFeedbackModalResult,(({docId:e,result:t,itemFeedback:n},o,i,a)=>{switch(t.kind){case"dismiss":a.readerV1ItemFeedbackPanelDismissClick(n.feedback,n.item.id,n.item.kind,e,n.uiMode,o,i);break;case"submit":a.readerV1ItemFeedbackPanelSubmitClick(t.feedbackText,n.feedback,n.item.id,n.item.kind,e,n.uiMode,o,i);break;default:(0,N.L0)(t)}}))}(Do||(Do={})),function(e){e.learnMore=ro.tracking(o.Kind.learnMoreLinkVisited,(({docId:e,source:t},n,o,i)=>{switch(t){case"optInRecapBar":i.readerV1OptInHeaderLearnMoreClick(e,n,o);break;case"aboutRecapModal":i.readerV1AboutPanelLearnMoreClick(e,n,o);break;default:(0,N.L0)(t)}})),e.privacyPolicy=ro.tracking(o.Kind.privacyPolicyLinkVisited,(({docId:e},t,n,o)=>{o.readerV1OptInPanelPrivacyPolicyClick(e,t,n)})),e.dataCollectionPolicy=ro.tracking(o.Kind.dataCollectionPolicyLinkVisited,(({docId:e},t,n,o)=>{o.readerV1OptInPanelDataCollectionPolicyClick(e,t,n)})),e.termsOfService=ro.tracking(o.Kind.termsOfServiceLinkVisited,(({docId:e},t,n,o)=>{o.readerV1OptInPanelTermsOfServiceClick(e,t,n)}))}(Vo||(Vo={}))},54784:(e,t,n)=>{n.d(t,{w:()=>c});var o=n(57050),i=n(27378),a=n(74204),s=n(68282),r=n(5114),l=n(1316);const c=({onHover:e=o.Q1,placement:t="top",showArrow:n=!0,zIndex:c=1,onPlacementChange:d=o.Q1,referenceElement:m,children:u,onPopperMount:p=o.Q1})=>{const h=i.useRef(null),[f,g]=i.useState(null),[b,k]=i.useState(null);i.useEffect((()=>{f&&p(f)}),[f]);const{styles:I,attributes:w,state:y}=(0,a.D)(m,f,{placement:t,modifiers:[{name:"preventOverflow",options:{padding:8}},{name:"eventListeners",enabled:!1},...n?[{name:"offset",options:{offset:[0,s.uy]}},{name:"arrow",options:{element:b,padding:5}}]:[]]}),C=(null==y?void 0:y.placement)||null;return i.useEffect((()=>{C!==h.current&&(h.current=C,d(r.fromNullable(C)))})),i.createElement("div",{ref:g,style:{...I.popper,zIndex:c},className:l.popover,onMouseMove:()=>null==e?void 0:e(!0),onMouseLeave:()=>null==e?void 0:e(!1),...w.popper},u,n&&i.createElement(s.QH,{ref:k,style:I.arrow,placement:C}))}},50051:(e,t,n)=>{function o(e){return.1*e.height}function i(e,t){return{top:e.top-t,left:e.left-t,width:e.width+2*t,height:e.height+2*t}}function a(e,t){return t?i(e,o(e)):e}n.d(t,{QK:()=>i,Z2:()=>o,z9:()=>a})},96002:(e,t,n)=>{n.d(t,{P:()=>b,p:()=>g});var o=n(27378),i=n(41263),a=n(86620),s=n(92132),r=n(87965),l=n(48189),c=n(50663),d=n(49468),m=n(33678),u=n(15073),p=n(42103),h=n(51369),f=n(76974);const g=({env:e,children:t,className:n,dataGrammarlyPart:i})=>o.createElement(d.o,{className:n,"data-grammarly-part":i},o.createElement(r.p,null,o.createElement(m.a.Context.Provider,{value:new a.C(e)},o.createElement(s.Q,{remSize:f.of(16),setter:e=>u.u.setRootCssVar(document.documentElement,e)},o.createElement(p.G.DefaultProvider,null,t,o.createElement(l.p,{regular:!0,bold:!0}),o.createElement(c.G,null),o.createElement(h.X,null)))))),b=({env:e,children:t,className:n,dataGrammarlyPart:a})=>o.createElement(i.L,{chunkName:"readerGmailThreadIntegration"},o.createElement(g,{env:e,className:n,dataGrammarlyPart:a},t))},3309:(e,t,n)=>{n.d(t,{J:()=>o});var o,i=n(27378),a=n(53112),s=n(31278);!function(e){e.Reply=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("path",{d:"M14 17.5C13.7239 17.5 13.5 17.2761 13.5 17C13.5 16.7239 13.7239 16.5 14 16.5V17.5ZM5.5 11.5C5.5 11.7761 5.27614 12 5 12C4.72386 12 4.5 11.7761 4.5 11.5H5.5ZM10 16.5C10.2761 16.5 10.5 16.7239 10.5 17C10.5 17.2761 10.2761 17.5 10 17.5V16.5ZM3 17L2.64645 17.3536L2.29289 17L2.64645 16.6464L3 17ZM5.64645 13.6464C5.84171 13.4512 6.15829 13.4512 6.35355 13.6464C6.54882 13.8417 6.54882 14.1583 6.35355 14.3536L5.64645 13.6464ZM6.35355 19.6464C6.54882 19.8417 6.54882 20.1583 6.35355 20.3536C6.15829 20.5488 5.84171 20.5488 5.64645 20.3536L6.35355 19.6464ZM12.7071 12.2929L12.3536 11.9393L12.7071 12.2929ZM18.2909 6.00195C18.4862 5.80668 18.8028 5.80668 18.9981 6.00195C19.1933 6.19721 19.1933 6.51379 18.9981 6.70905L18.2909 6.00195ZM5.00195 6.70905C4.80668 6.51379 4.80668 6.19721 5.00195 6.00195C5.19721 5.80668 5.51379 5.80668 5.70905 6.00195L5.00195 6.70905ZM11.2929 12.2929L11.6464 11.9393L11.2929 12.2929ZM18 6.5H6V5.5H18V6.5ZM18.5 16V7H19.5V16H18.5ZM14 16.5H18V17.5H14V16.5ZM5.5 7V11.5H4.5V7H5.5ZM19.5 16C19.5 16.8284 18.8284 17.5 18 17.5V16.5C18.2761 16.5 18.5 16.2761 18.5 16H19.5ZM6 6.5C5.72386 6.5 5.5 6.72386 5.5 7H4.5C4.5 6.17157 5.17157 5.5 6 5.5V6.5ZM18 5.5C18.8284 5.5 19.5 6.17157 19.5 7H18.5C18.5 6.72386 18.2761 6.5 18 6.5V5.5ZM10 17.5H3V16.5H10V17.5ZM2.64645 16.6464L5.64645 13.6464L6.35355 14.3536L3.35355 17.3536L2.64645 16.6464ZM3.35355 16.6464L6.35355 19.6464L5.64645 20.3536L2.64645 17.3536L3.35355 16.6464ZM12.3536 11.9393L18.2909 6.00195L18.9981 6.70905L13.0607 12.6464L12.3536 11.9393ZM5.70905 6.00195L11.6464 11.9393L10.9393 12.6464L5.00195 6.70905L5.70905 6.00195ZM13.0607 12.6464C12.4749 13.2322 11.5251 13.2322 10.9393 12.6464L11.6464 11.9393C11.8417 12.1346 12.1583 12.1346 12.3536 11.9393L13.0607 12.6464Z",fill:"inherit",stroke:"none"})),e.Feedback=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 8C3.5 6.61929 4.61929 5.5 6 5.5H18C19.3807 5.5 20.5 6.61929 20.5 8V14.3429C20.5 15.7236 19.3807 16.8429 18 16.8429H10.3884L6.16667 19.9979V16.8429H6C4.61929 16.8429 3.5 15.7236 3.5 14.3429V8ZM6 6.5C5.17157 6.5 4.5 7.17157 4.5 8V14.3429C4.5 15.1713 5.17157 15.8429 6 15.8429H7.16667V18.0021L10.056 15.8429H18C18.8284 15.8429 19.5 15.1713 19.5 14.3429V8C19.5 7.17157 18.8284 6.5 18 6.5H6ZM17 10H7V9H17V10ZM17 13H7V12H17V13Z",fill:"inherit",stroke:"none"})),e.ThumbsDown=({className:e,width:t=18})=>i.createElement(s.a1,{className:e,width:t,viewBox:"-1 -1 22 20"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.94506 1.49087L3.94129 1.49999L1.22638 7.89292C1.06797 8.31105 1.03966 8.85929 1.01631 9.57841L1.01618 9.58249C1.01167 9.72126 1.00697 9.8662 1.00031 10.0091C1.00591 10.1675 1.08822 10.3603 1.28344 10.5353C1.48809 10.7188 1.74942 10.8182 1.97538 10.8182H8.88923L7.78363 16.1831C7.74404 16.3671 7.78727 16.6111 7.90957 16.807C7.92806 16.8367 7.94592 16.8618 7.96283 16.883C7.97026 16.8765 7.97776 16.87 7.98532 16.8633C8.08412 16.7763 8.18009 16.6875 8.25236 16.6196C8.28819 16.5859 8.31747 16.558 8.33751 16.5387L8.36015 16.5169L8.36114 16.516L13.3603 11.4772C13.5028 11.3373 13.5926 11.1398 13.5926 10.9091V1.81818C13.5926 1.57101 13.483 1.34726 13.3061 1.1944C13.1632 1.07085 12.9836 1 12.7901 1H4.67906C4.66798 1 4.6565 1.00023 4.64528 1.00068M9.06411 17.2273C9.06411 17.2273 8.27026 18 8.10374 18C7.25484 18 6.60509 16.9062 6.80597 15.9727L7.66214 11.8182H1.97538C0.984023 11.8182 0 10.9917 0 9.9917C0.0070643 9.84692 0.0119094 9.6977 0.0168363 9.54596C0.039042 8.86205 0.0629075 8.12702 0.299089 7.51818L3.0208 1.10909C3.03813 1.06714 3.05698 1.02601 3.07728 0.985763C3.28437 0.575142 3.64235 0.257042 4.07809 0.102666C4.2438 0.0439576 4.42076 0.00892764 4.60495 0.00149288C4.62942 0.000509854 4.65435 0 4.67906 0H12.7901C13.2356 0 13.6447 0.165198 13.9601 0.437858C14.3466 0.771997 14.5926 1.26752 14.5926 1.81818V10.9091C14.5926 11.4091 14.3943 11.8636 14.0609 12.1909L9.06411 17.2273ZM4.64528 1.00068C4.56232 1.00405 4.48416 1.01971 4.41203 1.04526C4.22152 1.11276 4.06246 1.25304 3.97014 1.43608C3.96113 1.45395 3.95276 1.47222 3.94506 1.49087M17.3951 1V9.90909H19V1H17.3951ZM16.3951 0.75C16.3951 0.335787 16.7308 0 17.1451 0H19.25C19.6642 0 20 0.335786 20 0.75V10.1591C20 10.5733 19.6642 10.9091 19.25 10.9091H17.1451C16.7308 10.9091 16.3951 10.5733 16.3951 10.1591V0.75Z",fill:"inherit",stroke:"none"})),e.ThumbsUp=({className:e,width:t=18})=>i.createElement(s.a1,{className:e,width:t,viewBox:"-1 -1 22 20"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0549 16.5091L16.0587 16.5L18.7736 10.1071C18.932 9.68895 18.9603 9.14071 18.9837 8.42159L18.9838 8.41751C18.9883 8.27874 18.993 8.1338 18.9997 7.99095C18.9941 7.83251 18.9118 7.63967 18.7166 7.46467C18.5119 7.28121 18.2506 7.18182 18.0246 7.18182L11.1108 7.18182L12.2164 1.8169C12.256 1.63292 12.2127 1.38894 12.0904 1.19295C12.0719 1.16332 12.0541 1.13822 12.0372 1.11697C12.0297 1.12346 12.0222 1.13004 12.0147 1.13671C11.9159 1.22375 11.8199 1.31246 11.7476 1.38043C11.7118 1.41412 11.6825 1.44205 11.6625 1.46127L11.6399 1.48305L11.6389 1.48402L6.63965 6.52285C6.49717 6.66269 6.40741 6.86024 6.40741 7.09091L6.40741 16.1818C6.40741 16.429 6.51702 16.6527 6.69386 16.8056C6.83679 16.9291 7.01641 17 7.20987 17L15.3209 17C15.332 17 15.3435 16.9998 15.3547 16.9993M10.9359 0.772727C10.9359 0.772727 11.7297 -7.23009e-07 11.8963 -7.08451e-07C12.7452 -6.34238e-07 13.3949 1.09375 13.194 2.02727L12.3379 6.18182L18.0246 6.18182C19.016 6.18182 20 7.0083 20 8.0083C19.9929 8.15308 19.9881 8.3023 19.9832 8.45404C19.961 9.13795 19.9371 9.87298 19.7009 10.4818L16.9792 16.8909C16.9619 16.9329 16.943 16.974 16.9227 17.0142C16.7156 17.4249 16.3577 17.743 15.9219 17.8973C15.7562 17.956 15.5792 17.9911 15.395 17.9985C15.3706 17.9995 15.3456 18 15.3209 18L7.20987 18C6.76441 18 6.35535 17.8348 6.03991 17.5621C5.65335 17.228 5.40741 16.7325 5.40741 16.1818L5.40741 7.09091C5.40741 6.59091 5.60568 6.13636 5.93913 5.80909L10.9359 0.772727ZM15.3547 16.9993C15.4377 16.996 15.5158 16.9803 15.588 16.9547C15.7785 16.8872 15.9375 16.747 16.0299 16.5639C16.0389 16.5461 16.0472 16.5278 16.0549 16.5091M2.60495 17L2.60495 8.09091L1.00003 8.09091L1.00003 17L2.60495 17ZM3.60495 17.25C3.60495 17.6642 3.26916 18 2.85495 18L0.750031 18C0.335817 18 3.05469e-05 17.6642 3.05831e-05 17.25L3.14057e-05 7.84091C3.14419e-05 7.4267 0.335818 7.09091 0.750031 7.09091L2.85495 7.09091C3.26916 7.09091 3.60495 7.4267 3.60495 7.84091L3.60495 17.25Z",fill:"inherit",stroke:"none"})),e.ThumbsDownFilled=({className:e,width:t=18})=>i.createElement(s.a1,{className:e,width:t,viewBox:"-1 -1 22 20"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0208 1.10909C3.03813 1.06714 3.05698 1.02601 3.07728 0.985763C3.28437 0.575142 3.64235 0.257042 4.07809 0.102666C4.2438 0.0439576 4.42076 0.00892764 4.60495 0.00149288C4.62942 0.000509854 4.65435 0 4.67906 0H12.7901C13.2356 0 13.6447 0.165198 13.9601 0.437858C14.3466 0.771997 14.5926 1.26752 14.5926 1.81818V10.9091C14.5926 11.4091 14.3943 11.8636 14.0609 12.1909L9.06411 17.2273C9.06411 17.2273 8.27026 18 8.10374 18C7.25484 18 6.60509 16.9062 6.80597 15.9727L7.66214 11.8182H1.97538C0.984023 11.8182 0 10.9917 0 9.9917C0.0070643 9.84692 0.0119094 9.6977 0.0168363 9.54596C0.039042 8.86205 0.0629075 8.12702 0.299089 7.51818L3.0208 1.10909Z",fill:"inherit",stroke:"none"}),i.createElement("path",{d:"M17.1451 0C16.7308 0 16.3951 0.335787 16.3951 0.75V10.1591C16.3951 10.5733 16.7308 10.9091 17.1451 10.9091H19.25C19.6642 10.9091 20 10.5733 20 10.1591V0.75C20 0.335786 19.6642 0 19.25 0H17.1451Z",fill:"inherit",stroke:"none"})),e.ThumbsUpFilled=({className:e,width:t=18})=>i.createElement(s.a1,{className:e,width:t,viewBox:"-1 -1 22 20"},i.createElement("path",{d:"M16.9792 16.8909C16.9618 16.9329 16.943 16.974 16.9227 17.0142C16.7156 17.4249 16.3576 17.743 15.9219 17.8973C15.7562 17.956 15.5792 17.9911 15.395 17.9985C15.3706 17.9995 15.3456 18 15.3209 18L7.20984 18C6.76438 18 6.35532 17.8348 6.03988 17.5621C5.65332 17.228 5.40738 16.7325 5.40738 16.1818L5.40738 7.09091C5.40738 6.59091 5.60565 6.13636 5.9391 5.80909L10.9359 0.772727C10.9359 0.772727 11.7297 0 11.8962 0C12.7451 0 13.3949 1.09375 13.194 2.02727L12.3378 6.18182L18.0246 6.18182C19.0159 6.18182 20 7.0083 20 8.0083C19.9929 8.15308 19.9881 8.3023 19.9831 8.45404C19.9609 9.13795 19.9371 9.87298 19.7009 10.4818L16.9792 16.8909Z",fill:"inherit",stroke:"none"}),i.createElement("path",{d:"M2.85492 18C3.26913 18 3.60492 17.6642 3.60492 17.25L3.60492 7.84091C3.60492 7.4267 3.26913 7.09091 2.85492 7.09091L0.750001 7.09091C0.335788 7.09091 0 7.42669 0 7.84091V17.25C0 17.6642 0.335787 18 0.75 18H2.85492Z",fill:"inherit",stroke:"none"})),e.Hide=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.49205 10.5522C4.73941 10.4295 5.03944 10.5305 5.16218 10.7779C7.91042 16.3166 16.0896 16.3166 18.8378 10.7779C18.9606 10.5305 19.2606 10.4295 19.508 10.5522C19.7553 10.675 19.8563 10.975 19.7336 11.2223C16.6178 17.5018 7.38215 17.5018 4.26639 11.2223C4.14365 10.975 4.24468 10.675 4.49205 10.5522ZM5.06784 13.8847C5.2631 14.0799 5.2631 14.3965 5.06784 14.5918L3.85355 15.806C3.65829 16.0013 3.34171 16.0013 3.14645 15.806C2.95118 15.6108 2.95118 15.2942 3.14645 15.0989L4.36073 13.8847C4.55599 13.6894 4.87258 13.6894 5.06784 13.8847ZM18.9322 13.8847C19.1274 13.6894 19.444 13.6894 19.6393 13.8847L20.8536 15.0989C21.0488 15.2942 21.0488 15.6108 20.8536 15.806C20.6583 16.0013 20.3417 16.0013 20.1464 15.806L18.9322 14.5918C18.7369 14.3965 18.7369 14.0799 18.9322 13.8847ZM8.17599 16.2196C8.42298 16.3431 8.52309 16.6434 8.39959 16.8904L7.59007 18.5094C7.46658 18.7564 7.16624 18.8565 6.91925 18.733C6.67226 18.6095 6.57215 18.3092 6.69564 18.0622L7.50517 16.4432C7.62866 16.1962 7.929 16.0961 8.17599 16.2196ZM15.824 16.2196C16.071 16.0961 16.3713 16.1962 16.4948 16.4432L17.3044 18.0622C17.4279 18.3092 17.3277 18.6095 17.0807 18.733C16.8338 18.8565 16.5334 18.7564 16.4099 18.5094L15.6004 16.8904C15.4769 16.6434 15.577 16.3431 15.824 16.2196ZM12 16.9763C12.2762 16.9763 12.5 17.2001 12.5 17.4763V19.0953C12.5 19.3715 12.2762 19.5953 12 19.5953C11.7239 19.5953 11.5 19.3715 11.5 19.0953V17.4763C11.5 17.2001 11.7239 16.9763 12 16.9763Z",fill:"inherit",stroke:"none"})),e.Show=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.333 11.1961C16.1813 5.6013 7.81872 5.6013 4.66699 11.1961C4.60002 11.315 4.60002 11.4628 4.66699 11.5817C7.81872 17.1765 16.1813 17.1765 19.333 11.5817C19.4 11.4628 19.4 11.315 19.333 11.1961ZM3.79573 10.7053C7.32991 4.43157 16.6701 4.43158 20.2043 10.7053C20.4429 11.1289 20.4429 11.6489 20.2043 12.0725C16.6701 18.3462 7.32991 18.3462 3.79572 12.0725C3.5571 11.6489 3.55711 11.1289 3.79573 10.7053Z",fill:"inherit",stroke:"none"}),i.createElement("path",{d:"M14.6667 11.3889C14.6667 12.8616 13.4728 14.0556 12 14.0556C10.5272 14.0556 9.33333 12.8616 9.33333 11.3889C9.33333 9.91613 10.5272 8.72222 12 8.72222C13.4728 8.72222 14.6667 9.91613 14.6667 11.3889Z",fill:"inherit",stroke:"none"})),e.Info=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("path",{d:"M12.5,11.273C12.5,10.997 12.276,10.773 12,10.773C11.724,10.773 11.5,10.997 11.5,11.273L11.5,15.636C11.5,15.913 11.724,16.136 12,16.136C12.276,16.136 12.5,15.913 12.5,15.636L12.5,11.273ZM12.5,8.349C12.5,8.073 12.276,7.849 12,7.849C11.724,7.849 11.5,8.073 11.5,8.349L11.5,8.364C11.5,8.64 11.724,8.864 12,8.864C12.276,8.864 12.5,8.64 12.5,8.364L12.5,8.349ZM20,12C20,7.582 16.418,4 12,4C7.582,4 4,7.582 4,12C4,16.418 7.582,20 12,20C16.418,20 20,16.418 20,12ZM19,12C19,15.866 15.866,19 12,19C8.134,19 5,15.866 5,12C5,8.134 8.134,5 12,5C15.866,5 19,8.134 19,12Z",fill:"inherit",stroke:"none",fillRule:"evenodd"})),e.Disable=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.30078C12.2761 4.30078 12.5 4.52464 12.5 4.80078V11.9085C12.5 12.1846 12.2761 12.4085 12 12.4085C11.7239 12.4085 11.5 12.1846 11.5 11.9085V4.80078C11.5 4.52464 11.7239 4.30078 12 4.30078ZM9.43113 6.37798C9.57099 6.61608 9.49134 6.92248 9.25323 7.06234C7.60863 8.02833 6.5 9.83543 6.5 11.9085C6.5 15.0042 8.9696 17.5008 12 17.5008C15.0304 17.5008 17.5 15.0042 17.5 11.9085C17.5 9.83543 16.3914 8.02833 14.7468 7.06234C14.5087 6.92248 14.429 6.61608 14.5689 6.37798C14.7087 6.13987 15.0151 6.06022 15.2532 6.20008C17.1954 7.34087 18.5 9.47149 18.5 11.9085C18.5 15.5421 15.597 18.5008 12 18.5008C8.40298 18.5008 5.5 15.5421 5.5 11.9085C5.5 9.47149 6.80456 7.34087 8.74677 6.20008C8.98487 6.06022 9.29127 6.13987 9.43113 6.37798Z",fill:"inherit",stroke:"none"})),e.InlineHighlightsDisabled=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9392 4.35352C15.525 3.76774 16.4747 3.76774 17.0605 4.35352L20.596 7.88906C21.1818 8.47484 21.1818 9.42459 20.596 10.0104L20.193 10.4134C19.8413 10.2753 19.4734 10.1693 19.0929 10.0993L19.8889 9.30327C20.0842 9.10801 20.0842 8.79143 19.8889 8.59617L16.3534 5.06063C16.1581 4.86537 15.8416 4.86537 15.6463 5.06063L8.92878 11.7781L12.0928 14.9422C12.0317 15.2856 11.9999 15.6391 11.9999 16C11.9999 16.0903 12.0019 16.1801 12.0058 16.2694L8.22168 12.4853L7.29669 13.4102L7.1417 16.355L8.59455 17.8079L11.5393 17.6529L12.0992 17.093C12.1692 17.4735 12.2751 17.8414 12.4133 18.1931L12.1108 18.4957C12.0234 18.583 11.9068 18.6349 11.7835 18.6414L8.61634 18.8081L7.69134 19.7331C7.59757 19.8269 7.47039 19.8796 7.33778 19.8796L3.80226 19.8795C3.60003 19.8795 3.41771 19.7577 3.34032 19.5709C3.26293 19.384 3.30571 19.169 3.44871 19.026L6.14146 16.3332L6.30816 13.1661C6.31465 13.0427 6.36657 12.9261 6.45391 12.8388L14.9392 4.35352Z",stroke:"none"}),i.createElement("path",{d:"M23 16C23 18.7614 20.7614 21 18 21C15.2386 21 13 18.7614 13 16C13 13.2386 15.2386 11 18 11C20.7614 11 23 13.2386 23 16Z",fill:"none"}),i.createElement("line",{x1:"15.9571",y1:"13.8",x2:"20.25",y2:"18.0929",fill:"none",strokeLinecap:"round"}),i.createElement("line",{x1:"0.5",y1:"-0.5",x2:"6.57107",y2:"-0.5",transform:"matrix(-0.707107 0.707107 0.707107 0.707107 20.75 13.8)",fill:"none",strokeLinecap:"round"})),e.WarningBadge=({className:e,width:t=14})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 14 14"},i.createElement("line",{x1:"7",y1:"2",x2:"7",y2:"12",stroke:a.Z.gold80,fill:"none",strokeWidth:"2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 7C13 10.3137 10.3137 13 7 13C3.68629 13 1 10.3137 1 7C1 3.68629 3.68629 1 7 1C10.3137 1 13 3.68629 13 7ZM6.25 3.625C6.25 3.21079 6.58579 2.875 7 2.875C7.41421 2.875 7.75 3.21079 7.75 3.625V7.375C7.75 7.78921 7.41421 8.125 7 8.125C6.58579 8.125 6.25 7.78921 6.25 7.375V3.625ZM7 11.125C7.51777 11.125 7.9375 10.7053 7.9375 10.1875C7.9375 9.66973 7.51777 9.25 7 9.25C6.48223 9.25 6.0625 9.66973 6.0625 10.1875C6.0625 10.7053 6.48223 11.125 7 11.125Z",fill:a.Z.gold0,stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"13",height:"13",rx:"6.5",stroke:a.Z.gold80,fill:"none"})),e.ChevronDown=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.14645 9.14645C6.34171 8.95118 6.65829 8.95118 6.85355 9.14645L12 14.2929L17.1464 9.14645C17.3417 8.95118 17.6583 8.95118 17.8536 9.14645C18.0488 9.34171 18.0488 9.65829 17.8536 9.85355L12 15.7071L6.14645 9.85355C5.95118 9.65829 5.95118 9.34171 6.14645 9.14645Z",fill:"inherit",stroke:"none"})),e.Expand=({className:e,width:t=32})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 32 32"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 7.29297L20.8536 12.1465C21.0488 12.3418 21.0488 12.6584 20.8536 12.8536C20.6583 13.0489 20.3417 13.0489 20.1464 12.8536L16 8.70718L11.8536 12.8536C11.6583 13.0489 11.3417 13.0489 11.1464 12.8536C10.9512 12.6584 10.9512 12.3418 11.1464 12.1465L16 7.29297ZM11.1464 19.1465C11.3417 18.9513 11.6583 18.9513 11.8536 19.1465L16 23.293L20.1464 19.1465C20.3417 18.9513 20.6583 18.9513 20.8536 19.1465C21.0488 19.3418 21.0488 19.6584 20.8536 19.8536L16 24.7072L11.1464 19.8536C10.9512 19.6584 10.9512 19.3418 11.1464 19.1465Z",fill:"inherit",stroke:"none"})),e.Collapse=({className:e,width:t=32})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 32 32"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1464 7.14645C11.3417 6.95118 11.6583 6.95118 11.8536 7.14645L16 11.2929L20.1464 7.14645C20.3417 6.95118 20.6583 6.95118 20.8536 7.14645C21.0488 7.34171 21.0488 7.65829 20.8536 7.85355L16 12.7071L11.1464 7.85355C10.9512 7.65829 10.9512 7.34171 11.1464 7.14645ZM16 19.2929L20.8536 24.1464C21.0488 24.3417 21.0488 24.6583 20.8536 24.8536C20.6583 25.0488 20.3417 25.0488 20.1464 24.8536L16 20.7071L11.8536 24.8536C11.6583 25.0488 11.3417 25.0488 11.1464 24.8536C10.9512 24.6583 10.9512 24.3417 11.1464 24.1464L16 19.2929Z",fill:"inherit",stroke:"none"})),e.NotificationInfo=({className:e,width:t=24})=>i.createElement(s.a1,{className:e,width:t,viewBox:"0 0 24 24"},i.createElement("g",{fillRule:"evenodd"},i.createElement("circle",{cx:"12",cy:"12",r:"11.5",fill:"inherit"}),i.createElement("path",{stroke:"inherit",strokeWidth:"2",d:"M7.54 12.81l3.343 3.5 6.657-7.78",strokeLinecap:"round"}))),e.OnboardingHeader=({className:e,width:t=75,height:n=60})=>i.createElement(s.a1,{className:e,width:t,height:n,viewBox:"0 0 75 60"},i.createElement("g",null,i.createElement("rect",{x:"9",y:"9",width:"44",height:"48",rx:"4",fill:"#F9FAFF",stroke:"#0E101A"}),i.createElement("path",{d:"M17 25H50",stroke:"#0E101A",strokeLinecap:"round"}),i.createElement("path",{d:"M17 43H50",stroke:"#0E101A",strokeLinecap:"round"}),i.createElement("path",{d:"M17 34H50",stroke:"#0E101A",strokeLinecap:"round"}),i.createElement("g",{style:{mixBlendMode:"multiply"}},i.createElement("path",{d:"M15 32C15 30.8954 15.8954 30 17 30H51C52.1046 30 53 30.8954 53 32V36C53 37.1046 52.1046 38 51 38H17C15.8954 38 15 37.1046 15 36V32Z",fill:"#E1B3FF",fillOpacity:"0.8"})),i.createElement("rect",{x:"1",y:"1",width:"23",height:"16.4773",rx:"3",fill:"#FCE4EE",stroke:"#0E101A",strokeMiterlimit:"10"}),i.createElement("path",{d:"M1.49109 16.6091L8.59259 8.97734M23.5589 16.6091L16.3304 8.84091",stroke:"#0E101A",strokeMiterlimit:"10"}),i.createElement("path",{d:"M1.58459 1.83272L11.234 11.5454C11.9427 12.1834 13.0331 12.1834 13.6872 11.5454L23.3367 1.83272",stroke:"#0E101A",strokeMiterlimit:"10"}),i.createElement("g",{opacity:"0.15"},i.createElement("rect",{width:"6",height:"18",rx:"3",transform:"matrix(0.707107 -0.707107 -0.707107 -0.707107 67.3938 58.2764)",fill:"#0E101A",stroke:"#0E101A",strokeLinejoin:"round"}),i.createElement("circle",{r:"17.1092",transform:"matrix(-1 0 0 1 46.473 34.5272)",fill:"#0E101A",stroke:"#0E101A",strokeLinejoin:"round"})),i.createElement("mask",{id:"mask0_2641_61692",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"37",y:"18",width:"27",height:"27"},i.createElement("circle",{r:"12.6387",transform:"matrix(-1 0 0 1 50.6014 31.6072)",fill:"#DBEBFF",stroke:"#0E101A",strokeLinejoin:"round"})),i.createElement("g",{mask:"url(#mask0_2641_61692)"},i.createElement("rect",{x:"-0.199951",y:"-4.56667",width:"65.3333",height:"83.3",rx:"6.53333",fill:"white",stroke:"#0E101A",strokeWidth:"1.63333"}),i.createElement("path",{d:"M12.8666 31.3666H66.7666",stroke:"#0E101A",strokeLinecap:"round"}),i.createElement("g",{style:{mixBlendMode:"multiply"}},i.createElement("path",{d:"M9.59998 28.1C9.59998 26.2959 11.0625 24.8333 12.8666 24.8333H84.7333C86.5374 24.8333 88 26.2959 88 28.1V34.6333C88 36.4375 86.5374 37.9 84.7333 37.9H12.8666C11.0625 37.9 9.59998 36.4375 9.59998 34.6333V28.1Z",fill:"#E1B3FF"}))),i.createElement("rect",{width:"6",height:"18",rx:"3",transform:"matrix(0.707107 -0.707107 -0.707107 -0.707107 71.3938 55.2764)",fill:"#15C39A",stroke:"#0E101A",strokeLinejoin:"round"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50.4729 48.6363C41.0238 48.6363 33.3638 40.9763 33.3638 31.5271C33.3638 22.078 41.0238 14.418 50.4729 14.418C59.9221 14.418 67.5821 22.078 67.5821 31.5271C67.5821 40.9763 59.9221 48.6363 50.4729 48.6363ZM50.5984 44.2492C43.6182 44.2492 37.9597 38.5907 37.9597 31.6105C37.9597 24.6303 43.6182 18.9718 50.5984 18.9718C57.5786 18.9718 63.2371 24.6303 63.2371 31.6105C63.2371 38.5907 57.5786 44.2492 50.5984 44.2492Z",fill:"#15C39A"}),i.createElement("path",{d:"M32.8638 31.5271C32.8638 41.2524 40.7477 49.1363 50.4729 49.1363V48.1363C41.3 48.1363 33.8638 40.7001 33.8638 31.5271H32.8638ZM50.4729 13.918C40.7477 13.918 32.8638 21.8019 32.8638 31.5271H33.8638C33.8638 22.3542 41.3 14.918 50.4729 14.918V13.918ZM68.0821 31.5271C68.0821 21.8019 60.1982 13.918 50.4729 13.918V14.918C59.6459 14.918 67.0821 22.3542 67.0821 31.5271H68.0821ZM50.4729 49.1363C60.1982 49.1363 68.0821 41.2524 68.0821 31.5271H67.0821C67.0821 40.7001 59.6459 48.1363 50.4729 48.1363V49.1363ZM37.4597 31.6105C37.4597 38.8668 43.3421 44.7492 50.5984 44.7492V43.7492C43.8944 43.7492 38.4597 38.3146 38.4597 31.6105H37.4597ZM50.5984 18.4718C43.3421 18.4718 37.4597 24.3542 37.4597 31.6105H38.4597C38.4597 24.9065 43.8944 19.4718 50.5984 19.4718V18.4718ZM63.7371 31.6105C63.7371 24.3542 57.8547 18.4718 50.5984 18.4718V19.4718C57.3024 19.4718 62.7371 24.9065 62.7371 31.6105H63.7371ZM50.5984 44.7492C57.8547 44.7492 63.7371 38.8668 63.7371 31.6105H62.7371C62.7371 38.3146 57.3024 43.7492 50.5984 43.7492V44.7492Z",fill:"#0E101A"})))}(o||(o={}))},41627:(e,t,n)=>{n.d(t,{v:()=>a,x:()=>s});var o=n(44586),i=n(95195);function a(e,t=self){return new o.y((n=>{var o,a;(null===(a=null===(o=t.navigator)||void 0===o?void 0:o.clipboard)||void 0===a?void 0:a.writeText)?t.navigator.clipboard.writeText(e).then((()=>n.next(i.F2(void 0)))).catch((e=>n.next(i.t$(new Error(String(e)))))):n.next(i.t$(new Error("The Clipboard API is not available.")))}))}function s(e=self){var t,n;return!!(null===(n=null===(t=e.navigator)||void 0===t?void 0:t.clipboard)||void 0===n?void 0:n.writeText)}},86620:(e,t,n)=>{n.d(t,{C:()=>c,U:()=>o});var o,i=n(27378),a=n(29511),s=n(33678),r=n(88056),l=n(95574);!function(e){let t;!function(e){e.isAppleSystem="isAppleSystem"}(t=e.SidebarFlag||(e.SidebarFlag={})),e.Flag={...t,...s.a.Flag},e.Context=i.createContext(r.Y.invariantContent("Environment"))}(o||(o={}));class c{constructor(e=(0,a.O)()){this._flags=new Set,this.actions={openUrl:e=>l.vM((()=>{document.location.href=e.toString()})),openPopup:e=>l.vM((()=>{const t=self.open(e.toString(),void 0,"noreferrer");t&&(t.opener=null)}))},e.config.systemInfo.os.isMac&&this._flags.add(o.Flag.isAppleSystem),this._flags.add(o.Flag.supportsSVGDominantBaseline),this._flags.add(o.Flag.onlyTrustedEvents)}has(e){return this._flags.has(e)}}},92132:(e,t,n)=>{n.d(t,{Q:()=>l});var o=n(27378),i=n(15073),a=n(60797),s=n(95300),r=n(5114);const l=({children:e,remSize:t,setter:n})=>(c+=1,o.useEffect((()=>{const e=t.subscribe((e=>{d.next(r.some(e)),n(r.some(e))}));return()=>{e.unsubscribe(),c-=1,0===c&&(d.next(r.none),n(r.none))}}),[t]),o.createElement(i.u.Context.Provider,{value:d.pipe(a.oA)},e));let c=0;const d=new s.X(r.none)},15130:(e,t,n)=>{var o,i;n.d(t,{C:()=>o,G:()=>i}),function(e){e[e.reader=0]="reader",e[e.knowledgeHub=1]="knowledgeHub"}(o||(o={})),function(e){e[e.reader=1]="reader",e[e.knowledgeHub=2]="knowledgeHub"}(i||(i={}))},86705:(e,t,n)=>{n.d(t,{v:()=>a});var o=n(27378),i=n(80895);const a=({browser:e,className:t,title:n="BETA"})=>"safari"!==e?o.createElement(i.C,{title:n,className:t}):null},81117:(e,t,n)=>{n.d(t,{o:()=>o});var o,i=n(27378),a=n(64757),s=n(12187),r=n(32725);!function(e){e.Primary=({className:e,theme:t,compact:n,children:o,...l})=>i.createElement(a.zx.Primary,{...(0,s.Sh)(r.button,e,"dark"===t?r.dark:void 0,n?r.noPadding:void 0),...l},o),e.Secondary=({className:e,theme:t,compact:n,children:o,...l})=>i.createElement(a.zx.Ghost,{...(0,s.Sh)(r.button,r.secondary,e,"dark"===t?r.dark:void 0,n?r.noPadding:void 0),...l},o),e.Tertiary=({className:e,theme:t,compact:n,children:o,...l})=>i.createElement(a.zx.Tertiary,{...(0,s.Sh)(r.button,r.tertiary,e,"dark"===t?r.dark:void 0,n?r.noPadding:void 0),...l},o)}(o||(o={}))},31944:(e,t,n)=>{n.d(t,{J:()=>d});var o=n(57050),i=n(27378),a=n(90845),s=n(60797),r=n(2834),l=n(12187),c=n(32276);const d=({onChange:e,labelId:t,className:n,checkboxClassName:d,labelClassName:m,checked:u,children:p,disabled:h,useDS:f,dataGrammarlyPart:g="ui-kit-checkbox",tabIndex:b=0,onMount:k=o.Q1})=>{const[I,w]=i.useState(null!=u&&u);i.useEffect((()=>{w(Boolean(u))}),[u]);const y=t=>{t.preventDefault(),t.stopPropagation(),w(!I),null==e||e(!I)},{ref:C,onMount:v}=a.P.useElWatcher();return i.useEffect((()=>{const e=C.pipe(s.oA,r.b(k)).subscribe();return()=>e.unsubscribe()}),[]),i.createElement("div",{"data-grammarly-part":g,...(0,l.Sh)(c.checkboxContainer,n)},i.createElement("div",{...(0,l.Sh)(c.checkbox,d,I?c.checkboxChecked:null,f?c.checkboxDS:null),role:"checkbox","aria-checked":I,tabIndex:b,"aria-labelledby":t,onKeyDown:e=>{" "===e.key&&y(e)},onClick:h?o.Q1:y,ref:v},I?i.createElement("div",{className:c.checkboxCheckmark}):null),i.createElement("label",{id:t,onClick:y,className:m},p))}},53704:(e,t,n)=>{n.d(t,{f:()=>w});var o=n(27378),i=n(74204),a=n(44669),s=n(77176),r=n(76974),l=n(5114),c=n(93756),d=n(12187),m=n(19703),u=n(38983),p=n(34217),h=n(39714),f=n(33609);const g={large:{along:33,across:12},small:{along:16,across:8}},b=o.forwardRef((function({placement:e,style:t,theme:n="light",size:i="large"},a){return o.createElement("div",{ref:a,style:{width:g[i].along},...(0,d.Sh)(f.arrow,"light"===n?f.arrowLight:f.arrowDark)},o.createElement("svg",{width:g[i].along,height:g[i].across,viewBox:`0 0 ${g[i].along} ${g[i].across}`,fill:"none",style:{...t,transform:`${(null==t?void 0:t.transform)||""} rotate(${k(e)}deg)`.trimStart(),...I(i,e)}},"large"===i?o.createElement("path",{d:"M1.14,0L31.86,0C28.02,0 26.015,0.867 23.874,3.552L17.514,11.014C16.939,11.689 15.891,11.689 15.315,11.014L8.955,3.552C6.815,0.867 4.98,0 1.14,0Z",fill:"inherit"}):o.createElement("path",{d:"M16,0L8,8L0,-0L16,0Z",fill:"inherit"})))}));function k(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function I(e,t){return(null==t?void 0:t.startsWith("bottom"))?{top:-g[e].across}:(null==t?void 0:t.startsWith("top"))?{bottom:-g[e].across}:(null==t?void 0:t.startsWith("right"))?{transformOrigin:"top left",top:.5*-g[e].along,left:0}:(null==t?void 0:t.startsWith("left"))?{transformOrigin:"top right",top:.5*-g[e].along,right:0}:{}}var w;!function(e){let t,n;function f(e,t){return t?o.createElement(a.d,{onClickAway:t.onClickAway,additionalEventSources:t.additionalEventSources},e):e}!function(e){const t=({content:e,placement:t,useArrow:n,dataGrammarlyPart:a="ui-kit-popover-redux",referenceElement:s,offsets:r,boundaryAreaPadding:l,theme:c="light",arrowSize:m="large",style:u})=>{const[p,f]=o.useState(null),[k,I]=o.useState(null),{styles:w,attributes:y,state:C}=(0,i.D)(s,p,{placement:t,modifiers:[{name:"offset",options:{offset:[null==r?void 0:r.along,((null==r?void 0:r.away)||0)+(n?g[m].across:0)]}},{name:"arrow",options:{element:k,padding:8}},...l?[{name:"preventOverflow",options:{padding:l}}]:[]]});return o.createElement("div",{ref:f,"data-grammarly-part":a,style:{...u,...w.popper},...y.popper},o.createElement("div",{...(0,d.Sh)(h.container,"light"===c?h.containerLight:h.containerDark)},e,n?o.createElement(b,{ref:I,style:w.arrow,placement:null==C?void 0:C.placement,theme:c,size:m}):null))};e.UIPart=p.UI.Node.make((({state:e})=>o.createElement(m.F.Fragment,null,e.pipe(s.U((({content:e,placement:n,useArrow:i,dataGrammarlyPart:a,referenceElement:s,offsets:r,boundaryAreaPadding:l,theme:c,arrowSize:d,style:m})=>o.createElement(t,{content:e,placement:n,useArrow:i,dataGrammarlyPart:a,referenceElement:s,offsets:r,boundaryAreaPadding:l,theme:c,arrowSize:d,style:m}))))))),e.createFlow=e=>()=>e}(t||(t={})),function(e){let n;!function(e){e.UIPart=p.UI.Union.asOption(p.UI.Composite.make(p.UI.Grid.make((({slots:e})=>o.createElement("div",null,e.popped))),t.UIPart)),e.createFlow=e=>p.Z.composeUnion({None:()=>r.of(null),Some:p.Z.composeKnot({value:t.createFlow(e.view("props"))})},(()=>e.view("show").view(l.fromPredicate((e=>!!e)))))}(n||(n={}));const i=p.UI.Transition.make({fadein:h.fadein},{fadeout:h.fadeout});e.UIPart=p.UI.Animated.make(i,n.UIPart),e.createFlow=(e,t=!0)=>p.Z.animatingFlow(n.createFlow(e),function(e){return(t,n)=>l.isSome(n)?l.isNone(t)||l.isNone(t.value)?l.some(c.F2("fadein")):e?l.some(c.Hk("fadeout","fadein")):l.none:l.some(c.t$("fadeout"))}(t))}(n||(n={})),e.WithChildren=e=>{const[t,i]=o.useState(null),a=o.useMemo((()=>u.h.create({props:e,show:e.show})),[]),s=o.useMemo((()=>t?p.UI.mount(n.UIPart,n.createFlow(a.view((e=>({...e,props:{...e.props,referenceElement:t}}))),e.animateBetweenStates)):null),[t]);return o.useEffect((()=>{a.set({props:e,show:e.show})})),f(o.createElement("div",null,o.createElement("div",{ref:i,style:e.childrenContainerStyles},e.children),t?s:null),e.clickAwayOptions)},e.WithRef=e=>{const t=o.useMemo((()=>u.h.create({props:e,show:e.show})),[]),i=o.useMemo((()=>p.UI.mount(n.UIPart,n.createFlow(t,e.animateBetweenStates))),[]);return o.useEffect((()=>{t.set({props:e,show:e.show})})),f(o.createElement("div",null,i),e.clickAwayOptions)}}(w||(w={}))},57053:(e,t,n)=>{n.d(t,{i:()=>s});var o=n(27378),i=n(12187),a=n(93250);const s=({maxRating:e=5,ratingLabels:t=["Not at all useful","Slightly useful","Somewhat useful","Very useful","Extremely useful"],onChange:n,value:s,ariaLabel:r="Rating",className:l,ratingStarsClassName:c,ratingLegendClassName:d,ratingLabelsClassName:m})=>{const[u,p]=o.useState(s),[h,f]=o.useState(void 0);o.useEffect((()=>{p(s)}),[s]),o.useEffect((()=>{void 0!==u&&n(u)}),[u]);const g=[...Array(e).keys()].map((e=>e+1)),b=void 0!==h?h:u;return o.createElement("div",{"data-grammarly-part":"ui-kit-rating",role:"radiogroup","aria-label":r,...(0,i.Sh)(a.rating,l)},o.createElement("div",{...(0,i.Sh)(a.ratingStars,c),onMouseLeave:()=>f(void 0)},g.map((e=>{const t=void 0!==b&&b>=e;return o.createElement("input",{key:`rating-${e}`,id:`rating-${e}`,type:"radio",name:"rating",checked:u===e,onChange:e=>p(parseInt(e.target.value,10)),value:e,onMouseEnter:e=>{const t=e.target;f(parseInt(t.value,10))},...(0,i.Sh)(a.ratingStar,t?a.ratingStarFilled:null)})}))),o.createElement("div",{...(0,i.Sh)(a.ratingLabels,m)},g.map((e=>o.createElement("label",{key:`rating-label-${e}`,htmlFor:`rating-${e}`,...(0,i.Sh)(b===e?a.ratingLabelVisible:a.ratingLabelNotVisible)},t[e-1])))),void 0!==b?null:o.createElement("div",{...(0,i.Sh)(a.ratingLegend,d)},o.createElement("div",null,t[0]),o.createElement("div",null,t[g.length-1])))}},60932:e=>{e.exports={container:"MuUrT",menu:"u8Hem",menuContent:"Ndca6",main:"UcRFZ",mainNoSidebar:"dB2mA",mainHeader:"QPwvn",mainContent:"BnARa",mainContentNoFooter:"pLyn_",mainFooter:"ee_GY"}},54161:e=>{e.exports={logoContainer:"gS9MJ"}},1316:e=>{e.exports={popover:"O8o6T"}},976:e=>{e.exports={highlight:"X92bi",dark:"_9l2Hi",background:"HPYT4",showBackground:"QCAIz",debug:"dVH6p",hovered:"yM7Rt"}},2479:e=>{e.exports={followUps:"JVo26",checkboxWrapper:"UUXdX",label:"LcRno",checkbox:"xlIh6",textChecked:"TN67A",checkboxDoneNotification:"m_A23",checkboxDone:"Yvbez",arrow:"hvzof"}},65316:e=>{e.exports={item:"xDF_P",itemWrapper:"EWjTJ",itemContent:"FIp4S",itemMenu:"ZezTl"}},23014:e=>{e.exports={ellipsis:"SB5UF",popup:"HPW9R",feedbackPopup:"Sww4T"}},58563:e=>{e.exports={keyPoints:"uwbeE",ellipsis:"Pt8KR"}},70217:e=>{e.exports={header:"FIKbr",title:"nrfdK"}},1198:e=>{e.exports={ratingContainer:"FnXWE",ratingStars:"mdRTF",requiredLabel:"mB3kY"}},6057:e=>{e.exports={textBoxHeader:"kIBEI",textbox:"X7QnD",required:"ZzKD3",requiredLabel:"NaL3z"}},14405:e=>{e.exports={modal:"dNS9M",closeButton:"yBdvv",button:"qQ_Uz",title:"Uqojk",body:"nyTaE",footer:"uMcQ8"}},85593:e=>{e.exports={modal:"QqtrH",header:"ivtZ7",title:"znajH",body:"Zfwpl"}},86010:e=>{e.exports={modal:"FfuIY",header:"tqpgZ",title:"OWnXX",body:"vha3W",description:"V4jZv"}},72369:e=>{e.exports={modal:"hkgk3",header:"fEllW",main:"y1I32",button:"APQv5"}},36624:e=>{e.exports={header:"aZP0Y",title:"Rm6T0"}},8130:e=>{e.exports={modal:"v5mz9",main:"C_jQL",header:"vXpZW",title:"ZWCCG"}},59303:e=>{e.exports={notification:"DDZP4",slideIn:"CpAEM",content:"gbAsN",header:"HdxD2",body:"o5CAQ",closeButton:"qiyNS",logo:"_Kapg",iconCloseButton:"TBGgN"}},68978:e=>{e.exports={notificationsContainer:"noatq"}},54049:e=>{e.exports={notification:"hDc06",iconAndText:"XT6WL",icon:"Fai7l",closeButton:"kY69M",undoButton:"p3Cni",undoIcon:"ex4WL"}},65758:e=>{e.exports={notificationsContainer:"f4R2V"}},53094:e=>{e.exports={onboarding:"ENvNy",onboardingHeader:"vq1KC",onboardingContent:"WM7gc",onboardingClose:"WhJWM",onboardingIcon:"ejzcK",onboardingFooter:"yMrN0",onboardingFooterCenter:"yJqzI",onboardingFooterLeft:"EW_Sf",onboardingFooterRight:"BIxig"}},8694:e=>{e.exports={switch:"CrHHB",label:"V87qT"}},60920:e=>{e.exports={logoIconSpinning:"yp3Mf",spin:"l3EiR"}},13719:e=>{e.exports={footer:"BLyb2",replyButton:"mXGxk",header:"zCRGD",headerCounts:"rDWGU",contentContent:"ZRmt4",contentOverflowTop:"DEW4Z",contentOverflowBottom:"K6Zdl",contentCounts:"UU_hb"}},75130:e=>{e.exports={moreDataEntryPoint:"KcShF",moreDataEntryPointWithOnboarding:"w6y7b"}},3843:e=>{e.exports={recapPanel:"nUOWL",panelBackground:"FNotC",mainPart:"kfGPI",asidePart:"nF_z5",contentLabel:"GAeGI",optInContent:"LWhol",logoAndBadge:"PTLxn",logoContainer:"OKtsv",warningBadge:"MxqqZ",betaBadge:"Wssjz",ghostButton:"i2NWx",learnMoreLink:"OUK3I",tryItOutButton:"YKjyk"}},3116:e=>{e.exports={compactReplyPanel:"lFz6L",compactReplyPanelContent:"gaHWi",compactReplyPanelLogo:"nexeN"}},97156:e=>{e.exports={content:"EDwqC",contentExpanded:"nheCy",contentOverflowTop:"fwsv1",contentCounts:"SkGTg"}},63389:e=>{e.exports={fullReplyPanel:"aMWRb"}},13054:e=>{e.exports={header:"UwVbK",headerContent:"aKlhe",headerButton:"jeNus"}},71301:e=>{e.exports={sidebarLogo:"pM5z6",sidebarFooter:"MoOcy"}},3958:e=>{e.exports={container:"ZqYGY"}},46418:e=>{e.exports={feedbackPopup:"aggES",buttonText:"Ov9R8",inactiveThumbsDown:"HMdJF",inactiveThumbsUp:"ol_TB"}},73914:e=>{e.exports={separator:"hE6qy"}},32725:e=>{e.exports={button:"BfiSw",noPadding:"rqbz4",dark:"lwLJZ",secondary:"HB_J3",tertiary:"Yv5q6"}},32276:e=>{e.exports={checkboxContainer:"Te37e",checkbox:"mFHkX",checkboxDS:"DdH2q",checkboxChecked:"JhHnz",checkboxCheckmark:"zShXt",spin:"tww6q"}},39714:e=>{e.exports={container:"lcVPR",containerDark:"ei2Rv",fadein:"GMNjX",noop:"BSeY7",fadeInBottom:"XKWgu",fadeInTop:"AdVtE",fadeInRight:"cCivB",fadeInLeft:"QQUL2",fadeout:"eoYIB",fadeOutBottom:"y0C2b",fadeOutTop:"oNsMc",fadeOutRight:"ouN6X",fadeOutLeft:"kozqL"}},33609:e=>{e.exports={arrow:"zBsZn",arrowDark:"htSot",arrowLight:"QNmjC"}},93250:e=>{e.exports={rating:"OgcOL",ratingStars:"bnJtV",ratingStar:"AFzJ8",ratingStarFilled:"OomgT",ratingLabels:"k3A3G",ratingLabelVisible:"s3Oeu",ratingLabelNotVisible:"eYSEV",ratingLegend:"XTsZ_",spin:"boZXL"}},29254:e=>{e.exports={switchContainer:"Wuldr",switchContainerCompact:"VelBl",switch:"U8a7J",switchAfter:"qmf24",switchChecked:"CkQBC",switchDisabled:"xia5C",on_off:"z6VX_"}}}]);