(self.webpackChunk=self.webpackChunk||[]).push([[2210],{48643:(e,t,n)=>{n.d(t,{EJ:()=>A,T9:()=>P,l5:()=>F});var r=n(59312),o=n(27378),i=n(71249),a=n(40327),s=n(38983),u=n(19703),l=n(93508),p=n(77176),c=n(16118),d=n(32952),h=n(98403),f=n(44586);if(1307!=n.j)var v=n(76974);if(1307!=n.j)var m=n(24209);if(1307!=n.j)var _=n(38062);if(1307!=n.j)var y=n(50628);if(1307!=n.j)var b=n(80900);if(1307!=n.j)var w=n(17343);if(1307!=n.j)var x=n(60797);if(1307!=n.j)var E=n(69935);if(1307!=n.j)var g=n(19751);var C=n(5114);if(1307!=n.j)var k=n(8125);var D,F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._state=t.props.state.pipe(l.O(void 0),p.U((function(e,t){return{state:e,key:t}})),c.G(),p.U((function(e){var n=e[0],r=e[1],o=t.props.stateToClassMapper(n.state,r.state);return{prev:{key:n.key,state:n.state,view:T(o.prev)},next:{key:r.key,state:r.state,view:T(o.next)}}}))),t._elements=s.h.create(D.empty),t._done=new d.xQ,t._subs=[],t}return(0,r.ZT)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.children;this._subs.push(this._state.pipe(p.U((function(n){var r=n.prev,o=n.next,i=t;return void 0===t?D.empty:[(0,a.pipe)(r.state,C.fromNullable,C.map((function(t){return i({state:t,view:r.view,type:"prev",done:function(){return e._done.next("prev")}})})),C.chain(C.fromNullable),C.map((function(e){return{key:r.key,entry:e}}))),(0,a.pipe)(i({state:o.state,view:o.view,type:"next"}),C.fromNullable,C.map((function(e){return{key:o.key,entry:e}})))]}))).subscribe(h.wW(this._elements)),this._done.subscribe((function(t){"prev"===t&&e._elements.modify((function(e){e[0];var t=e[1];return[C.none,t]})),"next"===t&&e._elements.set(D.empty)})))},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMount,a=e.onMouseDown;return t?o.createElement(u.F.div,{className:n,mount:r,onMouseDown:a},this._elements.view(i.IX.compact).view((function(e){return e.map((function(e){return o.createElement(o.Fragment,{key:e.key},e.entry)}))}))):null},t}(o.Component),A=function(e){return{start:e,end:e}};function T(e){var t=e.start,n=e.end;return f.y.create((function(e){e.next(t);var r=requestAnimationFrame((function(){return requestAnimationFrame((function(){return e.next(n)}))}));return function(){return cancelAnimationFrame(r)}}))}!function(e){e.empty=[C.none,C.none]}(D||(D={}));var P=function(e){var t=e.content.pipe(p.U((function(t){return{className:e.classes.rendered,el:t,onTransitionEnd:k.Q1}})),p.U(C.some),l.O(C.none),c.G(),p.U((function(t){var n=t[0],r=t[1];return(0,a.pipe)(n,C.fold((function(){return C.map(v.of)(r)}),(function(t){return(0,a.pipe)(r,C.map((function(n){var r=new d.xQ;return m.T(v.of({className:e.classes.removing,el:t.el,onTransitionEnd:function(){return r.next()}}),_.S3(r.pipe(y.P()),b.H(e.timeout)).pipe(w.h(n)))})))})))})),x.oA,E.B(),g.shareReplay({refCount:!0,bufferSize:1}));return o.createElement(u.F.div,{className:t.pipe(p.U((function(e){return e.className}))),onTransitionEnd:t.pipe(p.U((function(e){return e.onTransitionEnd})))},t.pipe(p.U((function(e){return e.el}))))}},42210:(e,t,n)=>{n.d(t,{L:()=>q});var r=n(59312),o=n(27378),i=n(40327),a=n(38983),s=n(19703),u=n(12187),l=n(16118),p=n(66310),c=n(80900),d=n(17343),h=n(76974),f=n(95093),v=n(77176),m=n(28043),_=n(2834),y=n(38194),b=n(93508),w=n(598),x=n(2844),E=n(98403),g=n(24713),C=n(50628),k=n(32952),D=n(18208),F=n(19962),A=n(5114),T=n(22232),P=n(8125),S=n(48643),M=n(99094),N=n(33678),U=n(101),H=n(90845),B=n(44060),j=n(89894),L=n(32096),R={position:"absolute",zIndex:L.VN,display:"flex",flexDirection:"column",margin:"".concat(j.ux.rem(.5)," 0"),padding:"".concat(j.ux.rem(.5)," 0"),minWidth:j.ux.percent(100),borderRadius:j.ux.rem(L.Jr),background:B.Il.CoreNeutral0,boxShadow:B.uc.Z200,opacity:1,transition:"opacity .2s"},W={margin:j.ux.rem(.5),height:j.ux.px(1),backgroundColor:B.Il.CoreNeutral20},I={wrapper:j.ux.style({position:"relative"}),list:j.ux.style(R),transparent:j.ux.style({opacity:0}),hidden:j.ux.style({display:"none"}),delimiter:j.ux.style(W)},V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t}(S.l5),q=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._uuid=D.fg(12),n._initialState=!1,n._hovered=a.h.create(n._initialState),n._hidden=a.h.create(!n._initialState),n._listPosState=a.h.create({}),n._dropdownEl=null,n._subs=[],n._viewport=a.h.create(F.UL.empty),n._labelRef=o.createRef(),n.hovered=n._hovered.pipe(l.G(),p.w((function(e){var r=e[0];return e[1]?c.H(n.props.showDelay).pipe(d.h(!0)):r?c.H(void 0===n.props.closeDelay?t.defaultProps.closeDelay:n.props.closeDelay).pipe(d.h(!1)):h.of(!1)})),f.T(t._hoveredForce.pipe(v.U(A.exists((function(e){return e===n._uuid}))))),m.x(),_.b((function(e){return e&&t._hoveredForce.next(A.some(n._uuid))})),_.b((function(e){return e&&n._hidden.set(!1)})),y.B(),b.O(n._initialState)),n._handleClickForAppearanceHover=function(e){var r=e.target;if(!F.pK(r)&&!0!==n.props.dontCloseOnClickInside){var o=!F.q_(r,I.list);t._hoveredForce.next(o?A.some(n._uuid):A.none),n._hovered.set(o)}},n._handleMouseEnterForAppearanceHover=function(){n._hovered.set(!0)},n._handleClickForAppearanceClick=function(e,t){t&&!e.isTrusted||(n._hovered.get()?n._handleClickForAppearanceHover(e):n._hovered.set(!0))},n._handleMouseEnterForAppearanceClick=function(e){var r=e.target;F.q_(r,I.list)&&(t._hoveredForce.next(A.some(n._uuid)),n._hovered.set(!0))},n._handleLabelKeyDownForAppearance=function(e){"Enter"!==e.key&&" "!==e.key||(n._hovered.set(!0),e.preventDefault())},n}return(0,r.ZT)(t,e),t.prototype._getHAlign=function(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":var t=this._dropdownEl?this._dropdownEl.offsetWidth:0;return{right:"50%",marginRight:"-".concat(t/2,"px")};default:return(0,T.vE)(e)}},t.prototype._getVAlign=function(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return(0,T.vE)(e)}},t.prototype.calcDropdownPosition=function(){var e=this,t=this.props.align,n=this.props.vAlign;this._listPosState.set((0,r.pi)((0,r.pi)({},this._getHAlign(t)),this._getVAlign(n)));var o="auto"===t,i="auto"===n;(o||i)&&requestAnimationFrame((function(){if(e._dropdownEl){var a=e._viewport.get(),s=e._dropdownEl.getBoundingClientRect();e._listPosState.set((0,r.pi)((0,r.pi)({},e._getHAlign(o?a.right<s.right?"right":"left":t)),e._getVAlign(i?a.bottom<s.bottom?"top":"bottom":n)))}}))},t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.hovered.pipe(_.b((function(t){e.props.onVisibilityChange&&e.props.onVisibilityChange(t)})),w.c((0,i.pipe)(A.fromNullable(this.props.customPosition),A.fold((function(){return h.of(A.none)}),(function(e){var t=e.top,n=e.left;return x.aj(E.Dx(t),E.Dx(n)).pipe(v.U(A.some))}))))).subscribe(A.fold((function(){return e.calcDropdownPosition()}),(function(t){var n=t[0],r=t[1];return e._listPosState.set({top:n,left:r})}))),this.context.pipe(g.j("rect")).subscribe(E.wW(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(p.w(E.wX(this.props.forceHide.pipe(C.P())))).subscribe((function(){return e._hidden.set(!0)})))},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]},t.prototype.componentWillReciveProps=function(){this.calcDropdownPosition()},t.prototype.mapStateToClass=function(e,t){var n={start:"",end:""};return t?{prev:n,next:{start:I.transparent,end:""}}:{prev:{start:"",end:I.transparent},next:n}},t.prototype._behavior=function(e){var t=this;return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:function(n){return t._handleClickForAppearanceClick(n,e)},onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:function(){return t._hovered.set(t._initialState)}}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:function(){return t._hovered.set(t._initialState)}}},t.prototype._labelBehavior=function(){return{onKeyDown:this._handleLabelKeyDownForAppearance}},t.prototype._attachDropdownElementBehavior=function(){var e,t=this;null===(e=this._dropdownEl)||void 0===e||e.addEventListener("keydown",(function(e){var n;"Escape"===e.key&&(t._hovered.set(t._initialState),e.preventDefault(),e.stopPropagation(),(null===(n=t._labelRef.current)||void 0===n?void 0:n.firstChild)&&setTimeout((function(){var e,n;return null===(n=null===(e=t._labelRef.current)||void 0===e?void 0:e.firstChild)||void 0===n?void 0:n.focus()}),0))}))},t.prototype._handleDropdownElementMount=function(e){this._dropdownEl=e,this._attachDropdownElementBehavior()},t.prototype.render=function(){var e=this,t=this.props,n=t.label,i=t.id,a=t.name,l=t.ariaLabelledBy,p=t.theme,c=void 0===p?{}:p,d=Boolean(i)?"label-".concat(a,"-").concat(i):"label-".concat(a),h=Boolean(i)?"list-".concat(a,"-").concat(i):"list-".concat(a);return o.createElement(N.a.Context.Consumer,null,(function(t){return o.createElement(M.f.Context.Consumer,null,(function(i){return o.createElement(M.f.Context.Provider,{value:M.f.withValue(i,{hovered:e._hovered})},o.createElement(s.F.div,(0,r.pi)({role:"combobox"},(0,u.Sh)(I.wrapper,c.dropdownContainer),e._behavior(t.has(N.a.Flag.onlyTrustedEvents)),{"aria-haspopup":"listbox","aria-labelledby":null!=l?l:d,"aria-expanded":E.U_(e._hidden),"aria-controls":h}),o.createElement("label",(0,r.pi)({id:d},e._labelBehavior(),{ref:e._labelRef}),n),o.createElement(V,{state:e.hovered,stateToClassMapper:e.mapStateToClass},(function(t){return t.state?o.createElement(s.F.div,null,e._hidden.view((function(n){return o.createElement(Q,(0,r.pi)({id:h,key:"list",name:e.props.name,onTransitionEnd:"prev"===t.type?function(){return e._hidden.set(!0)}:P.Q1},(0,u.Sh)(c.dropdownList,t.view),{mount:e._handleDropdownElementMount.bind(e),style:e._listPosState,hidden:n,activeDescendantId:e.props.activeDescendantId}),e.props.children)}))):null}))))}))}))},t.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},t.Delimiter=function(){return o.createElement("div",{className:I.delimiter})},t._hoveredForce=new k.xQ,t.contextType=U.l.Context,t}(o.PureComponent),Q=function(e){var t=H.P.useElWatcher(),n=t.ref,i=t.onMount;return H.P.FocusTrap.useFocusTrap(n),o.createElement(M.f.Context.Consumer,null,(function(t){var n=M.f.emptyWithName("".concat(void 0!==t.name?"".concat(t.name,"/"):"","dropdown-").concat(e.name));return o.createElement(M.f.Context.Provider,{value:n},o.createElement(s.F.div,(0,r.pi)({id:e.id},(0,u.Sh)(e.className,!0===e.hidden?I.hidden:I.list),{style:e.style,mount:function(t){i(t),void 0!==e.mount&&e.mount(t)},role:"listbox","aria-labelledby":e.ariaLabelledBy,"data-role":"dropdown-list","data-name":"dropdown-"+e.name,"aria-activedescendant":e.activeDescendantId,onTransitionEnd:e.onTransitionEnd}),e.children))}))}}}]);