(self.webpackChunk=self.webpackChunk||[]).push([[7916],{3914:(t,e,n)=>{n.d(e,{aU:()=>i,pY:()=>r,_y:()=>o,H3:()=>s,x4:()=>a,z_:()=>c,Z7:()=>g,LA:()=>d});var r,i,o,s,u=n(57050);!function(t){let e,n;!function(t){t.create=function(t){return t}}(e=t.Id||(t.Id={})),function(t){t.create=function(t,e){return{id:t,kind:"string",value:e}}}(n=t.StringValue||(t.StringValue={}))}(r||(r={})),function(t){function e(t){return"userPrompt"===t.kind}function n(t){return"dynamic"===t.kind}function i(t){return"quickRewrite"===t.kind}let o,s,a,c,l;t.isUserPrompt=e,t.isDynamic=n,t.isQuickRewrite=i,t.willGenerateResult=function(t){return e(t)||i(t)||n(t)&&t.generatesResult},function(t){t.create=function(t){return t}}(o=t.Id||(t.Id={})),function(t){t.isFollowUpQuestion=function(t){return 1===t.args.length&&"string"===t.args[0].kind},t.isQuickAction=function(t){return 0===t.args.length}}(s=t.DynamicInput||(t.DynamicInput={})),function(t){t.fromInputAndValue=function(t,e){return Object.assign(Object.assign({},t),{args:[(0,u.zG)(t.args[0],(t=>r.StringValue.create(t.id,e)))]})}}(a=t.FollowUpQuestionValue||(t.FollowUpQuestionValue={})),function(t){t.fromInput=function(t,e){return Object.assign(Object.assign({},t),{arg:r.StringValue.create(t.arg.id,e)})}}(c=t.UserPromptValue||(t.UserPromptValue={})),function(t){t.fromInput=function(t){return Object.assign(Object.assign({},t),{args:[]})}}(l=t.QuickRewriteValue||(t.QuickRewriteValue={}))}(i||(i={})),function(t){let e;!function(t){t.create=function(t){return t}}(e=t.Id||(t.Id={})),t.isPending=function(t){return"pending"===t.kind},t.isReceived=function(t){return"received"===t.kind}}(o||(o={})),function(t){let e,n;t.empty={previousMessageInfo:{author:{name:"",email:""},directRecipients:[],text:""},title:"",author:{name:"",email:""},directRecipients:[],indirectRecipients:[],undisclosedRecipients:[]},function(t){t.empty={name:"",email:""},t.extractNameAndEmailString=function(t){const e=""!==t.email?`<${t.email}>`:"";return[t.name,e].filter((t=>""!==t)).join(" ")}}(e=t.Person||(t.Person={})),function(t){t.empty={author:{name:"",email:""},directRecipients:[],text:""}}(n=t.PreviousMessageInfo||(t.PreviousMessageInfo={}))}(s||(s={}));var a,c,l=n(8709),f=n(73975),h=n(8125),p=n(5114);!function(t){let e,n,r;!function(t){t.create=function(t){return`${t}`},t.toPrimitive=function(t){return parseInt(t)},t.eq=f.yv}(e=t.Id||(t.Id={})),function(t){t.insert="insert",t.reportOffensive="reportOffensive"}(n=t.Feedback||(t.Feedback={})),t.hasId=function(t){return"id"in t},t.isComplete=function(t){return"complete"===t.kind},t.isInProgressOngoing=function(t){return"inProgressOngoing"===t.kind},t.isInProgressPending=function(t){return"inProgressPending"===t.kind},t.isInProgress=(0,h.Kg)(t.isInProgressOngoing,t.isInProgressPending),t.isWithError=function(t){return"error"===t.kind},t.isWithErrorReason=function(t){return e=>"error"===e.kind&&e.reason===t},function(t){let e;!function(t){t.emptyContent="emptyContent",t.truncated="truncated",t.usageExceeded="usageExceeded",t.sensitiveContent="sensitiveContent",t.corrupted="corrupted",t.timeout="timeout",t.critical="critical"}(e=t.Reason||(t.Reason={})),t.createFromInProgressOngoing=function(t,n){return Object.assign({kind:"error",reason:n,id:t.id,source:t.source},function(t){const n={iconUrl:p.some("https://assets.grammarly.com/emoji/v1/26a0.svg"),copiablePrompt:p.none};return t===e.sensitiveContent?{delta:(new l.i).insert("GrammarlyGO assistance is unavailable for this prompt. Try another one."),header:Object.assign(Object.assign({},n),{label:"<b>Assistant is unavailable</b>"})}:{delta:(new l.i).insert("Something's not quite right here. Please try again later."),header:Object.assign(Object.assign({},n),{label:"<b>Couldn't generate text</b>"})}}(n))}}(r=t.WithError||(t.WithError={}))}(a||(a={})),function(t){let e,n;!function(t){function e(e){return e===t.rewrite}function n(e){return e===t.quickRewrite}t.isIdeation=function(e){return e===t.ideation},t.isRewrite=e,t.isQuickReply=function(e){return e===t.quickReply},t.isQuickRewrite=n,t.isRewriteOrQuickRewrite=function(t){return e(t)||n(t)}}(e=t.Mode||(t.Mode={})),function(t){t.ideation="ideation",t.rewrite="rewrite",t.quickReply="quickReply",t.quickRewrite="quickRewrite"}(e=t.Mode||(t.Mode={})),function(t){t.disposed="disposed",t.closed="closed",t.textInserted="textInserted",t.regularAssistantOrSidebarOpened="regularAssistantOrSidebarOpened",t.textFieldBlurred="textFieldBlurred",t.assistantBlurred="assistantBlurred"}(n=t.EndReason||(t.EndReason={})),t.map=function(t){return e=>"started"===e.kind?t(e):e},t.toOption=function(t){return"started"===t.kind?p.some(t):p.none}}(c||(c={}));var d,g,v=n(22232),m=n(48044),y=n(13853);!function(t){let e,n,r,i,o;!function(t){let e;!function(t){t.create=function(t){return t},t.eq=f.yv}(e=t.Id||(t.Id={}))}(e=t.Tone||(t.Tone={})),function(t){let e;!function(t){t.create=function(t){return t},t.eq=f.yv}(e=t.Id||(t.Id={}))}(n=t.Style||(t.Style={})),function(t){let e;!function(t){t.create=function(t){return t},t.eq=f.yv}(e=t.Id||(t.Id={}))}(r=t.Role||(t.Role={})),function(t){let e,n;function r(t){switch(t){case e.american:return"American English";case e.australian:return"Australian English";case e.british:return"British English";case e.canadian:return"Canadian English";case e.indian:return"Indian English";default:(0,v.vE)(t)}}function i(t){switch(t){case e.american:return"https://assets.grammarly.com/emoji/v1/1f1fa-1f1f8.svg";case e.australian:return"https://assets.grammarly.com/emoji/v1/1f1e6-1f1fa.svg";case e.british:return"https://assets.grammarly.com/emoji/v1/1f1ec-1f1e7.svg";case e.canadian:return"https://assets.grammarly.com/emoji/v1/1f1e8-1f1e6.svg";case e.indian:return"https://assets.grammarly.com/emoji/v1/1f1ee-1f1f3.svg";default:(0,v.vE)(t)}}!function(t){t.fromString=function(e){switch(e){case"american":return t.american;case"australian":return t.australian;case"british":return t.british;case"canadian":return t.canadian;case"indian":return t.indian;default:(0,v.vE)(e)}}}(e=t.Value||(t.Value={})),function(t){t.american="american",t.australian="australian",t.british="british",t.canadian="canadian",t.indian="indian"}(e=t.Value||(t.Value={})),function(t){t.create=function(t){return t},t.eq=f.yv}(n=t.Id||(t.Id={})),t.american={id:n.create(e.american),label:r(e.american),iconUrl:i(e.american)},t.australian={id:n.create(e.australian),label:r(e.australian),iconUrl:i(e.australian)},t.british={id:n.create(e.british),label:r(e.british),iconUrl:i(e.british)},t.canadian={id:n.create(e.canadian),label:r(e.canadian),iconUrl:i(e.canadian)},t.indian={id:n.create(e.indian),label:r(e.indian),iconUrl:i(e.indian)},t.all=function(){return[t.american,t.australian,t.british,t.canadian,t.indian]}}(i=t.Dialect||(t.Dialect={})),function(t){t.eq=f.MW({selectedStyle:n.Id.eq,selectedTonesPerStyle:m.Eh(n.Id.eq,y.Eh(e.Id.eq)),selectedRole:p.getEq(r.Id.eq),selectedDialect:i.Id.eq})}(o=t.Selections||(t.Selections={}))}(d||(d={})),function(t){let e,n,r,i;!function(t){let e;!function(t){t.rephrase="rephrase",t.dismiss="dismiss",t.insert="insert",t.offensive="offensive"}(e=t.UserAction||(t.UserAction={}))}(e=t.Result||(t.Result={})),function(t){let e;!function(t){t.open="open",t.skip="skip"}(e=t.UserAction||(t.UserAction={}))}(n=t.VoiceProfile||(t.VoiceProfile={})),function(t){let e;!function(t){t.openAllIdeas="openAllIdeas"}(e=t.UserAction||(t.UserAction={}))}(r=t.ActionsStore||(t.ActionsStore={})),function(t){let e;!function(t){t.search="search"}(e=t.UserAction||(t.UserAction={}))}(i=t.Prompt||(t.Prompt={})),t.getComponentId=function(t,e){const n=t.kind;let r;switch(n){case"result":r="card";break;case"voiceProfile":r="voice";break;case"actionsStore":r="group";break;case"prompt":r="prompt";break;default:(0,v.vE)(n)}return`cheetah:${r}${e?`:${e}`:""}`},t.getUserAction=function(e){return"actionsStore"===e.kind&&e.userAction===t.ActionsStore.UserAction.openAllIdeas?"All Ideas":e.userAction}}(g||(g={}))},57644:(t,e,n)=>{n.d(e,{Hf:()=>x});var r,i=n(80358);!function(t){t.isCheetahChunk=function(t){return"cheetah:chunk"===t.kind},t.isCheetahSetContext=function(t){return"cheetah:setContext"===t.kind},t.isCheetahResult=function(t){return"cheetah:result"===t.kind},t.isCheetahAck=function(t){return"cheetah:ack"===t.kind},t.isError=function(t){return"error"===t.kind},t.isRelevant=function(t){return i.ld.isCheetahEvent(t)||i.ld.isCheetahAck(t)||"error"===t.kind}}(r||(r={}));var o=n(31699),s=n(57050),u=n(63513),a=n(8709),c=n(9922),l=n(98403),f=n(16118),h=n(5114),p=n(83078),d=n(22232),g=n(95195),v=n(38983),m=n(64015),y=n(42040),b=n(3914),_=n(17889);class x{constructor(t,e,n,r,i,o=y.C8.Logging.getLogger("CheetahWeb.Service")){this._getText=t,this._getCAPIClient=e,this._relevantCAPIEvents=n,this._onVoiceProfileSelectedDialectChange=i,this._logger=o,this._subs=new c.w.Keeper,this._session=v.h.create({kind:"none",hasCriticalError:!1}),this._resultById=new Map,this._contextIdByResultId=new Map,this._contextById=new Map,this._stateBlobByContextId=new Map,this._initialReceivedContext=null,this._upstreamDialect=v.h.create(b.LA.Dialect.Id.create(b.LA.Dialect.Value.american)),this._cheetahAckIds=new Set,this._cheetachAckHandlers=new Array,this._subs.push(this._relevantCAPIEvents.subscribe((t=>this._handleRelevantCAPIEvent(t)))),this._subs.push(r.subscribe((t=>l.wW(this._upstreamDialect)(b.LA.Dialect.Id.create(t))))),this._subs.push(this._upstreamDialect.subscribe((t=>this._handleUpstreamDialectChange(t)))),this._session.pipe(f.G()).subscribe((([t,e])=>this._logger.info("session updated",{prevSession:t,newSession:e})))}get session(){return this._session.view()}startSession(t){var e;this._logger.info("startSession()",{startSessionOptions:t});const n=h.fromNullable(t.mode===b.z_.Mode.rewrite||t.mode===b.z_.Mode.quickRewrite?t.selectedRange:void 0),r=h.fromNullable(t.mode===b.z_.Mode.quickReply?t.quickReplyContext:void 0);this._session.set({kind:"starting",mode:t.mode,selectedText:(0,s.zG)(n,h.map((t=>this._getText(t)))),quickReplyContext:r,hasCriticalError:!1});const i={entryPoint:this._prepareEntryPoint(t.mode),selectedRange:(0,s.zG)(n,h.getOrElse((()=>({start:0,end:0})))),outerContext:(0,s.zG)(r,h.map((t=>this._prepareOuterContext(t))),h.toUndefined)};this._logger.info("startSession() - sending `cheetah:startSession` to CAPI",{data:i}),w("cheetahStartSession",this._logger,null===(e=this._getCAPIClient())||void 0===e?void 0:e.cheetahStartSession(i))}submitAction(t){this._logger.info("submitAction()",{action:t}),this._submitAction(t)}setVoiceProfile(t){var e,n;this._logger.info("setVoiceProfile()",{voiceProfileSelections:t});const r=this._session.get();if("started"===r.kind){this._session.set(Object.assign(Object.assign({},r),{voiceProfile:Object.assign(Object.assign({},r.voiceProfile),t),context:Object.assign(Object.assign({},r.context),{kind:"pending",loadingMessage:"Working on it..."})}));const i={voice:{selectedStyle:t.selectedStyle,selectedTones:Array.from(t.selectedTonesPerStyle.get(t.selectedStyle)||[]),selectedRole:(0,s.zG)(t.selectedRole,h.toUndefined),needSetup:!1}};if(this._logger.info("setVoiceProfile() - sending `cheetah:setVoice` to CAPI",{data:i}),w("cheetahSetVoice",this._logger,null===(e=this._getCAPIClient())||void 0===e?void 0:e.cheetahSetVoice(i)),!b.LA.Dialect.Id.eq.equals(r.voiceProfile.selectedDialect,t.selectedDialect)){const e={kind:u.rP.Context,context:{goals:h.none,domain:h.none,audience:h.none,style:h.none,dialect:h.some(t.selectedDialect),outcomeContext:h.none}};this._logger.info("setVoiceProfile() - sending `set_context` to CAPI",{data:e}),w("setSessionOption",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.setSessionOption(e)),this._onVoiceProfileSelectedDialectChange(t.selectedDialect)}}else this._logger.warn("setVoiceProfile() - setting voice profile with a session that is not `started`, skipping",{session:r})}stopInProgressResult(){this._logger.info("stopInProgressResult()");const t=this._session.get();"started"===t.kind?(this._session.modify((t=>Object.assign(Object.assign({},t),{inProgressResult:h.none}))),(0,s.zG)(t.inProgressResult,h.filter(b.x4.isInProgressOngoing),h.map((t=>{var e;const n={promptId:b.x4.Id.toPrimitive(t.id)};this._logger.info("stopInProgressResult() - sending `cheetah:interrupt` to CAPI",{data:n}),w("cheetahInterrupt",this._logger,null===(e=this._getCAPIClient())||void 0===e?void 0:e.cheetahInterrupt(n))})),p.ew((()=>this._logger.warn("stopInProgressResult() - trying to stop in-progress result when we have no result in-progress-ongoing, skipping",{session:t}))))):this._logger.warn("stopInProgressResult() - trying to stop in-progress result with a session that is not `started`, skipping",{session:t})}regenerateResult(t){this._logger.info("regenerateResult()",{resultId:t});const e=this._session.get();if("started"===e.kind){const n=this._resultById.get(t);if(n){this._submitAction(n.source.action,n.source.contextId);const e=this._contextIdByResultId.get(t);this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.rephrase},e)}else this._logger.warn("regenerateResult() - could not find result for provided result ID, skipping",{session:e,resultId:t})}else this._logger.warn("regenerateResult() - trying to regenerate result with a session that is not `started`, skipping",{session:e,resultId:t})}dismissResult(t){this._logger.info("dismissResult()",{resultId:t});const e=this._session.get();if("started"===e.kind){if(this._resultById.delete(t)){const n=e.resultHistory.findIndex((e=>e.id===t));let r=e.context;if(0===n&&e.resultHistory.length>1){this._logger.info("dismissResult() - dismissing latest result, will try to restore context from previous result",{session:e,resultId:t});const n=e.resultHistory[1],i=this._contextIdByResultId.get(n.id),o=i?this._contextById.get(i):void 0;o?(this._logger.info("dismissResult() - found context for previous result, will restore its context",{session:e,resultId:t,previousResultContext:o}),r=o):this._logger.warn("dismissResult() - could not find context for previous result, context will not be updated",{session:e,resultId:t})}else 1===e.resultHistory.length&&(null!==this._initialReceivedContext?(this._logger.info("dismissResult() - dismissed all results, restoring initial context",{session:e,resultId:t,initialContext:this._initialReceivedContext}),r=this._initialReceivedContext):this._logger.warn("dimissResult() - dismissed all results, but there is no initial context to restore, keeping the latest context",{session:e,resultId:t}));this._session.set(Object.assign(Object.assign({},e),{context:r,resultHistory:e.resultHistory.filter((e=>!b.x4.Id.eq.equals(e.id,t)))}));const i=this._contextIdByResultId.get(t);this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.dismiss},i)}else this._logger.warn("dismissResult() - could not find result for provided result ID, skipping",{session:e,resultId:t})}else this._logger.warn("dismissResult() - trying to dismiss result with a session that is not `started`, skipping",{session:e,resultId:t})}trackResultInsert(t){this._logger.info("trackResultInsert()",{resultId:t});if(this._resultById.get(t)){const e=this._contextIdByResultId.get(t);this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.insert},e)}else this._logger.warn("trackResultInsert() - could not find result for provided result ID, skipping",{resultId:t})}trackResultOffensive(t){this._logger.info("trackResultOffensive()",{resultId:t});if(this._resultById.get(t)){const e=this._contextIdByResultId.get(t);this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.offensive},e)}else this._logger.warn("trackResultOffensive() - could not find result for provided result ID, skipping",{resultId:t})}trackVoiceProfileOpen(){this._logger.info("trackVoiceProfileOpen()"),this._trackUxInteraction({kind:"voiceProfile",userAction:b.Z7.VoiceProfile.UserAction.open})}trackVoiceProfileSkip(){this._logger.info("trackVoiceProfileSkip()"),this._trackUxInteraction({kind:"voiceProfile",userAction:b.Z7.VoiceProfile.UserAction.skip})}trackActionsStoreAllIdeasOpen(){this._logger.info("trackActionsStoreAllIdeasOpen()"),this._trackUxInteraction({kind:"actionsStore",userAction:b.Z7.ActionsStore.UserAction.openAllIdeas})}trackPromptSearch(){this._logger.info("trackPromptSearch()"),this._trackUxInteraction({kind:"prompt",userAction:b.Z7.Prompt.UserAction.search})}endSession(t){var e;this._logger.info("endSession()",{reason:t}),this._logger.info("endSession() - sending `cheetah:endSession` to CAPI"),w("cheetahEndSession",this._logger,null===(e=this._getCAPIClient())||void 0===e?void 0:e.cheetahEndSession())}dispose(){this._logger.info("dispose()"),this._subs.dispose()}_handleRelevantCAPIEvent(t){this._logger.info("_handleRelevantCAPIEvent()",{event:t}),r.isCheetahSetContext(t)?this._handleCheetahSetContext(t):r.isCheetahChunk(t)?this._handleCheetahChunk(t):r.isCheetahResult(t)?this._handleCheetahResult(t):r.isCheetahAck(t)?this._handleCheetahAck(t):r.isError(t)?this._handleError(t):(0,d.vE)(t)}_handleCheetahSetContext(t){this._logger.info("_handleCheetahSetContext()",{event:t});const e=this._session.get();if("none"!==e.kind){const n=t.message,r=this._extractVoiceProfile(n.context.voice),i={id:b._y.Id.create(n.context.id),dynamicActions:this._extractDynamicActions(n.context.availableActions),userPromptAction:this._extractUserPromptAction(n.context.promptAction),quickRewriteAction:this._extractQuickRewriteAction(n.context.quickRewriteAction),intent:this._extractIntent(n.context.intent)},o=n.progressMessage?Object.assign(Object.assign({},i),{kind:"pending",loadingMessage:n.progressMessage}):Object.assign(Object.assign({},i),{kind:"received"});0===this._contextById.size&&b._y.isReceived(o)&&(this._initialReceivedContext=o),this._contextById.set(o.id,o),this._stateBlobByContextId.set(o.id,n.context.stateBlob),this._session.set(Object.assign(Object.assign({},e),{kind:"started",voiceProfile:r,context:o,inProgressResult:"started"===e.kind?e.inProgressResult:h.none,resultHistory:"started"===e.kind?e.resultHistory:[],usageInfo:this._extractUsageInfo(n.promptsRemaining)}))}else this._logger.warn("_handleCheetahSetContext() - received context with a `none` session, skipping",{session:e,event:t})}_handleCheetahChunk(t){this._logger.info("_handleCheetahChunk()",{event:t});const e=this._session.get();if("started"!==e.kind)return this._logger.warn("_handleCheetahChunk() - received chunk with a session that is not `started`, skipping",{session:e,event:t});(0,s.zG)(e.inProgressResult,h.filter(b.x4.isInProgressOngoing),h.fold((()=>this._logger.warn("_handleCheetahChunk() - received chunk when we have no in-progress-ongoing result, skipping",{session:e,event:t})),(n=>{const r=t.message,i=b.x4.Id.create(r.promptId);b.x4.Id.eq.equals(n.id,i)?this._session.set(Object.assign(Object.assign({},e),{inProgressResult:h.some(Object.assign(Object.assign({},n),{delta:new a.i([...n.delta.ops]).insert(r.token)}))})):(this._logger.warn("_handleCheetahChunk() - received chunk that does not correspond to the current in-progress-ongoing result, saving corrupted result into history",{session:e,event:t}),this._session.set(Object.assign(Object.assign({},e),{inProgressResult:h.none,resultHistory:[b.x4.WithError.createFromInProgressOngoing(n,b.x4.WithError.Reason.corrupted),...e.resultHistory]})))})))}_handleCheetahResult(t){this._logger.info("_handleCheetahResult()",{event:t});const e=this._session.get();if("started"!==e.kind)return this._logger.warn("_handleCheetahResult() - received result with a session that is not `started`, skipping",{session:e,event:t});(0,s.zG)(e.inProgressResult,h.filter(b.x4.isInProgressOngoing),h.fold((()=>this._logger.warn("_handleCheetahResult() - received result when we have no in-progress-ongoing result, skipping",{session:e,event:t})),(n=>{var r,i,o,s;const c=t.message,l=b.x4.Id.create(c.promptId);if(b.x4.Id.eq.equals(n.id,l))if(null===(r=c.text)||void 0===r?void 0:r.interrupted)this._logger.info("_handleCheetahResult() - received result with interrupted text, skipping",{session:e,event:t});else{let r,l,f,p;if(c.error||!c.text||""===c.text.plain){let a;a=c.error?(null===(i=c.error)||void 0===i?void 0:i.kind)===u.vv.Schema.ErrorKind.Overflow?b.x4.WithError.Reason.truncated:(null===(o=c.error)||void 0===o?void 0:o.kind)===u.vv.Schema.ErrorKind.PromptsLimitExceeded?b.x4.WithError.Reason.usageExceeded:(null===(s=c.error)||void 0===s?void 0:s.kind)===u.vv.Schema.ErrorKind.SensitiveContent?b.x4.WithError.Reason.sensitiveContent:b.x4.WithError.Reason.critical:b.x4.WithError.Reason.emptyContent,r=b.x4.WithError.createFromInProgressOngoing(n,a),this._logger.warn("_handleCheetahResult() - received result with error, saving result with error into history",{session:e,event:t,result:r})}else r=Object.assign(Object.assign({},n),{kind:"complete",delta:(new a.i).insert(c.text.plain),deltaDiff:c.text.renderDiff&&"ops"in c.text.delta&&Array.isArray(c.text.delta.ops)?h.some(new a.i([...c.text.delta.ops])):h.none}),this._logger.info("_handleCheetahResult() - received complete result, saving complete result into history",{session:e,event:t,result:r});c.context?(f=this._extractVoiceProfile(c.context.voice),l={kind:"received",id:b._y.Id.create(c.context.id),dynamicActions:this._extractDynamicActions(c.context.availableActions),userPromptAction:this._extractUserPromptAction(c.context.promptAction),quickRewriteAction:this._extractQuickRewriteAction(c.context.quickRewriteAction),intent:this._extractIntent(c.context.intent)},p=c.context.stateBlob,this._logger.info("_handleCheetahResult() - received result with context, will update voice profile and context accordingly",{session:e,event:t,voiceProfile:f,context:l})):(this._logger.warn("_handleCheetahResult() - received result without context, keeping latest voice profile and context",{session:e,event:t}),f=e.voiceProfile,l=e.context,p=this._stateBlobByContextId.get(e.context.id)),this._contextById.set(l.id,l),void 0!==p&&this._stateBlobByContextId.set(l.id,p),this._resultById.set(r.id,r),this._contextIdByResultId.set(r.id,l.id),this._session.set(Object.assign(Object.assign({},e),{voiceProfile:f,context:l,inProgressResult:h.none,resultHistory:[r,...e.resultHistory]}))}else this._logger.warn("_handleCheetahResult() - received result that does not correspond to the current in-progress-ongoing result, saving corrupted result into history",{session:e,event:t}),this._session.set(Object.assign(Object.assign({},e),{inProgressResult:h.none,resultHistory:[b.x4.WithError.createFromInProgressOngoing(n,b.x4.WithError.Reason.corrupted),...e.resultHistory]}))})))}_handleUpstreamDialectChange(t){this._logger.info("_handleUpstreamDialectChange()",{upstreamDialect:t});const e=this._session.get();if("started"===e.kind){const n=b.LA.Dialect.Id.create(t);this._logger.info("_handleUpstreamDialectChange() - dialect changed on upstream services, updating selected dialect on voice profile",{session:e,selectedDialect:n}),this._session.set(Object.assign(Object.assign({},e),{voiceProfile:Object.assign(Object.assign({},e.voiceProfile),{selectedDialect:n})}))}}_handleCheetahAck(t){this._logger.info("_handleCheetahAck()",{event:t}),this._cheetahAckIds.add(t.id);const e=this._cheetachAckHandlers.length>0?this._cheetachAckHandlers[0]:void 0;e&&(this._logger.info("_handleCheetahAck() - extracting `cheetah:ack` handler from queue and executing it",{event:t,cheetahAckHandlers:this._cheetachAckHandlers}),this._cheetachAckHandlers=this._cheetachAckHandlers.slice(1),e(t.id))}_handleError(t){if(this._logger.info("_handleError()",{event:t}),this._cheetahAckIds.has(t.id)){this._logger.warn("_handleError() - CAPI reported an error related to one of the `cheetah:*` messages, will process the error accordingly",{event:t,cheetahAckIds:this._cheetahAckIds});const e=this._session.get();"started"===e.kind?(0,s.zG)(e.inProgressResult,h.filter(b.x4.isInProgressOngoing),h.filter((e=>b.x4.Id.eq.equals(e.id,b.x4.Id.create(t.id)))),h.map((t=>b.x4.WithError.createFromInProgressOngoing(t,b.x4.WithError.Reason.critical))),p.bw((n=>{this._logger.warn("_handleError() - CAPI reported an error related to a result in-progress-ongoing, saving result with error into history",{session:e,event:t,result:n}),this._session.set(Object.assign(Object.assign({},e),{inProgressResult:h.none,resultHistory:[n,...e.resultHistory]}))})),p.ew((()=>{this._logger.warn("_handleError() - CAPI reported an error that is not related to a result in-progress-ongoing, flagging session with error",{session:e,event:t}),this._session.set(Object.assign(Object.assign({},e),{inProgressResult:h.none,hasCriticalError:!0}))}))):(this._logger.warn("_handleError() - CAPI reported an error even before we had a `started` session, flagging session with error",{session:e,event:t}),this._session.set(Object.assign(Object.assign({},e),{hasCriticalError:!0})))}}_extractVoiceProfile(t){var e,n;this._logger.info("_extractVoiceProfile()",{voice:t});const r=(0,s.zG)(b.z_.toOption(this._session.get()),h.map((t=>t.voiceProfile.styles)),h.getOrElse((()=>[]))),i=(0,s.zG)(b.z_.toOption(this._session.get()),h.map((t=>t.voiceProfile.roles)),h.getOrElse((()=>[]))),o={styles:(0,s.zG)(null!==(e=t.styles)&&void 0!==e?e:[],m.UI((t=>({id:b.LA.Style.Id.create(t.button.label),label:t.button.label,iconUrl:t.button.iconUrl,tones:t.tones.map((t=>({id:b.LA.Tone.Id.create(t.label),label:t.label,iconUrl:t.iconUrl}))),maxTones:t.maxTones}))),(t=>t.length>0?t:r)),roles:(0,s.zG)(null!==(n=t.roles)&&void 0!==n?n:[],m.UI((t=>({id:b.LA.Role.Id.create(t),label:t}))),(t=>t.length>0?t:i)),selectedStyle:b.LA.Style.Id.create(t.selectedStyle),selectedTonesPerStyle:(new Map).set(b.LA.Style.Id.create(t.selectedStyle),new Set(t.selectedTones)),selectedRole:(0,s.zG)(h.fromNullable(t.selectedRole),h.map((t=>b.LA.Role.Id.create(t)))),dialects:b.LA.Dialect.all(),selectedDialect:(0,s.zG)(b.z_.toOption(this._session.get()),h.fold((()=>b.LA.Dialect.Id.create(this._upstreamDialect.get())),(t=>t.voiceProfile.selectedDialect))),needsSetup:t.needSetup};return this._logger.info("_extractVoiceProfile() - successfully extracted voice profile",{voice:t,voiceProfile:o}),o}_extractDynamicActions(t){this._logger.info("_extractDynamicActions()",{availableActions:t});const e=t.map((t=>t.group)),n=t.map((t=>({id:b.aU.Id.create(t.id),kind:"dynamic",iconUrl:t.iconUrl,group:{label:t.group,rank:e.findIndex((e=>t.group===e))},label:(0,o.sanitize)(t.label,{ALLOWED_TAGS:["b","i"]}),searchLabel:(0,o.sanitize)(t.label,{ALLOWED_TAGS:[]}),searchTags:t.searchTags,generatesResult:t.generatesText,args:t.args.map((t=>({id:b.pY.Id.create(t.name),kind:"string",label:t.label,hints:(0,s.zG)(h.fromNullable(t.hint),h.map((t=>({header:t.header,items:t.text}))))})))})));return this._logger.info("_extractDynamicActions() - successfully extracted dynamic actions",{availableActions:t,dynamicActions:n}),n}_extractUserPromptAction(t){this._logger.info("_extractUserPromptAction()",{promptAction:t});const e=(0,s.zG)(t.args,m.YM,h.map((e=>({id:b.aU.Id.create(t.id),kind:"userPrompt",arg:{id:b.pY.Id.create(e.name),kind:"string",label:e.label,hints:(0,s.zG)(h.fromNullable(e.hint),h.map((t=>({header:t.header,items:t.text}))))}}))));return h.isSome(e)?this._logger.info("_extractUserPromptAction() - successfully extracted user prompt action",{promptAction:t,userPromptAction:e}):this._logger.warn("_extractUserPromptAction() - failed to extract user prompt action, received empty action args",{promptAction:t}),e}_extractQuickRewriteAction(t){return this._logger.info("_extractQuickRewriteAction()",{quickRewriteAction:t}),h.none}_extractIntent(t){this._logger.info("_extractIntent()",{intent:t});const e=(0,s.zG)(h.fromNullable(t),h.filter((t=>t.length>0)),h.map((t=>({header:"Sender's intent",text:t}))));return this._logger.info("_extractIntent() - successfully extracted intent",{intent:t,extractedIntent:e}),e}_prepareOuterContext(t){this._logger.info("_prepareOuterContext()",{quickReplyContext:t});const e={title:t.title,people:{from:[b.H3.Person.extractNameAndEmailString(t.author)],to:t.directRecipients.map(b.H3.Person.extractNameAndEmailString),cc:t.indirectRecipients.map(b.H3.Person.extractNameAndEmailString),bcc:t.undisclosedRecipients.map(b.H3.Person.extractNameAndEmailString)},items:[{text:t.previousMessageInfo.text,people:{from:[b.H3.Person.extractNameAndEmailString(t.previousMessageInfo.author)],to:t.previousMessageInfo.directRecipients.map(b.H3.Person.extractNameAndEmailString)}}]};return this._logger.info("_prepareOuterContext() - successfully prepared outer context",{quickReplyContext:t,preparedOuterContext:e}),e}_extractUsageInfo(t){return this._logger.info("_extractUsageInfo()",{promptsRemaining:t}),h.none}_trackUxInteraction(t,e){var n;this._logger.info("_trackUxInteraction()",{uxInteraction:t,contextId:e});const r=b.Z7.getComponentId(t,e),i=b.Z7.getUserAction(t);this._logger.info("_trackUxInteraction() - sending `user_action` to CAPI",{componentId:r,userAction:i}),w("sendUserAction",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.sendUserAction(r,i))}_submitAction(t,e){var n;this._logger.info("_submitAction()",{action:t,contextId:e});const r=this._session.get();if("started"===r.kind){const i=null!=e?e:r.context.id,o=this._stateBlobByContextId.get(i);if(void 0===o)return this._logger.warn("_submitAction() - cannot find state blob for context ID, skipping",{session:r,contextId:i,contextStateBlob:o});this._session.set(Object.assign(Object.assign({},r),{context:Object.assign(Object.assign({},r.context),{kind:"pending",loadingMessage:"Working on it..."}),inProgressResult:b.aU.willGenerateResult(t)?h.some({kind:"inProgressPending",header:{label:b.aU.isUserPrompt(t)?t.arg.value:t.label,iconUrl:b.aU.isUserPrompt(t)?h.none:h.some(t.iconUrl),copiablePrompt:b.aU.isUserPrompt(t)?h.some(t.arg.value):h.none},delta:new a.i,source:{contextId:i,action:t}}):h.none})),this._cheetachAckHandlers.push((t=>{const e=this._session.get();"started"===e.kind&&(0,s.zG)(e.inProgressResult,h.filter(b.x4.isInProgressPending),p.ew((()=>this._logger.warn("_handleCheetahAck() - received `cheetah:ack` related to in-progress-pending result but we don't have an in-progress-pending result, skipping",{session:e,ackId:t}))),h.map((e=>Object.assign(Object.assign({},e),{kind:"inProgressOngoing",id:b.x4.Id.create(t)}))),p.bw((n=>{this._logger.info("_handleCheetahAck() - received `cheetah:ack` related to in-progress-pending result, transitioning result to in-progress-ongoing",{session:e,ackId:t,inProgressResult:n}),this._session.set(Object.assign(Object.assign({},e),{inProgressResult:h.some(n)}))})))}));const u={contextId:i,actionId:t.id,args:b.aU.isUserPrompt(t)?[{name:t.arg.id,value:t.arg.value}]:(0,s.zG)(_.c2(t.args),h.fold((()=>[]),(t=>t.map((t=>({name:t.id,value:t.value})))))),stateBlob:o};this._logger.info("_submitAction() - sending `cheetah:action` to CAPI",{data:u}),w("cheetahAction",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.cheetahAction(u))}else this._logger.warn("_submitAction() - submitting action with a session that is not `started`, skipping",{session:r,action:t,contextId:e})}_prepareEntryPoint(t){let e;switch(this._logger.info("_prepareEntryPoint()",{sessionMode:t}),t){case b.z_.Mode.ideation:e=u.vv.Schema.MessageStartSessionEntryPoint.Ideation;break;case b.z_.Mode.rewrite:e=u.vv.Schema.MessageStartSessionEntryPoint.Rewrite;break;case b.z_.Mode.quickRewrite:e=u.vv.Schema.MessageStartSessionEntryPoint.QuickRewrite;break;case b.z_.Mode.quickReply:e=u.vv.Schema.MessageStartSessionEntryPoint.QuickReply;break;default:(0,d.vE)(t)}return this._logger.info("_prepareEntryPoint() - successfully prepared entry point",{sessionMode:t,entryPoint:e}),e}}async function w(t,e,n){if(n)try{const r=await n();g.nM(r)&&e.warn("runTaskEither() - error running task",{name:t,result:r})}catch(n){e.error("runTaskEither() - promise rejection running task",n,{name:t})}}},99596:(t,e,n)=>{n.d(e,{Bb:()=>p,Lu:()=>h,cl:()=>g});var r,i=n(59312),o=n(99950),s=n(32687),u=n(99129),a=n(19429),c=n(22232),l=n(5114),f=n(83078);!function(t){t.extend=function(t){return a.I_((function(e){return(0,i.pi)((0,i.pi)({},e),{requestExtender:e.requestExtender?g.Extender.compose(t,e.requestExtender):t})}))};var e=function(t){function e(e,n){var r=t.call(this,e)||this;return r.message=e,r.details=n,r.name="ParseError",r}return(0,i.ZT)(e,t),e.prototype.toString=function(){return"Ajax response parsing error\n        Message ".concat(this.message,"\n        Details ").concat(s.Rn(this.details).join("\n"))},e}(c.sH);t.ParseError=e,function(t){t.json="application/json",t.form="application/x-www-form-urlencoded",t.multipart="multipart/form-data",t.pdf="application/pdf",t.txt="text/plain",t.stream="application/octet-stream",t.vnd="application/vnd",t.zip="application/zip",t.any="*/*"}(t.MimeType||(t.MimeType={})),t.mapToHTTPErrorWithoutBody=function(e,n,r){return r.removeBody(),t.mapToHTTPError(e,n,r)},t.mapToHTTPError=function(t,e,n){return new p({request:n,code:e.status,status:e.statusText,url:e.url,body:t})}}(r||(r={}));var h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.message=e,r.details=n,r.name="RequestError",r}return(0,i.ZT)(e,t),e.prototype.toString=function(){return"Request error\n      Message: ".concat(this.message,"\n      details: ").concat(this.details)},e.fromError=function(t,n){var r=new e(t,n.message);return r.stack=n.stack,r},e}(c.sH),p=function(t){function e(e){var n=e.code,r=e.status,i=e.url,o=e.message,s=e.body,u=e.request,a=t.call(this,Boolean(o)?o:Boolean(r||s)?r||s:"HTTPError")||this;return a.name="HTTPError",a.url=i,a.code=n,a.body=s,a.status=r,a.request=u,a}return(0,i.ZT)(e,t),e.prototype.toString=function(){return"Response\n      Message: ".concat(this.message,"\n      Status: ").concat(this.status,"\n      Code: ").concat(this.code,"\n      Body: ").concat(this.body,"\n      ").concat(void 0!==this.request?"\n"+this.request.toString():"Url: ".concat(this.url))},e}(c.sH),d=function(){function t(t,e,n,r,i){this._url=t,this._method=e,this._headers=n,this._mime=r,this._body=i}return t.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g.get.apply(g,t).build()},t.post=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g.post.apply(g,t).build()},t.put=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g.put.apply(g,t).build()},t.del=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g.del.apply(g,t).build()},t.head=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g.head.apply(g,t).build()},Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){return this._method},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mime",{get:function(){return this._mime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return l.fromNullable(this._body)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Request\n    Method: ".concat(this.method.toUpperCase(),"\n    Url: ").concat(this.url,"\n    Mime: ").concat(this.mime,"\n    Headers: ").concat(JSON.stringify(this.headers,void 0,2),"\n    Body:").concat(f.dH((function(t){return e=JSON.stringify(t instanceof URLSearchParams?(r={},t.forEach((function(t,e){return r[e]=t})),r):t,void 0,2),n=200,e.length<=n?e:e.slice(0,n)+"....";var e,n,r}),"empty")(this.body),"\n    ")},t.prototype.removeBody=function(){this._body=void 0},t}();!function(t){!function(t){t.GET="GET",t.POST="POST",t.PATCH="PATCH",t.PUT="PUT",t.OPTIONS="OPTIONS",t.HEAD="HEAD",t.TRACE="TRACE",t.DELETE="DELETE",t.CONNECT="CONNECT"}(t.Method||(t.Method={}))}(d||(d={}));var g=function(){function t(t,e,n,r,i,o,s,u){void 0===t&&(t=""),void 0===e&&(e=new URLSearchParams),void 0===n&&(n=[]),void 0===r&&(r={}),void 0===u&&(u=!1),this._url=t,this._queryParams=e,this._cookies=n,this._headers=r,this._method=i,this._mime=o,this._body=s,this._preserveUrl=u}return t.join=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=[].slice.call(e.filter((function(t){return t.length>0})),0).join("/");return t._normalize(r)},t._normalize=function(t){return t=(t=(t=t.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|#)/g,"$1")},t.get=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.url.apply(t,e).method(d.Method.GET)},t.post=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.url.apply(t,e).method(d.Method.POST)},t.put=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.url.apply(t,e).method(d.Method.PUT)},t.patch=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.url.apply(t,e).method(d.Method.PATCH)},t.del=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.url.apply(t,e).method(d.Method.DELETE)},t.head=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.url.apply(t,e).method(d.Method.HEAD)},t.url=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(t.join.apply(t,e))},t.prototype.url=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(""!==this._url)throw new Error("URL already set to "+this._url+", use join(string) to add additional parts to it");return this.join(t.join.apply(t,e))},t.create=function(){return new t},t.prototype.method=function(t){if(Boolean(this._method)&&this._method!==t)throw new Error("Method already set to "+this._method+", but was overwritten by "+t);return this._method=t,this},t.prototype.join=function(e){return this._url=t.join(this._url,e),this},t.prototype.pathParam=function(e){return this._url=t.join(this._url,encodeURIComponent(e)),this},t.prototype.body=function(t){if(Boolean(this._body))throw new Error("Body already set to "+this._body+", but was overwritten by "+t);return this._body=t,this},t.prototype.formParam=function(t,e){return(this._body=this._body instanceof URLSearchParams?this._body:new URLSearchParams).append(t,e),this},t.prototype.multipartFormData=function(t,e,n){var r=this._body instanceof u?this._body:new u;return r.append(t,e,n),this._body=r,this},t.prototype.header=function(t,e){return this._headers[t]=e,this},t.prototype.queryParam=function(t,e){return this._queryParams.append(t,e),this},t.prototype.queryParams=function(t){var e=this;return Object.entries(t).forEach((function(t){var n=t[0],r=t[1];return e._queryParams.append(n,r)})),this},t.prototype.cookie=function(t,e){return this._cookies.push(t+"="+e),this},t.prototype.mime=function(t){if(Boolean(this._mime)&&this._mime!==t)throw new Error("MIME already set to "+this._mime+", but was overwritten by "+t);return this._mime=t,this},t.prototype.json=function(t){return Boolean(t)?this.body(t).mime(r.MimeType.json):this.mime(r.MimeType.json)},t.prototype.preserveUrl=function(){return this._preserveUrl=!0,this},t.prototype.build=function(){if(!this._url||0===this._url.length)throw new Error("URL cannot be empty");if(this._preserveUrl||(this._url=this._url.replace(/\/$/,"")),"".concat(this._queryParams).length>0&&(this._url+="?"+this._queryParams),this._body instanceof URLSearchParams){if(Boolean(this._mime)&&this._mime!==r.MimeType.form)throw new Error("Only application/x-www-form-urlencoded can be used for form requests, don't specify it mandatory in mime() method");this._mime=r.MimeType.form}else if(this._body instanceof u&&Boolean(this._mime)&&this._mime!==r.MimeType.multipart)throw new Error("Only multipart/form-data can be used for multipart form data requests, don't specify it mandatory in mime() method");if(this._mime===r.MimeType.json&&Boolean(this._body)&&(this._body=JSON.stringify(this._body)),!Boolean(this._method))throw new Error("HTTP method was not set");if(this._method=this._method,this._method===d.Method.GET&&Boolean(this._body))throw new Error("Body is not supported for GET");if(Boolean(this._mime)&&(this._headers["Content-Type"]=this._mime),this._cookies.length>0){this._headers.Cookie=this._cookies.join("; ")}return new d(this._url,this._method,this._headers,Boolean(this._mime)?this._mime:null,this._body)},t}();!function(t){!function(t){t.identity=function(t){return o.task.of(t)},t.compose=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(n){return e.reduce(o.task.chain,t.identity(n))}}}(t.Extender||(t.Extender={}))}(g||(g={}))},67394:(t,e,n)=>{n.d(e,{JJ:()=>i,JU:()=>r,r3:()=>o});var r,i,o,s=n(59312),u=n(71249),a=n(45614),c=n(57050),l=n(40327),f=n(8709),h=n(73975),p=n(5114),d=n(22232),g=n(83078),v=n(95195),m=n(89943),y=n(26328),b=n(95574),_=n(81670),x=n(42040),w=n(36991),O=n(52226);!function(t){var e,n;!function(t){t.Important="important",t.Main="main",t.Optional="optional"}(e=t.Type||(t.Type={})),function(t){t.OptionalContext="optional_context"}(n=t.TypeExt||(t.TypeExt={}));var r=function(t){return"object"==typeof t&&null!==t};t.eqAttributes=a.Eh(h.f7((function(e,n){return r(e)&&r(n)?t.eqAttributes.equals(e,n):h.w4.equals(e,n)}))),t.eq=h.MW({type:h.w4,group:p.getEq(h.yv),insert:h.yv,delete:h.lr,retain:h.lr,attributes:t.eqAttributes}),t.isInsert=function(t){return"insert"in t},t.isInsertString=function(e){return t.isInsert(e)&&i(e.insert)},t.isInsertGap=function(e){return t.isInsert(e)&&o(e.insert)},t.isDelete=function(t){return"delete"in t},t.isRetain=function(t){return"retain"in t},t.isOptionalContextRetain=function(e){return"retain"in e&&t.isOptionalContextType(e.type)};var i=function(t){return"string"==typeof t},o=function(t){return"object"==typeof t&&null!==t&&"gap"in t};t.isMain=function(e){return e.type===t.Type.Main},t.isOptionalType=function(e){return e===t.Type.Optional},t.isOptionalContextType=function(e){return e===t.TypeExt.OptionalContext},t.isSignificant=function(t){switch(t.type){case e.Main:case e.Important:return!0;case e.Optional:return!1;default:return(0,d.vE)(t.type)}},t.fromRawAbsAlternative=function(t){if(u=t.ops,a=u[0],Boolean(a)&&"retain"in a&&Boolean(a.attributes)&&"optional_context"===a.attributes.type){var e=t.ops,r=e[0],i=e.slice(1),o={retain:r.retain,type:n.OptionalContext,group:p.none};return(0,s.ev)([o],i.map(v),!0)}return t.ops.map(v);var u,a},t.length=f.i.Op.length,t.anonymize=function(e){return t.isInsert(e)?(0,s.pi)((0,s.pi)({},e),{insert:"string"==typeof e.insert?"<".concat(t.length(e),">"):"<embed>"}):e};var u=function(){function n(t){this.ops=t,this.index=0,this.offset=0}return n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(n){Boolean(n)||(n=1/0);var r=this.ops[this.index];if(Boolean(r)){var i=r.type,o=this.offset,s=t.length(r);return n>=s-o?(n=s-o,this.index+=1,this.offset=0):this.offset+=n,t.isDelete(r)?{delete:n,type:i,group:r.group}:t.isRetain(r)?{retain:n,type:i,group:r.group,attributes:!t.isOptionalContextType(i)&&r.attributes}:t.isInsertString(r)?{insert:r.insert.substr(o,n),type:i,group:r.group,attributes:r.attributes}:r}return{retain:1/0,type:e.Optional,group:p.none,attributes:{}}},n.prototype.peekLength=function(){return Boolean(this.ops[this.index])?t.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return Boolean(this.ops[this.index])?t.isDelete(this.ops[this.index])?"delete":t.isRetain(this.ops[this.index])?"retain":"insert":"retain"},n}();t.Iterator=u;var g=(0,c.ls)(p.fromNullable,p.map(a.EG("type")),p.map(a.EG("group")),p.getOrElse((function(){return{}}))),v=function(t){var n,r=function(t){if(null!=(null==t?void 0:t.type))switch(t.type){case"main":return e.Main;case"important":return e.Important;default:return(0,d.vE)(t.type)}return e.Optional}(t.attributes),i=(n=t.attributes,(0,l.pipe)(p.fromNullable(n),p.chain((function(t){return p.fromNullable(t.group)}))));return"insert"in t?{insert:t.insert,type:r,group:i,attributes:g(t.attributes)}:"delete"in t?{delete:t.delete,type:r,group:i}:{retain:t.retain,type:r,group:i,attributes:g(t.attributes)}}}(r||(r={})),function(t){t.fromAlternative=function(t){var e=t.alternative,n=t.fullText;return(0,l.pipe)(e.delta.invert(n),o.fromRawDelta)},t.fromAlternativeBoldified=function(e){var n=e.alternative,r=e.fullText,i=(0,l.pipe)(n.delta.map(w.s.match((function(t){return(0,l.pipe)(t,p.fromPredicate(w.s.isInsertString),p.chain((function(t){return(0,l.pipe)(p.fromNullable(t.attributes),p.map((function(e){return{attributes:e,retain:t.insert.length}})))})),p.filter((function(t){var e=t.attributes;return Boolean(e.bold)})),p.map((function(t){return{retain:t.retain,attributes:{bold:!1}}})))}),(function(t){return p.none}),(function(t){return p.some({retain:t.retain})}))),u.oA,(function(t){return new f.i(t)}),(function(t){return r.compose(t)}));return t.fromAlternative({alternative:n,fullText:i})},t.fromAlternativeListified=function(e){var n=e.alternative,r=e.fullText;return(0,l.pipe)(t.fromAlternative({alternative:n,fullText:r}),(function(t){return(0,l.pipe)(t.delta.ops,u.qr((function(t){return w.s.isInsertString(t)&&"\n"===t.insert&&Boolean(!t.attributes||!Boolean(t.attributes.list))})),p.map((function(e){var n=t.delta.ops,r=n[e];return new f.i((0,s.ev)((0,s.ev)((0,s.ev)([],n.slice(0,e),!0),[(0,s.pi)((0,s.pi)({},r),{attributes:(0,s.pi)((0,s.pi)({},r.attributes),{list:!1})})],!1),n.slice(e+1),!0))})),p.getOrElse((function(){return t.delta})))}),o.fromRawDelta)}}(i||(i={})),function(t){var e;function n(t){return function(e){return r.isInsertGap(e)?(0,s.pi)((0,s.pi)({},e),{insert:t}):e}}function i(t){return new o(t)}t.hasOptionalContext=function(t){return Boolean(t[0])&&r.isOptionalContextRetain(t[0])},function(t){t.Insert="insert",t.Remove="remove",t.Substitution="substitution"}(e=t.Type||(t.Type={})),function(t){function e(e){return e.type===r.Type.Main?p.some(r.isInsert(e)?t.Insert:t.Remove):p.none}t.eq=h.yv,t.fromOperation=e,t.semigroup={concat:function(e,n){switch(e){case t.Insert:return n===t.Remove?t.Substitution:n;case t.Remove:return n===t.Insert?t.Substitution:n;case t.Substitution:return t.Substitution;default:return(0,d.vE)(e)}}},t.monoid=p.getMonoid(t.semigroup),t.parse=(0,u.Lx)(t.monoid)(e)}(e=t.Type||(t.Type={})),t.eq=h.MW({lengthAffected:h.lr,type:p.getEq(e.eq),ops:(0,u.Eh)(r.eq)}),t.fromRawDelta=(0,c.ls)(O.e.AbsAlternative.unsafeFromDelta,r.fromRawAbsAlternative,i),t.fillGaps=function(e,r){return t.hasOptionalContext(e.ops)?i((0,s.ev)([e.ops[0]],e.ops.slice(1).map(n(r)),!0)):i(e.ops.map(n(r)))},t.dismissTransformGroups=function(e,n){var o=u.DZ((function(t){return(0,l.pipe)(t.group,p.filter((function(t){return n.has(t)})),p.fold((function(){return p.some(t)}),(function(){return function(t){return r.isDelete(t)?p.some({type:t.type,group:t.group,retain:t.delete,attributes:{}}):r.isInsert(t)?p.none:p.some(t)}(t)})))}));if(t.hasOptionalContext(e.ops)){var a=e.ops,c=a[0],f=a.slice(1);return i((0,s.ev)([c],(0,l.pipe)(f,o),!0))}return i((0,l.pipe)(e.ops,o))},t.getTransformGroups=function(t){var e=new Set;return t.ops.forEach((function(t){return(0,l.pipe)(t.group,g.bw((function(t){return e.add(t)})))})),e},t.getDeleteOpsGroupsList=function(t){return(0,l.pipe)(t.ops.filter(r.isDelete),u.UI((function(t){return t.group})),u.oA)},t.create=i,t.validate=(0,c.ls)((function(t){return t.ops}),v.DT(m.sq(r.isOptionalContextRetain),(function(t){return"Optional_context operations exist not only at the beginning or at the end of Delta"}))),function(e){e.fromSerialized=function(e){return{context:e.context,alternatives:(0,l.pipe)(e.alternatives,y.UI((function(t){return t.ops})),y.UI(t.create))}},e.fromSubalerts=function(t,e){return{context:t,alternatives:y.UI((0,c.ls)(r.fromRawAbsAlternative,i))(e)}},e.fromRawTransform=function(t){return{context:y.of(t.context),alternatives:y.UI((0,c.ls)(r.fromRawAbsAlternative,i))(t.alternatives)}},e.rebase=function(t){return function(e){return{context:(0,l.pipe)(e.context,y.UI((function(e){return{s:t.transformPosition(e.s,!0),e:t.transformPosition(e.e,!0)}}))),alternatives:(0,l.pipe)(e.alternatives,y.UI((function(e){return(0,l.pipe)(e.rebase(t),p.fold((function(){return e}),c.yR))})))}}},e.copy=function(t){return{context:y.JG(t.context),alternatives:y.JG(t.alternatives)}}}(t.Group||(t.Group={}));var o=function(){function n(t){this.ops=t,this.type=e.parse(this.ops),this.lengthAffected=w.s.calcAffectedLength(this)}return n.prototype.rebase=function(t){var e=t.ops[0];if(!Boolean(e)||w.s.isRetain(e)&&(void 0===e.attributes||0===Object.keys(e.attributes).length)&&f.i.Op.length(e)>this.lengthAffected)return p.some(this);var n=this.ops.length>=2&&w.s.isDelete(this.ops[this.ops.length-2])&&w.s.isInsert(this.ops[this.ops.length-1]);return!Boolean(e)||n&&w.s.isRetain(e)&&(void 0===e.attributes||0===Object.keys(e.attributes).length)&&f.i.Op.length(e)===this.lengthAffected?p.some(this):this._internalRebase(t)},n.prototype._internalRebase=function(e){for(var i=this,o=f.i.Op.iterator(e.ops),s=new r.Iterator(this.ops),u=p.some(new n([])),a=!1;s.hasNext();)if("insert"===o.peekType()){if(a&&(0,l.pipe)(u,g.wo((function(t){return t.ops[t.ops.length-1].type===r.Type.Main}))))return p.none;var c=f.i.Op.length(o.next()),h=(0,l.pipe)(u,p.map((function(t){return t.ops[t.ops.length-1]})),g.MH);if(a&&g.wo((function(t){return t.lengthAffected>0}))(u)){var d={retain:c,type:h.type,group:h.group,attributes:"attributes"in h&&!r.isOptionalContextType(h.type)?h.attributes:{}};u=n._pushOp(u,d)}else u=n._pushOp(u,{retain:c,type:r.Type.Optional,group:p.none,attributes:{}})}else if("insert"===s.peekType()){var v=s.next();if(v.type===r.Type.Main&&"delete"===o.peekType()&&o.offset>0)return p.none;u=n._pushOp(u,v)}else{var m=Math.min(o.peekLength(),s.peekLength()),y=o.next(m),b=s.next(m);w.s.isDelete(y)||(a=s.offset>0,u=n._pushOp(u,r.isDelete(b)?b:r.isOptionalContextType(b.type)?{retain:m,type:r.TypeExt.OptionalContext,group:p.none}:{retain:m,type:b.type,group:b.group,attributes:b.attributes}))}return(0,l.pipe)(u,p.map((function(e){return e.type=t.Type.parse(i.ops),e})))},n._pushOp=function(t,e){return(0,l.pipe)(t,p.chain((function(t){return(0,l.pipe)(b.vM((function(){return t._push(e)})),v.Vn((function(t){return x.C8.Logging.getLogger("Alternative").error("Alternative push error",t),t})),p.fromEither)})))},n.prototype._push=function(t){var e=this.ops.length,n=this.ops[e-1];if(Boolean(n)){if(r.isOptionalContextRetain(t))return r.isOptionalContextRetain(n)?n.retain+=t.retain:r.isRetain(n)&&e<=2?2===e?((0,d.kG)(r.isOptionalContextRetain(this.ops[0]),"OptionalContext is expected in the beginning of alternative but not found",JSON.stringify({ops:this.ops,newOp:t,index:e})),this.ops[0].retain+=t.retain):(this.ops[e]=n,this.ops[e-1]=t):(0,d.kG)(r.isOptionalContextRetain(n)||r.isRetain(n)&&1===e,"Attempted to push optional_context in the middle of alternative ops",JSON.stringify({ops:this.ops,newOp:t,index:e})),this.lengthAffected+=t.retain,this;if(r.isDelete(t)&&r.isDelete(n))return t.type===n.type?n.delete+=t.delete:this.ops.push(t),this.lengthAffected+=t.delete,this;if(r.isInsert(t)&&r.isInsert(n))return t.type===n.type&&"string"==typeof t.insert&&"string"==typeof n.insert&&r.eqAttributes.equals(t.attributes,n.attributes)?n.insert+=t.insert:this.ops.push(t),this;if(r.isRetain(t)&&r.isRetain(n))return t.type===n.type?n.retain+=t.retain:this.ops.push(t),this.lengthAffected+=t.retain,this;this.ops.push(t)}else this.ops=[t];return r.isInsert(t)||(this.lengthAffected+=r.length(t)),this},Object.defineProperty(n.prototype,"delta",{get:function(){return w.s.normalizeDelta(new f.i(this))},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return{ops:this.ops}},n}();t.compose=function(t,e){var n={composedDelta:new f.i,currentFullText:e,reversedAlternatives:[]},r=t.reduce((function(t,e,n){var r=e[0],i=e[1];return(0,l.pipe)(r.rebase(t.composedDelta),p.fold((function(){t.reversedAlternatives.push(v.t$({error:new Error("Could not rebase alternative to composed delta"),delta:r.delta,alternativeIndex:n}))}),(function(e){var r=i({alternative:e,fullText:t.currentFullText});t.composedDelta=t.composedDelta.compose(e.delta),t.currentFullText=t.currentFullText.compose(e.delta),function(t,e){t.forEach((function(n,r){return(0,l.pipe)(n,v.g_(c.Q1,(function(n){t[r]=(0,l.pipe)(n.reversedAlternative.rebase(e.delta),v.Yo((function(){return{error:new Error("Could not rebase reversed alternative to some alternative"),delta:n.reversedAlternative.delta,alternativeIndex:n.alternativeIndex}})),v.UI((function(t){return(0,s.pi)((0,s.pi)({},n),{reversedAlternative:t})})))})))}))}(t.reversedAlternatives,e),t.reversedAlternatives.push(v.F2({reversedAlternative:r,alternativeIndex:n}))}))),t}),n),i=(0,l.pipe)(r.reversedAlternatives,u.oh,_.T.fromSeparatedArray);return(0,s.pi)((0,s.pi)({},r),{reversedAlternatives:i})},t.withoutOptionalOps=function(e){return t.create(e.filter((function(t){return!r.isOptionalType(t.type)})))}}(o||(o={}))},63513:(t,e,n)=>{n.d(e,{lB:()=>b,PZ:()=>O,DI:()=>E,_l:()=>M,Q1:()=>D,F2:()=>g,_Y:()=>N,VD:()=>P,hD:()=>ut,rP:()=>V,JG:()=>v,vv:()=>ot,H5:()=>h,P2:()=>I,y_:()=>T,fA:()=>A,Wk:()=>w,e3:()=>B,nw:()=>U,Kd:()=>L,KX:()=>S,JW:()=>d,Mw:()=>R,N_:()=>q,wQ:()=>_,Vm:()=>y,JE:()=>j,at:()=>k,KI:()=>C});var r={};n.r(r),n.d(r,{ErrorKind:()=>i,MessageStartSessionEntryPoint:()=>o});var i,o,s=n(59312),u=n(71249),a=n(57050),c=n(40327),l=n(69243);!function(t){t.Overflow="overflow",t.PromptsLimitExceeded="promptsLimitExceeded",t.SensitiveContent="sensitiveContent"}(i||(i={})),function(t){t.Ideation="ideation",t.QuickReply="quickReply",t.QuickRewrite="quickRewrite",t.Rewrite="rewrite"}(o||(o={}));var f,h,p,d,g,v,m,y,b,_,x,w,O,I,E,S,T,A,C,k,R,P,N,D,j,M,L,U,B,V,q,H=n(5114),W=n(26328),z=n(55415),G=n(89943),F=n(8125),Z=n(95574),Y=n(3893),J=n(95195),K=n(83078),Q=n(22232),X=n(42040),$=n(36991),tt=n(8709),et=n(67394),nt=n(80800),rt=n(52226);f||(f={}),function(t){t.empty=[],t.isLeaf=function(t){return 0===t.length},t.Tree=l.sH("Tree",(function(){return l.IX(l.bc([l.pk,t.Tree]))}))}(h||(h={})),function(t){!function(t){t.sales_crm="sales_crm",t.sales_engagement="sales_engagement",t.sales_enablement="sales_enablement",t.marketing_email_automation="marketing_email_automation",t.marketing_content="marketing_content",t.customer_service="customer_service",t.customer_surveys_surveys="customer_surveys_surveys",t.recruiting="recruiting",t.training_learning="training_learning",t.project_management="project_management",t.legal="legal",t.contractors="contractors",t.human_resources="human_resources",t.email="email",t.business_chat="business_chat"}(t.DomainCategory||(t.DomainCategory={}))}(p||(p={})),function(t){!function(t){t.InQuotes="InQuotes"}(t.SpecialCategory||(t.SpecialCategory={})),function(t){t.GLOBAL="GLOBAL",t.SESSION="SESSION",t.DOCUMENT="DOCUMENT"}(t.ScopeType||(t.ScopeType={})),function(t){t.MUTED_BY_USER="MUTED_BY_USER",t.NOT_ELIGIBLE_FOR_INLINE="NOT_ELIGIBLE_FOR_INLINE",t.NOT_MUTED="NOT_MUTED"}(t.MutedByType||(t.MutedByType={}))}(d||(d={})),function(t){!function(t){t.NOT_RELEVANT="NOT_RELEVANT",t.WRONG_TONE="WRONG_TONE",t.INCORRECT="INCORRECT",t.WRONG_GRAMMAR="WRONG_GRAMMAR",t.OFFENSIVE="OFFENSIVE",t.OTHER="OTHER"}(t.SuggestionRejectionReason||(t.SuggestionRejectionReason={}))}(g||(g={})),function(t){t.mock={bundle:"Test bundle",bundleRank:10,group:"Test Group",rank:1,outcome:"Correctness"}}(v||(v={})),function(t){function e(t){return function(e){return{s:t.s+e.s,e:t.s+e.e,type:e.type}}}function n(t,e){return void 0===e&&(e=!1),0===t.s?a.MZ:function(n){return(0,a.MZ)({ops:(0,s.ev)([{retain:t.s,attributes:e?void 0:{type:rt.e.Edit.TypeExt.OPTIONAL_CONTEXT}}],n.ops,!0)})}}t.prependContextToHighlight=e,t.prependContext=n,t.toAbs=function(t){return b.create({highlights:t.highlights.map(e(t.context)),alternatives:(0,c.pipe)(t,H.fromPredicate((function(t){return void 0!==t.alternatives&&t.alternatives.length>0})),H.map((function(t){return(0,s.pi)((0,s.pi)({},t),{alternatives:W.UI(n(t.context))(t.alternatives)})})),H.map(et.r3.Group.fromRawTransform))})}}(m||(m={})),function(t){var e,n;!function(t){t.create=function(t){return t.toString()}}(e=t.Id||(t.Id={})),function(t){t.rebase=function(t,e){var n=e.transformPosition(t.begin,!0),r=e.transformPosition(t.end,!0),i=(new tt.i).insert(t.text).compose(e.slice(t.begin)).reduce((function(t,e){return $.s.isInsert(e)?"".concat(t).concat(e.insert):t}),"").slice(0,r-n);return(0,s.pi)((0,s.pi)({},t),{begin:n,end:r,text:i})},t.isSquashed=function(t){return t.begin>=t.end},t.fromAttentionHeatmapMessage=function(t){return(0,s.pi)((0,s.pi)({},t),{id:e.create(t.id)})}}(n=t.Range||(t.Range={})),t.fromAttentionHeatmapMessage=function(t){return(0,s.pi)((0,s.pi)({},t),{add:t.add.map(n.fromAttentionHeatmapMessage),update:t.update.map(n.fromAttentionHeatmapMessage),remove:t.remove.map(e.create),attentionScore:(0,c.pipe)(t,H.fromPredicate(nt.v0.AttentionHeatmap.hasAttentionInfo),H.map(z.ei("attentionScore"))),showAttentionCard:(0,c.pipe)(t,H.fromPredicate(nt.v0.AttentionHeatmap.hasAttentionInfo),H.map(z.ei("showAttentionCard")))})}}(y||(y={})),function(t){t.create=function(t){return t},t.isSquashed=function(t){return t.highlights.some(rt.e.Range.isEmpty)},t.isValidAfterTransform=function(t,n){var r=e(t),i=e(n);return Boolean(G.Hx(r.highlights,i.highlights,(function(t,e){return t.e-t.s==e.e-e.s})))&&G.Hx(r.alternatives,i.alternatives,(function(t,e){return G.Hx(t.ops.filter((0,F.ff)($.s.isRetain)),e.ops.filter((0,F.ff)($.s.isRetain)),$.s.isEqual((function(){return!0})))}))},t.rebase=function(e,n){return t.create({highlights:e.highlights.map((function(t){return{s:n.transformPosition(t.s,!0),e:n.transformPosition(t.e,!0),type:t.type}})),alternatives:(0,c.pipe)(e.alternatives,H.map(et.r3.Group.rebase(n)))})};var e=function(t){return{highlights:t.highlights,alternatives:(0,c.pipe)(t.alternatives,H.fold((function(){return[]}),(function(t){return t.alternatives.map((function(t){return t.delta}))})))}}}(b||(b={})),function(t){var e,n,r;function i(t){return void 0===t.drilldownTree&&void 0===t.knowledgeHubSuggestCorrectionUrl&&void 0===t.knowledgeHubRelatedMaterials&&void 0===t.knowledgeHubPointPeople?t:(0,s.pi)((0,s.pi)({},t),{drilldownTree:void 0===t.drilldownTree?void 0:(0,c.pipe)(t.drilldownTree,(function(t){return"object"==typeof t?t:JSON.parse(t)}),h.Tree.decode,Z.MH),knowledgeHubRelatedMaterials:void 0===t.knowledgeHubRelatedMaterials?void 0:"object"==typeof t.knowledgeHubRelatedMaterials?t.knowledgeHubRelatedMaterials:JSON.parse(t.knowledgeHubRelatedMaterials),knowledgeHubPointPeople:void 0===t.knowledgeHubPointPeople?void 0:"object"==typeof t.knowledgeHubPointPeople?t.knowledgeHubPointPeople:JSON.parse(t.knowledgeHubPointPeople)})}function o(t,e){(0,c.pipe)(t.ops,u.Ew((function(t){return $.s.isInsert(t)&&(0,c.pipe)($.s.getAttr(t,"type"),H.exists((function(t){return t===rt.e.Edit.Type.MAIN})))&&"string"==typeof t.insert})),H.map((function(t){var n=t.insert;return e(n)})))}function a(t){return function(e){return e===d.SpecialCategory.InQuotes&&"true"===t.extra_properties.in_quotes}}function l(t){return!p(t)&&!g(t)}function f(t){return void 0!==t.begin&&void 0!==t.end&&void 0!==t.highlightBegin&&void 0!==t.highlightEnd}function p(t){return void 0!==t.cardLayout&&void 0!==t.transformJson}function g(t){return"labels"in t&&"subalerts"in t}function v(t,e,n,r){return l(t)?e(t):p(t)?n(t):r(t)}!function(t){t.create=function(t){return t.toString()}}(t.Id||(t.Id={})),function(t){t.Critical="critical",t.Advanced="advanced"}(e=t.Impact||(t.Impact={})),function(t){t.all="all",t.priority="priority"}(n=t.View||(t.View={})),function(t){t.inline="inline",t.not_inline="not_inline"}(r=t.Inline||(t.Inline={})),t.parseExtraProperties=i,t.fromAlertMessage=function(e){return Object.assign({},e,(0,s.pi)({id:t.Id.create(e.id),cost:Boolean(e.cost)?e.cost:1,extra_properties:i(e.extra_properties)},e.transformJson?{transformJson:m.toAbs(e.transformJson),highlightText:[e.highlightText]}:(0,c.pipe)(Y.kP(e.subalerts),H.fold((function(){return{highlightText:[e.highlightText]}}),(function(t){return(0,c.pipe)(function(t,e){return(0,c.pipe)(e,H.fold((function(){return J.t$(new Error("Got corrupted superalert  the labels are missing"))}),(function(e){return function(t,e){if(t.length<2)return J.t$(new Error("There should be more than one subalert, got "+t.length));var n=e.map((function(t){return{matches:0,replacements:new Set,label:t}})),r=n.reduce((function(t,e){return t[e.label]=e,t}),{}),i=Y.kP(t[0].transformJson.alternatives);if(n.length>0&&Boolean(H.isNone(i))||!Boolean((0,c.pipe)(i,K.wo((function(t){return n.length===t.length})))))return J.t$(new Error("Alternatives array length must match labels array length"));for(var u=(0,c.pipe)(i,H.map(W.Su((function(e,r){return o(r,(function(t){return n[e].replacements.add(t)})),m.prependContext(t[0].transformJson.context)(r)}))),H.map((function(e){return r[t[0].label].matches+=1,[W.of(t[0].transformJson.context),e]}))),a=t[0].transformJson.highlights.map(m.prependContextToHighlight(t[0].transformJson.context)),l=[t[0].highlightText],f=function(e){var i=t[e];if(n.length>0){if(void 0===i.transformJson.alternatives)return{value:J.t$(new Error("The alternatives are missing from subalert, expected length: ".concat(n.length)))};if(i.transformJson.alternatives.length!==n.length)return{value:J.t$(new Error("Subalert has incorrect alternatives length: expected ".concat(n.length,", got ").concat(i.transformJson.alternatives.length)))}}u=(0,c.pipe)(u,H.map((function(t){var e=t[0],s=t[1];r[i.label].matches+=1,e.push(i.transformJson.context);for(var u=function(t){var e=i.transformJson.alternatives[t];o(e,(function(e){return n[t].replacements.add(e)})),s[t]=(0,c.pipe)(new tt.i(s[t]),(function(t){return t.compose(t.transform(new tt.i(m.prependContext(i.transformJson.context,!0)(e)),!0))}),rt.e.AbsAlternative.unsafeFromDelta)},a=0;a<s.length;a++)u(a);return[e,s]}))),a.push.apply(a,i.transformJson.highlights.map(m.prependContextToHighlight(i.transformJson.context))),l.push(i.highlightText)},h=1;h<t.length;h++){var p=f(h);if("object"==typeof p)return p.value}return J.F2({subalerts:b.create({alternatives:(0,c.pipe)(u,H.map((function(t){var e=t[0],n=t[1];return et.r3.Group.fromSubalerts(e,n)}))),highlights:a}),labels:n.map((function(t){var e=t.replacements,n=(0,s._T)(t,["replacements"]);return(0,s.pi)((0,s.pi)({},n),{replacementTexts:Array.from(e)})})),highlightText:l})}(t,e)})))}(t,H.fromNullable(e.labels)),J.fS((function(t){return X.C8.Logging.getLogger("coreclients.capi.data").error("Error repacking superalert",t),{highlightText:[]}})))})))))},t.isFullSentence=function(t){return"true"===t.full_sentence_rewrite||"true"===t.full_sentence_fluency_rewrite},t.belongsToAnySpecialCategory=function(t){var e=a(t);return-1!==Object.values(d.SpecialCategory).findIndex(e)},t.belongsToSpecialCategory=a,t.withPosition=l,t.hasPosition=f,t.withTransformJson=p,t.withAlternatives=function(t){return p(t)&&H.isSome(t.transformJson.alternatives)},t.withSubalerts=g,t.match=v,t.matchBy=function(t,e,n){return function(r){return v(r,t,e,n)}},function(t){function e(t){return t.end-t.begin}function n(t){return t.highlightEnd-t.highlightBegin}t.shift=function(t,e){return{begin:t.begin+e,end:t.end+e,highlightBegin:t.highlightBegin+e,highlightEnd:t.highlightEnd+e}},t.rebase=function(t,e){return{begin:e.transformPosition(t.begin,!0),end:e.transformPosition(t.end,!0),highlightBegin:e.transformPosition(t.highlightBegin,!0),highlightEnd:e.transformPosition(t.highlightEnd,!0)}},t.getReplacementLength=e,t.getHighlightLength=n,t.isSquashed=function(t){return 0===e(t)||0===n(t)},t.hasEqualLength=function(t,r){return e(t)===e(r)&&n(t)===n(r)}}(t.Position||(t.Position={})),t.isPlagiarism=function(t){return void 0!==t.cardLayout&&"Originality"===t.cardLayout.outcome},t.isOneGap=function(t){return void 0!==t.extra_properties&&"gap_transform"in t.extra_properties},t.isTakeaway=function(t){return void 0!==t.extra_properties&&"takeawayScore"in t.extra_properties},t.hasDrilldownTree=function(t){return void 0!==t.extra_properties&&"drilldownTree"in t.extra_properties},t.isShortenIt=function(t){return void 0!==t.extra_properties&&"shorten_it"in t.extra_properties},t.isToneAI=function(t){return void 0!==t.extra_properties&&"tone_slider"in t.extra_properties},t.isEthicalAI=function(t){return void 0!==t.extra_properties&&"ethical_ai_external_link"in t.extra_properties},t.isCitationDetection=function(t){return void 0!==t.extra_properties&&"citation_detection"in t.extra_properties},t.isSuggestedSnippet=function(t){return void 0!==t.extra_properties&&"suggested_snippet_text"in t.extra_properties&&"suggested_snippet_lib_link"in t.extra_properties},t.isHidden=function(t){return!0===t.hidden},t.isRawAlert=function(t){if(!Boolean(t))return!1;var e=t;return Number.isInteger(e.rev)&&v(e,(function(t){return Number.isInteger(t.begin)&&Number.isInteger(t.end)&&Number.isInteger(t.highlightBegin)&&Number.isInteger(t.highlightEnd)}),(function(t){return t.transformJson.highlights.length>0}),(function(t){return t.labels.length>0}))},t.mock={id:t.Id.create(""),rev:0,pname:"Spelling/BritishVsAmerican/BrInstOfAm/BrInstOfAm",group:"ContextualSpelling",point:"BrInstOfAm",category:"BritishVsAmerican",categoryHuman:"British vs American",hidden:!1,text:"centralise",todo:"correct",minicardTitle:"correct",title:"Inconsistent spelling",cost:1,transforms:["<span class='gr_grammar_del'>centralise</span><span class='gr_grammar_ins'>centralize</span>"],details:"<p>One of&nbsp;the most obvious differences between American and British English is&nbsp;the spelling of&nbsp;certain words such as&nbsp;<b>color/colour, learned/learnt,</b> and <b>toward/towards</b>. Typically, the spelling of&nbsp;words like these only varies by&nbsp;one or&nbsp;two letters. In&nbsp;the interest of&nbsp;consistency and clarity, you should use the spelling that will be&nbsp;more familiar to&nbsp;your intended audience.\n",explanation:"<p>The word <b>centralise</b> is&nbsp;a&nbsp;British English spelling. In&nbsp;the interest of&nbsp;consistency, consider replacing it&nbsp;with the American English spelling.\n",examples:'<p><span class="grey">British: I&nbsp;wish you success in&nbsp;all your endeavours.</span><br/><span class="grey">American: I&nbsp;wish you success in&nbsp;all your endeavors.</span><br/><p><span class="grey">British: Sweet yoghurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><span class="grey">American: Sweet yogurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><p><span class="grey">British: Serena moved towards the blinking light.</span><br/><span class="grey">American: Serena moved toward the blinking light.</span><br/>',free:!0,impact:t.Impact.Critical,highlightBegin:5092,highlightEnd:5102,highlightText:[""],begin:5092,end:5102,replacements:["centralize"],extra_properties:{priority:"2"},cardLayout:{bundle:"Fix spelling and grammar",bundleRank:10,group:"Spelling",rank:10,outcome:"Correctness"},transformJson:b.create({highlights:[{s:5092,e:5102}],alternatives:H.none}),view:n.all,inline:r.inline},t.mockPlagiarism={id:t.Id.create(""),rev:0,transforms:[],title:"Citation audit",cost:1,details:"",explanation:"",examples:"",free:!1,impact:t.Impact.Advanced,hidden:!1,todo:"",minicardTitle:"",cardLayout:{bundle:"Plagiarism",bundleRank:10,group:"Unoriginal content",rank:0,outcome:"Originality"},category:"Plagiarism",categoryHuman:"Unoriginal content",begin:156,end:697,text:"",group:"Plagiarism",pname:"Plagiarism/Plagiarism/UnoriginalContent",point:"UnoriginalContent",highlightBegin:156,highlightEnd:697,highlightText:[""],replacements:[],extra_properties:{},transformJson:b.create({highlights:[{s:1,e:40}],alternatives:H.none}),view:n.all,inline:r.not_inline},t.mockWithSubalerts={id:t.Id.create(""),point:"Capitalization",title:"Inconsistent capitalization",details:"<p>For certain words, capitalization preferences can vary between style guides. <i>Internet</i> was once routinely capitalized, for example. However, in recent years many style guides have begun advising writers to lowercase the word: <i>internet</i>. Whether you choose to capitalize a particular term or not, its best to choose one style and use it consistently throughout the same document.\n",explanation:"<p>You wrote <b>Country</b> once and <b>country</b> twice. Both spellings are acceptable, but its best not to switch back and forth. Choose whether or not to capitalize this word throughout your text.\n",examples:'<p><span class="grey">Inconsistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>Internet</b>, too.</span><br/>',todo:"capitalize consistently",minicardTitle:"capitalize consistently",free:!1,hidden:!1,labels:[{label:"Country",matches:1,replacementTexts:["Country"]},{label:"country",matches:2,replacementTexts:["country"]}],highlightText:["Country","country"],cost:1,subalerts:b.create({highlights:[{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],alternatives:H.some(et.r3.Group.fromSubalerts([{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],[rt.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:rt.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:rt.e.Edit.Type.MAIN}},{insert:"Country",attributes:{type:rt.e.Edit.Type.MAIN}}]}),rt.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:rt.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:rt.e.Edit.Type.MAIN}},{insert:"country",attributes:{type:rt.e.Edit.Type.MAIN}}]})]))}),category:"Inconsistency",text:"",group:"Style",pname:"Style/Inconsistency/Capitalization/Capitalization",rev:0,replacements:[],impact:e.Advanced,extra_properties:{priority:"4"},cardLayout:{bundle:"Keep your style consistent",bundleRank:10,group:"Consistency",rank:160,outcome:"Correctness"},categoryHuman:"Text Inconsistencies",updatable:!0,view:n.all,inline:r.not_inline},t.clearUserTextFields=function(t){var e=t;return e.text,e.replacements,e.highlightText,e.transformJson,e.transforms,e.details,e.explanation,e.examples,(0,s._T)(e,["text","replacements","highlightText","transformJson","transforms","details","explanation","examples"])},t.unsafeGetPosition=function(t){return(0,Q.kG)(f(t),"raw alert should have a position"),t},t.unsafeGetTransformJson=function(t){return(0,Q.kG)(p(t),"raw alert should have transformJson"),t}}(_||(_={})),function(t){t.NOT_AUTHORIZED="not_authorized",t.SESSION_NOT_INITIALIZED="session_not_initialized",t.BAD_REQUEST="bad_request",t.BACKEND_ERROR="backend_error",t.AUTH_ERROR="auth_error",t.RUNTIME_ERROR="runtime_error",t.ILLEGAL_DICT_WORD="illegal_dict_word",t.TIMEOUT="timeout",t.CANNOT_FIND_SYNONYM="cannot_find_synonym",t.CANNOT_GET_TEXT_STATS="cannot_get_text_stats",t.GB_RULE_ERROR="gb_rule_error"}(x||(x={})),function(t){t[t.INFO=0]="INFO",t[t.WARN=1]="WARN",t[t.ERROR=2]="ERROR"}(w||(w={})),function(t){t.IGNORE="IGNORE",t.ADD_TO_DICTIONARY="ADD_TO_DICTIONARY",t.LOOKED="LOOKED",t.ACCEPTED="ACCEPTED",t.CLOSED="CLOSED",t.ACKNOWLEDGED="ACKNOWLEDGED",t.HIDE="HIDE",t.LIKE="LIKE",t.DISLIKE="DISLIKE",t.WRONG_SUGGESTION="WRONG_SUGGESTION",t.OFFENSIVE_CONTENT="OFFENSIVE_CONTENT",t.EXPANDED="EXPANDED",t.IGNORE_BULK_ACCEPTED="IGNORE_BULK_ACCEPTED"}(O||(O={})),function(t){t.DRILLDOWN="DRILLDOWN"}(I||(I={})),function(t){t.BULK_ACCEPTED="BULK_ACCEPTED"}(E||(E={})),function(t){t.LENS_CLOSE="LENS_CLOSE",t.LENS_OPEN="LENS_OPEN",t.DISMISS_BY_LENS="DISMISS_BY_LENS"}(S||(S={})),function(t){t.EMOTION_LIKE="EMOTION_LIKE",t.EMOTION_DISLIKE="EMOTION_DISLIKE",t.EMOTION_OFFENSIVE="EMOTION_OFFENSIVE"}(T||(T={})),function(t){t.EMOTION_SENTENCE_LIKE="EMOTION_SENTENCE_LIKE",t.EMOTION_SENTENCE_DISLIKE="EMOTION_SENTENCE_DISLIKE"}(A||(A={})),function(t){t.RECHECK_SHOWN="RECHECK_SHOWN"}(C||(C={})),function(t){t.SYNONYM_ACCEPTED="SYNONYM_ACCEPTED",t.SYNONYM_DISMISSED="SYNONYM_DISMISSED"}(k||(k={})),function(t){t.MUTE="MUTE",t.UNMUTE="UNMUTE"}(R||(R={})),function(t){t.AUTOCORRECT_ACCEPT="AUTOCORRECT_ACCEPT",t.AUTOCORRECT_DISMISS="AUTOCORRECT_DISMISS",t.AUTOCORRECT_REPLACE="AUTOCORRECT_REPLACE"}(P||(P={})),function(t){t.COMPLETION_SHOWN="COMPLETION_SHOWN",t.COMPLETION_IGNORED="COMPLETION_IGNORED",t.COMPLETION_ACCEPTED="COMPLETION_ACCEPTED",t.COMPLETION_REJECTED="COMPLETION_REJECTED"}(N||(N={})),function(t){t.AUTOAPPLY_TRIGGERED="AUTOAPPLY_TRIGGERED",t.AUTOAPPLY_LOOKED="AUTOAPPLY_LOOKED",t.AUTOAPPLY_REVERTED="AUTOAPPLY_REVERTED"}(D||(D={})),function(t){t.SNIPPET_ACCEPTED="SNIPPET_ACCEPTED"}(j||(j={})),function(t){t.ASSISTANT_OPENED="ASSISTANT_OPENED"}(M||(M={})),function(t){t.ACCEPTED="ACCEPTED",t.DISMISSED="DISMISSED"}(L||(L={})),function(t){t.willRemoveAlert=function(t){return t===O.IGNORE||t===O.OFFENSIVE_CONTENT||t===O.WRONG_SUGGESTION||t===O.ADD_TO_DICTIONARY||t===O.LIKE||t===O.DISLIKE||t===O.ACKNOWLEDGED||t===O.HIDE}}(U||(U={})),function(t){t.Inline="inline",t.Hover="hover",t.Click="click",t.SidebarPriority="sidebar-priority",t.Sidebar="sidebar"}(B||(B={})),function(t){t.Context="context",t.GnarContainerId="gnar_containerId"}(V||(V={})),function(t){t.likelyToBeReadTakeaway="LikelyToRead",t.unlikelyToBeReadTakeaway="NotLikelyToRead"}(q||(q={}));var it,ot,st,ut=300;!function(t){t.generatePoints=function(t,e,n){var r=function(t,e){return Math.max(Math.trunc(t/e),(0,F.TN)(t))};return G.j6(r(t,2),(function(t){return G.j6(r(e,3),(function(e){return{value:Math.random()*n,alertIds:[],footprint:"".concat(100*t+e)}}))}))}}(it||(it={})),function(t){t.version="10.2.0",t.Schema=r}(ot||(ot={})),function(t){!function(t){t.create=function(t){return t.toString()}}(t.Id||(t.Id={}))}(st||(st={}))},80358:(t,e,n)=>{var r,i,o;n.d(e,{AF:()=>r,hX:()=>o,ld:()=>i}),function(t){t.NotFixed="NOT_FIXED"}(r||(r={})),function(t){t.isCheetahEvent=function(t){return"cheetah:chunk"===t.kind||"cheetah:result"===t.kind||"cheetah:setContext"===t.kind},t.isCheetahAck=function(t){return"cheetah:ack"===t.kind}}(i||(i={})),function(t){t.is=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.some((function(t){return t===e.kind}))}},t.isUserFeedbackWithGeneralScore=function(t){var e;return Boolean(null===(e=t.outcomeScores)||void 0===e?void 0:e.GeneralScore)},t.isUserFeedbackWithScoreStatus=function(t){return Boolean(t.scoreStatus)}}(o||(o={}))},52226:(t,e,n)=>{n.d(e,{e:()=>r});var r,i=n(59312),o=n(57050),s=n(95195),u=n(5114),a=n(36991);!function(t){var e;!function(t){t.isEmpty=function(t){return t.e-t.s==0}}(t.Range||(t.Range={})),function(t){!function(t){t.MAIN="main",t.IMPORTANT="important"}(t.Type||(t.Type={})),function(t){t.OPTIONAL_CONTEXT="optional_context"}(t.TypeExt||(t.TypeExt={}))}(e=t.Edit||(t.Edit={})),function(t){function n(t){return(0,o.zG)(t.ops,u.fromPredicate((function(t){return-1===t.findIndex(n)})),u.fold((function(){return s.t$({ops:(e=t.ops,e.reduce((function(t,e,r){if(n(e,r)){var o=e.attributes,s=(o.type,(0,i._T)(o,["type"]));t.push((0,i.pi)((0,i.pi)({},e),{attributes:s}))}else t.push(e);return t}),[]))});var e}),(function(t){return s.F2({ops:t})})));function n(t,n){return n>0&&a.s.isRetain(t)&&void 0!==t.attributes&&t.attributes.type===e.TypeExt.OPTIONAL_CONTEXT}}t.unsafeFromDelta=function(t){return(0,o.zG)(t,n,s.g_(o.yR,o.yR))},t.fromDelta=n}(t.AbsAlternative||(t.AbsAlternative={}))}(r||(r={}))},36925:(t,e,n)=>{n.d(e,{E:()=>b,uY:()=>p});var r=n(59312),i=n(95195),o=n(45614),s=n(40327),u=n(69243),a=n(32687),c=n(55415),l=n(22232),f=n(99596),h=n(24153);function p(t){return"null"===t||"undefined"===t||null==t}function d(t){if(null===t||"null"===t||"boolean"==typeof t)return null;var e=Number(t);return Number.isNaN(e)?null:e}function g(t){return p(t)?null:"true"===t||"false"!==t&&"0"!==t&&Boolean(t)}function v(t){try{return JSON.parse(decodeURI(t))}catch(t){return null}}function m(t){try{return new Set(v(t))}catch(t){return null}}function y(t){try{return Object.entries(v(t)).reduce((function(t,e){var n=e[0],r=e[1];return t.set(n,r),t}),new Map)}catch(t){return null}}var b,_=function(){function t(t){this._value=t}return t.prototype.getStr=function(){return p(this._value)?null:String(this._value)},t.prototype.getNum=function(){return d(this._value)},t.prototype.getBool=function(){return g(this._value)},t.prototype.getBoolOrDefault=function(t){return function(t,e){return p(t)?e:"true"===t||"false"!==t&&"0"!==t&&Boolean(t)}(this._value,t)},t.prototype.getObject=function(){return v(this._value)},t.prototype.getArray=function(){return v(this._value)},t.prototype.getSet=function(){return m(this._value)},t.prototype.getMap=function(){return y(this._value)},t.prototype.getObjProp=function(t){return Boolean(this._value.hasOwnProperty(t))?this._value[t]:null},t}();!function(t){function e(t){return"object"==typeof t?(0,s.pipe)(JSON.stringify(t,(function(t,e){return e instanceof Set?Array.from(e):e instanceof Map?c.sq(e):e})),encodeURI):t}t.find=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.find((function(e){return e.has(t)}));return new _(r&&r[t])},t.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=new w,i=0,o=t;i<o.length;i++){var s=o[i];for(var u in s){var a=s[u];r[u]=e(a)}}return r},t.is=function(t){return t instanceof w}}(b||(b={}));var x,w=function(){function t(){}return t.prototype.getStr=function(t){return this.hasOwnProperty(t)?String(this[t]):null},t.prototype.getNum=function(t){return this.hasOwnProperty(t)?d(this[t]):null},t.prototype.getBool=function(t){return this.hasOwnProperty(t)?g(this[t]):null},t.prototype.getObject=function(t){return this.hasOwnProperty(t)?v(this[t]):null},t.prototype.getSet=function(t){return this.hasOwnProperty(t)?m(this[t]):null},t.prototype.getMap=function(t){return this.hasOwnProperty(t)?y(this[t]):null},t.prototype.has=function(t){return this.hasOwnProperty(t)},t.prototype.ifPresent=function(t,e){Boolean(this[t])&&e(this[t])},t.prototype.entries=function(){var t=this;return Object.keys(this).map((function(e){return[e,new _(t[e])]}))},t.find=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.find((function(e){return e.has(t)}));return new _(r&&r[t])},t}(),O=function(t){function e(e,n){var r=t.call(this,e)||this;return r.message=e,r.details=n,r.name="DapiPropertiesSerializationError",r}return(0,r.ZT)(e,t),e.prototype.toString=function(){return"DAPI properties serialization error\n      Message ".concat(this.message,"\n      Details ").concat(a.Rn(this.details))},e}(l.sH);function I(t){return x.fromProperties(t).decode(t)}function E(t){return new O("Serialization failed",t)}!function(t){var e=["{","}",";","="];t.property=new u.Dy("property",(function(t){return!0}),(function(t,n){var r=n[1].key,i=String(t);return i.length>1024?u.Rn(t,n,"Property ".concat(r," is too long (max length is ").concat(1024,")")):e.some((function(t){return i.indexOf(t)>=0}))?u.Rn(t,n,"Property ".concat(r," has forbidden characters (").concat(e.join(", "),")")):u.Vp(t)}),u.yR),t.fromProperties=function(e){return u.dt((0,s.pipe)(e,o.hX((function(t){return"function"!=typeof t})),o.UI((function(e){return t.property}))))}}(x||(x={}));!function(){function t(t,e,n){this._fingerprints=n,this._endpoints={props:"props/v2",mimic:"mimic"},this._url=f.cl.join(t,"api"),this._ajax=e({requestExtender:h.d3.toHeaderAppender(this._fingerprints)})}t.prototype.load=function(){return(0,s.pipe)(this._ajax.json(f.cl.get(this._url,this._endpoints.props)),this._ajax.map(b.of))},t.prototype.get=function(t){return(0,s.pipe)(this._ajax.text(f.cl.get(this._url,this._endpoints.props,t)),this._ajax.map((function(e){var n;return b.of(((n={})[t]=e||null,n))})))},t.prototype.save=function(t){var e=this;return(0,s.pipe)(t,I,i.Vn(E),i.g_(this._ajax.throwError,this._ajax.of),this._ajax.map((function(t){return f.cl.post(e._url,e._endpoints.props).json(t)})),this._ajax.chain(this._ajax.empty))},t.prototype.getMimic=function(t){return this._ajax.json(f.cl.get(this._url,this._endpoints.mimic).cookie("gnar_containerId",t))},t.prototype.getMimicWithProps=function(t){return(0,s.pipe)(this._ajax.json(f.cl.get(this._url,this._endpoints.mimic,"withProps").cookie("gnar_containerId",t)),this._ajax.map((function(t){var e=t.groups,n=t.properties;return{experiments:new Set(e),properties:b.of(n)}})))},t.targetTag="dapi"}()},36991:(t,e,n)=>{n.d(e,{s:()=>r});var r,i=n(57050),o=n(40327),s=n(8709),u=n(5114),a=n(8125),c=n(73975),l=n(89943),f=n(55415),h=n(26328);!function(t){t.isInsert=function(t){return"insert"in t},t.isInsertString=function(e){return t.isInsert(e)&&"string"==typeof e.insert},t.isInsertEmbed=function(e){return t.isInsert(e)&&!t.isInsertString(e)},t.isDelete=function(t){return"delete"in t},t.isRetain=function(t){return"retain"in t},t.containsInsertsOnly=function(e){return e.ops.every(t.isInsert)},t.getInsertLength=s.i.Op.length,t.getTrimmedInsertLength=function(e){return t.isInsertString(e)?e.insert.trim().length:1},t.match=function(e,n,r){return function(i){return t.isInsert(i)?e(i):t.isDelete(i)?n(i):r(i)}},t.getAttr=function(e,n){return t.isDelete(e)||!e.attributes?u.none:"function"==typeof n?(0,o.pipe)(u.fromNullable(Object.keys(e.attributes).find(n)),u.map((function(t){return e.attributes[t]}))):u.fromNullable(e.attributes[n])},t.operationLength=s.i.Op.length;var e=function(t){return-t.delete};t.getOperationOffset=t.match(s.i.Op.length,e,s.i.Op.length);var n=function(t){return function(e){return e.ops.map(t).reduce(a.Sm,0)}},r=function(){return 0};t.calcDiffLength=n(t.match(s.i.Op.length,e,r)),t.calcAmountLength=n(t.match(s.i.Op.length,s.i.Op.length,r)),t.calcAffectedLength=n(t.match(r,s.i.Op.length,s.i.Op.length)),t.rangeOfTheChange=function(e){var n=t.match(i.W8,i.W8,(function(t){return Boolean(t.attributes)}));return e.ops.reduce((function(e,r){var i=e[0],s=e[1],a=t.operationLength(r),c=s+a;return[(0,o.pipe)(i,u.fold((function(){return n(r)?u.some([s,c]):u.none}),(function(t){return n(r)?u.some([t[0],c]):u.some(t)}))),c]}),[u.none,0])[0]},t.isEqual=function(e){return function(n,r){return t.match((function(n){return t.isInsert(r)&&n.insert===r.insert&&e(n.attributes,r.attributes)}),(function(e){return t.isDelete(r)&&e.delete===r.delete}),(function(n){return t.isRetain(r)&&n.retain===r.retain&&e(n.attributes,r.attributes)}))(n)}},t.deltaEq=c.f7((function(e,n){return e.ops.length===n.ops.length&&l.Hx(e.ops,n.ops,t.isEqual(f.vZ))})),t.normalizeDelta=function(t){return(new s.i).compose(t)};var p=function(t){return t&&Object.keys(t).reduce((function(e,n){return e[n]="string"==typeof t[n]?"<".concat(t[n].length,">"):t[n],e}),{})};t.anonymizeTextAndStringAttrs=function(e){return e.ops.reduce((function(e,n){return t.match((function(n){return e.insert("string"==typeof n.insert?"<".concat(t.getInsertLength(n),">"):"<embed>",p(n.attributes))}),(function(t){return e.delete(t.delete)}),(function(t){return e.retain(t.retain,p(t.attributes))}))(n)}),new s.i)},t.squash=function(t){return t.reduce((function(t,e){return t.compose(new s.i(e))}),new s.i)},t.cleanAllAttrs=function(e){return e.reduce((function(e,n){return t.match((function(t){return e.insert(t.insert)}),(function(t){return e.delete(t.delete)}),(function(t){return e.retain(t.retain)}))(n)}),new s.i)};var d=function(t){return u.fromNullable(t.attributes)};t.getAttrs=t.match(d,(function(){return u.none}),d),t.skipAny=i.jv;t.cleanDelta=function(e,n){return function(r){var i=function(t){return t&&Object.keys(t).filter((function(t,e,r){return n(t,r.slice(0))})).reduce((function(e,n){return e[n]=t[n],e}),{})};return r.reduce((function(n,r){return t.match((function(t){return n.insert("string"==typeof t.insert||e(t.insert)?t.insert:" ",i(t.attributes))}),(function(t){return n.delete(t.delete)}),(function(t){return n.retain(t.retain,i(t.attributes))}))(r)}),new s.i)}},t.splitToDeleteThenInsert=function(e){return e.reduce((function(e,n){var r=e[0],i=e[1];return t.match((function(t){return[r,i.push(t)]}),(function(t){return[r.push(t),i]}),(function(t){return[r.push({retain:t.retain}),i.push(t)]}))(n)}),[new s.i,new s.i]).map((function(t){return t.chop()}))},t.nonEmpty=function(t){return t.ops.length>0},t.findInDelta=function(t,e){return void 0===e&&(e=r),function(n){for(var r=0,i=0;r<n.ops.length;){var o=n.ops[r];if(t(o))return i+=e(o),u.some(i);i+=s.i.Op.length(o),r+=1}return u.none}},t.getOps=(0,i.ls)(f.ei("ops"),u.fromNullable,u.chain(h.nI))}(r||(r={}))},73353:(t,e,n)=>{n.d(e,{R$:()=>r});var r,i=n(59312),o=n(73975),s=n(57050),u=n(40327),a=n(69243),c=n(32687),l=n(5114),f=n(8125),h=n(95195),p=n(42040),d=n(55485),g=l.getEq({equals:function(t,e){return t===e}}),v=o.f7(f.As);!function(t){var e;!function(t){t.eq=o.MW({type:o.yv,citation:o.yv}),t.defaultAcademic={citation:"apa",type:"essay"},t.withCitationStyle=function(e){return function(n){return(0,i.pi)((0,i.pi)({},n),{domain:l.some("academic"),outcomeContext:l.some((0,i.pi)((0,i.pi)({},t.defaultAcademic),{citation:e}))})}}}(e=t.OutcomeContext||(t.OutcomeContext={})),t.eq=o.MW({domain:l.getEq(o.w4),goals:l.getEq(v),audience:g,style:g,outcomeContext:l.getEq(e.eq)}),function(t){t.eq=o.MW({domain:o.w4,goals:v,audience:o.yv,style:o.yv})}(t.Default||(t.Default={})),t.goals=d.U(["inform","describe","convince","tellStory","sell"]),t.goalsLabels=["Inform","Describe","Convince","Tell A Story"],t.audiences=d.U(["general","knowledgeable","expert"]),t.formalityLevels=d.U(["informal","neutral","formal"]),t.tone=d.U(["neutral","confident","joyful","optimistic","friendly","urgent","analytical","respectful"]),t.domains=d.U(["academic","business","general","mail","casual","creative"]),t.dialects=d.U(["american","british","canadian","australian","indian"]),t.academicTypes=d.U(["essay","report","other"]),t.citation=d.U(["apa","mla","chicago","other"]),t.fromDomain=function(e){return(0,i.pi)((0,i.pi)({},t.unset),{domain:l.some(e)})},t.fromGoals=function(e){return(0,i.pi)((0,i.pi)({},t.unset),{goals:l.some(new Set(e))})},t.unset={goals:l.none,domain:l.none,audience:l.none,style:l.none,dialect:l.none,outcomeContext:l.none},t.defaultContextFallback={goals:new Set,domain:"general",audience:"knowledgeable",style:"neutral",dialect:l.none},t.isStyleValidWithDomain=function(t,e){return"neutral"===e||("formal"===e?"creative"!==t&&"casual"!==t:"academic"!==t)};var n=d.D.literalUnion("goal",t.goals),r=d.D.set(n),f=d.D.literalUnion("audience",t.audiences),m=d.D.literalUnion("formality",t.formalityLevels),y=(d.D.literalUnion("tone",t.tone),d.D.literalUnion("domain",t.domains)),b=d.D.literalUnion("dialect",t.dialects),_=d.D.literalUnion("academicType",t.academicTypes);t.citationType=d.D.literalUnion("citation",t.citation);var x=a.w3({type:_,citation:t.citationType});t.IOType=a.w3({goals:d.D.option(r),domain:d.D.option(y),audience:d.D.option(f),style:d.D.option(m),dialect:d.D.option(b),outcomeContext:d.D.option(x)}),t.IOTypeDefault=a.w3({goals:r,domain:y,audience:f,style:m,dialect:d.D.option(b)}),t.tryParse=function(t){return function(e){return(0,u.pipe)(t(e),h.Vn(c.Rn),h.Vn((function(t){return p.C8.Logging.getLogger("coreclients.dox.context").warn("failed to parse document context",t),t})))}},t.parse=(0,s.ls)(l.fromNullable,l.chain((function(e){return(0,u.pipe)(e,t.tryParse(t.IOType.decode),l.fromEither)}))),t.parseDefault=(0,s.ls)(l.fromNullable,l.chain((0,s.ls)(t.tryParse((function(e){return t.IOTypeDefault.decode(e)})),l.fromEither))),t.serialize=function(e){return t.IOType.encode(e)},t.serializeDefault=function(e){return t.IOTypeDefault.encode(e)}}(r||(r={}))},24153:(t,e,n)=>{n.d(e,{d3:()=>r});var r,i=n(59312);!function(t){t.toHeaderAppender=function(t){return function(t){var e=this;function n(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return Array.isArray(t)?(e=t[0],n=t[1],r=[e],[4,"function"==typeof n?n():n]):[3,2];case 1:return[2,r.concat([i.sent()]).join(" ")];case 2:return[4,"function"==typeof t?t():t];case 3:return[2,i.sent()]}}))}))}return function(r){return function(){return(0,i.mG)(e,void 0,void 0,(function(){var e,o,s,u,a,c,l,f;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:for(o in e=[],t)e.push(o);s=0,i.label=1;case 1:return s<e.length?(u=e[s],a=t[u],l=(c=r).header,f=[u],[4,n(a)]):[3,4];case 2:l.apply(c,f.concat([i.sent()])),i.label=3;case 3:return s++,[3,1];case 4:return[2,r]}}))}))}}}((0,i.pi)({"X-Client-Version":t.clientVersion.toString(),"X-Client-Type":function(){return t.clientName},"X-Container-Id":t.containerId,"X-CSRF-Token":t.csrfToken},void 0!==t.accessToken&&{Authorization:["Bearer",t.accessToken]}))}}(r||(r={}))},55485:(t,e,n)=>{n.d(e,{D:()=>r,U:()=>p});var r,i=n(59312),o=n(40327),s=n(69243),u=n(95195),a=n(83078),c=n(5114),l=n(26328),f=n(22232),h=n(36925);function p(t){return t}!function(t){function e(t){return function(e){return a.is(e)&&(0,o.pipe)(e,c.fold((function(){return!0}),t.is))}}function n(t){return function(e){return Array.isArray(e)&&e.length>0&&e.every(t.is)}}t.set=function(t){return new s.Dy("Set<".concat(t.name,">"),(function(t){return t instanceof Set}),(function(e,n){return u.wE.map(s.IX(t).validate(e,n),(function(t){return new Set(t)}))}),(function(t){return Array.from(t)}))},t.getIsOption=e,t.option=function(t){return new s.Dy("option:".concat(t.name),e(t),(function(e,n){return null==e?u.F2(c.none):u.wE.map(t.validate(e,n),c.some)}),c.fold((function(){}),t.encode))},t.opaque=function(t){return new s.Dy("Opaque",(function(t){return"string"==typeof t}),(function(e,n){return u.wE.chain(t.validate(e,n),(function(t){return s.Vp(t)}))}),(function(t){return t}))},t.getIsNEA=n,t.nonEmptyArray=function(t){return new s.Dy("NEA",n(t),(function(e,n){return u.wE.chain(s.IX(t).validate(e,n),(function(t){return t.length>0?s.Vp(t):s.Rn(t,n,"Array is empty")}))}),(function(t){return a.MH(l.nI(t))}))},t.literalUnion=function(t,e){return s.G0(e.map((function(t){return s.i0(t)})),"".concat(t,":string"))},t.date=function(){return new s.Dy("Date",(function(t){return t instanceof Date}),(function(t,e){var n=Date.parse(null==t?void 0:t.toString()),r=isNaN(n)?t:n;return u.wE.map(s.pk.validate(r,e),(function(t){return new Date(t)}))}),(function(t){return t.getTime()}))};var r=function(t){return s.Z_.is(t)&&!Number.isNaN(Number(t))};t.stringFromNumber=new s.Dy("stringFromNumber",r,(function(t,e){return r(t)?s.Vp(t):"number"!=typeof t||Number.isNaN(t)?s.Rn(t,e):s.Vp(t.toString())}),(function(t){return Number(t)})),t.withDefault=function(t,e){return new s.Dy("withDefault(".concat(JSON.stringify(e),"):").concat(t.name),t.is,(function(n,r){return t.validate((0,h.uY)(n)?e:n,r)}),t.encode)},t.fallback=function(t,e){return new s.Dy("fallback(".concat(JSON.stringify(e),"):").concat(t.name),t.is,(function(n,r){var i=t.validate(n,r);return u.nM(i)?u.F2(e):i}),t.encode)};var p=function(t,e){Array.prototype.push.apply(t,e)},d=["boolean","string","Date","number","Array","Set","object","Dictionary","StringEnum","Partial"];function g(t,e){var n=function(t){var e=t.replace(/\w+\(.*?\):/,"");if("{"===e[0]&&"}"===e[e.length-1])return"object";var n=e.split(":").pop();return 0===n.indexOf("Date")?"Date":0===n.indexOf("Array<")?"Array":0===n.indexOf("Set<")?"Set":0===n.indexOf("StringEnum<")?"StringEnum":0===e.indexOf("Partial<")?"Partial":((0,f.kG)(d.indexOf(n)>-1,"unsupported prop type ".concat(t)),n)}(t);switch(n){case"boolean":return e.getBool();case"string":case"StringEnum":return e.getStr();case"Date":return null===e.getNum()?e.getStr():e.getNum();case"number":return e.getNum();case"Array":case"Set":return e.getArray();case"object":case"Partial":case"Dictionary":return e.getObject();default:return(0,f.vE)(n)}}t.properties=function(t,e,n){return void 0===e&&(e=""),void 0===n&&(n=function(t){return"{ ".concat(Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e].name)})).join(", ")," }")}(t)),new s.X1(n,(function(e){if(!h.E.is(e))return!1;for(var n in t)if(!t[n].is(e[n]))return!1;return!0}),(function(n,r){if(!Array.isArray(n)||n.some((function(t){return!h.E.is(t)})))return s.Rn(n,r);var a={},c=[],l=function(l){var f=""!==e?"".concat(e,":").concat(l):l,d=h.E.find.apply(h.E,(0,i.ev)([f],n,!1)),v=t[l],m=g(v.name,d),y=v.validate(m,s.JS(r,l,v));(0,o.pipe)(y,u.g_((function(t){return p(c,t)}),(function(t){a[l]=t})))};for(var f in t)l(f);return c.length?s.mq(c):s.Vp(a)}),(function(n){var r={};for(var i in t){var o=""!==e?"".concat(e,":").concat(i):i,s=t[i],u=n[i];s.is(u)&&(r[o]=t[i].encode(u))}return h.E.of(r)}),t)},t.combineProperties=function(t,e){void 0===e&&(e="(".concat(t.map((function(t){return t.name})).join(" & "),")"));var n=t.length;return new s.Ii(e,(function(e){return t.every((function(t){return t.is(e)}))}),(function(e,r){for(var i={},a=[],c=0;c<n;c++){var l=t[c].validate(e,r);(0,o.pipe)(l,u.g_((function(t){return p(a,t)}),(function(t){return Object.assign(i,t)})))}return a.length?s.mq(a):s.Vp(i)}),(function(e){return h.E.of.apply(h.E,t.map((function(t){return t.encode(e)})))}),t)},t.createStringEnum=function(t,e){return s.mM(Object.values(t).reduce((function(t,e){return t[e]=null,t}),{}),"StringEnum<".concat(e,">"))}}(r||(r={}))},25938:(t,e,n)=>{n.d(e,{RI:()=>i,zI:()=>o});var r,i,o,s=n(57050),u=n(8709),a=n(95574),c=n(95195),l=n(36991);!function(t){t.split=function(t,e){return[t]}}(r||(r={})),function(t){t.fromArrayOfDeltas=function(e,n){var r=n;return e.map((function(e){var n=t.delta(e,r);return r+=l.s.calcDiffLength(e),n}))};var e=function(){function t(t,e){this.delta=t,this.prevLen=e,this.kind="delta",this._length=void 0,this._amount=void 0,this._text=void 0}return Object.defineProperty(t.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=l.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"amount",{get:function(){return Boolean(this._amount)?this._amount:this._amount=l.s.calcAmountLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){var t=this;return this._text||(this._text=a.vM((function(){return t.delta.ops.reduce((function(t,e){return l.s.match((function(e){return"".concat(t).concat(e.insert)}),(function(){throw new Error("can not get text on delta with deletes")}),(function(){throw new Error("can not get text on delta with retains")}))(e)}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.delta.ops.length},enumerable:!1,configurable:!0}),t.prototype.compose=function(e){return new t(this.delta.compose(e.delta),this.prevLen)},t.prototype.transform=function(e,n){return void 0===n&&(n=!0),new t(e.delta.transform(this.delta,n),this.prevLen+e.length)},t.prototype.toJSON=function(){return{kind:this.kind,delta:l.s.anonymizeTextAndStringAttrs(this.delta),prevLen:this.prevLen,length:this.length,amount:this.amount}},t.prototype.toString=function(){return"Delta(".concat(this.delta,", pl: ").concat(this.prevLen,")")},t}(),n=function(){function t(){this.kind="flush"}return t.prototype.toString=function(){return"Flush()"},t}(),r=function(){function t(t){this.delta=t,this.kind="reset"}return Object.defineProperty(t.prototype,"text",{get:function(){var t=this;return this._text||(this._text=a.vM((function(){return t.delta.ops.reduce((function(t,e){if(l.s.isInsert(e))return"".concat(t).concat(e.insert);throw l.s.isDelete(e)?new Error("can not get text on delta with deletes"):new Error("can not get text on delta with retains")}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=l.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),t.prototype.compose=function(t){return o(this.delta.compose(t.delta))},t.prototype.toJSON=function(){return{kind:this.kind,delta:l.s.anonymizeTextAndStringAttrs(this.delta),length:this.length}},t.prototype.toString=function(){return"Reset(".concat(this.delta,")")},t}();function i(t,n){return void 0===n&&(n=0),new e(t,n)}function o(t){return l.s.containsInsertsOnly(t)?c.F2(new r(t)):c.t$(new Error("Delta should contains only inserts to be Reset, but got ".concat(JSON.stringify(l.s.anonymizeTextAndStringAttrs(t)))))}t.delta=i,t.ins=function(t,e,n){return void 0===n&&(n=0),i((new u.i).retain(t).insert(e),n)},t.del=function(t,e,n){return void 0===n&&(n=0),i((new u.i).retain(t).delete(e),n)},t.ret=function(t,e,n){return void 0===e&&(e=0),i((new u.i).retain(t,n),e)},t.res=o,t.unsafeRes=(0,s.ls)(o,a.MH),t.resFromText=function(t){return a.MH(o((new u.i).insert(t)))},t.flush=function(){return new n},t.isDelta=function(t){return"delta"===t.kind},t.isReset=function(t){return"reset"===t.kind},t.isFlush=function(t){return"flush"===t.kind}}(i||(i={})),function(t){t.diffAsChanges=function(t,e){var n=(new u.i).insert(t),r=(new u.i).insert(e);return i.delta(n.diff(r),t.length)}}(o||(o={}))},35387:(t,e,n)=>{n.d(e,{x:()=>r});var r,i=n(55415);!function(t){t.compose=function(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=i.v4(e);for(var o in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[o]&&void 0===e[o]&&(r[o]=t[o]);return Object.keys(r).length>0?r:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return i.Xy(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=null!=t?t:{};var n=Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0!==t[r]&&(n[r]=e[r]),n}),{});return Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0===e[r]&&(n[r]=null),n}),n)},t.transform=function(t,e,n){if(void 0===n&&(n=!1),"object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(r||(r={}))},8709:(t,e,n)=>{n.d(e,{i:()=>h});var r=n(19744),i=n.n(r),o=n(55415),s=n(35387);const u=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){Boolean(t)||(t=1/0);var e=this.ops[this.index];if(null==e)return{retain:1/0};var n=this.offset,r=a(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),"number"==typeof e.retain?i.retain=t:"string"==typeof e.insert?i.insert=e.insert.substr(n,t):i.insert=e.insert,i},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return null!=this.ops[this.index]?a(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return null==this.ops[this.index]?"retain":"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t}();function a(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}var c;!function(t){t.iterator=function(t){return new u(t)},t.length=a}(c||(c={}));const l=c;var f=String.fromCharCode(0);var h=function(){function t(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}return t.prototype.insert=function(t,e){var n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},t.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o.v4(t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(o.Xy(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return null!=(null==t?void 0:t.retain)&&null==t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce((function(t,e){return null!=e.insert?t+l.length(e):null!=e.delete?t-e.delete:t}),0)},t.prototype.length=function(){return this.reduce((function(t,e){return t+l.length(e)}),0)},t.prototype.slice=function(e,n){void 0===e&&(e=0),void 0===n&&(n=1/0);for(var r=[],i=l.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=l.length(s)}return new t(r)},t.prototype.compose=function(e){var n=l.iterator(this.ops),r=l.iterator(e.ops),i=[],u=r.peek();if(null!=u&&"number"==typeof u.retain&&null==u.attributes){for(var a=u.retain;"insert"===n.peekType()&&n.peekLength()<=a;)a-=n.peekLength(),i.push(n.next());u.retain-a>0&&r.next(u.retain-a)}for(var c=new t(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===n.peekType())c.push(n.next());else{var f=Math.min(n.peekLength(),r.peekLength()),h=n.next(f),p=r.next(f);if("number"==typeof p.retain){var d={};"number"==typeof h.retain?d.retain=f:d.insert=h.insert;var g=s.x.compose(h.attributes,p.attributes,"number"==typeof h.retain);if(g&&(d.attributes=g),c.push(d),!r.hasNext()&&o.Xy(c.ops[c.ops.length-1],d)){var v=new t(n.rest());return c.concat(v).chop()}}else"number"==typeof p.delete&&"number"==typeof h.retain&&c.push(p)}return c.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:f;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),u=new t,a=i()(r[0],r[1],n),c=l.iterator(this.ops),h=l.iterator(e.ops);return a.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i().INSERT:n=Math.min(h.peekLength(),e),u.push(h.next(n));break;case i().DELETE:n=Math.min(e,c.peekLength()),c.next(n),u.delete(n);break;case i().EQUAL:n=Math.min(c.peekLength(),h.peekLength(),e);var r=c.next(n),a=h.next(n);o.Xy(r.insert,a.insert)?u.retain(n,s.x.diff(r.attributes,a.attributes)):u.push(a).delete(n)}e-=n}})),u.chop()},t.prototype.eachLine=function(e,n){void 0===n&&(n="\n");for(var r=l.iterator(this.ops),i=new t,o=0;r.hasNext();){if("insert"!==r.peekType())return;var s=r.peek(),u=l.length(s)-r.peekLength(),a="string"==typeof s.insert?s.insert.indexOf(n,u)-u:-1;if(a<0)i.push(r.next());else if(a>0)i.push(r.next(a));else{if(!1===e(i,r.next(1).attributes||{},o))return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce((function(t,r){if(Boolean(r.insert))n.delete(l.length(r));else{if(Boolean(r.retain)&&null==r.attributes)return n.retain(r.retain),t+r.retain;if(Boolean(r.delete)||Boolean(r.retain)&&null!=r.attributes){var i=r.delete||r.retain;return e.slice(t,t+i).forEach((function(t){Boolean(r.delete)?n.push(t):Boolean(r.retain)&&null!=r.attributes&&n.retain(l.length(t),s.x.invert(r.attributes,t.attributes))})),t+i}}return t}),0),n.chop()},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof e)return this.transformPosition(e,n);for(var r=e,i=l.iterator(this.ops),o=l.iterator(r.ops),u=new t;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())u.push(o.next());else{var a=Math.min(i.peekLength(),o.peekLength()),c=i.next(a),f=o.next(a);if(null!=c.delete)continue;null!=f.delete?u.push(f):u.retain(a,s.x.transform(c.attributes,f.attributes,n))}else u.retain(l.length(i.next()));return u.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var n=l.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<t||!e)&&(t+=i),r+=i):t-=Math.min(i,t-r)}return t},t.Op=l,t.AttributeMap=s.x,t}()},64757:(t,e,n)=>{n.d(e,{L_:()=>p,RZ:()=>d,zx:()=>h});var r=n(59312),i=n(27378),o=n(19703),s=n(12187);if(1307!=n.j)var u=n(31278);var a=n(86732),c=n(48660),l=n(26215),f=n(94632);function h(t){return i.createElement(l.Y,(0,r.pi)({},p(t,f.LI)))}function p(t,e){var n=(0,s.Sh)(t.className,e).className;return(0,r.pi)((0,r.pi)({},t),{className:n})}!function(t){t.Animated=function(t){return i.createElement(l.Y,(0,r.pi)({},(0,r.pi)((0,r.pi)({},t),{animationMode:Boolean(t.animationMode)?t.animationMode:a.m.FromClickPoint})))},t.Primary=function(e){return i.createElement(t.Animated,(0,r.pi)({styleType:c.Z.Type.Button},p(e,f.T$)))},t.Ghost=function(e){return i.createElement(t.Animated,(0,r.pi)({styleType:c.Z.Type.Button},p(e,f.fk)))},t.Tertiary=function(e){return i.createElement(t.Animated,(0,r.pi)({styleType:c.Z.Type.Base},p(e,f.UF)))},t.Flat=function(e){return i.createElement(t.Animated,(0,r.pi)({},p(e,f.$H)))},t.White=function(e){return i.createElement(t.Animated,(0,r.pi)({},p(e,f.ix)))},t.SidebarFlat=function(t){return i.createElement(l.Y,(0,r.pi)({styleType:c.Z.Type.H3Legacy},p(t,f.HN)))},t.Caps=function(t){return i.createElement(l.Y,(0,r.pi)({styleType:c.Z.Type.H3Legacy},p(t,f.Mp)))},t.Group=function(t){var e=t.children,n=t.className,u=t.align,a=void 0===u?"horizontal":u,c=t.sticky,l=t.name;return i.createElement(o.F.div,(0,r.pi)({role:"group"},(0,s.Sh)(n,"horizontal"===a?!0===c?f.vD:f.ru:f.oc),{"data-name":l}),e)}}(h||(h={}));var d=function(t){var e=t.title,n=t.titleAlign,a=t.buttonClass,c=t.iconClass,p=t.iconWidth,d=t.tooltipClass;return i.createElement(h,{name:"info-button","aria-label":e,tag:l.X.div,title:i.createElement(o.F.div,(0,r.pi)({},(0,s.Sh)(f.bC,d)),i.createElement("p",null,e)),titleAlign:n,className:a},i.createElement(u.JO.Info,{width:p,className:c}))}},51369:(t,e,n)=>{n.d(e,{X:()=>C});var r,i=n(59312),o=n(27378),s=n(57050),u=n(5114),a=n(19962),c=n(44060),l=n(11413),f=n(89894),h=n(32096),p=n(40327),d=n(19703),g=n(49708),v=n(85985),m=n(41398),y=n(24209),b=n(17343),_=n(98403),x=n(38194),w=n(598),O=n(50628),I=n(25781),E=n(83078),S=n(18625);!function(t){var e="scrollaction";t.emit=function(t){return self.dispatchEvent(new CustomEvent(e,{detail:t}))},t.observe=S.P((function(){return g.R(self,e)}))}(r||(r={}));var T=n(42103),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._subs=[],e._outOfTarget=function(t){return function(e){return!a.UL.hasPoint(e.getBoundingClientRect(),t)}},e}return(0,i.ZT)(e,t),e.prototype.componentDidMount=function(){this._listenTooltipAppearance()},e.prototype.componentWillUnmount=function(){this._subs.forEach((function(t){return t.unsubscribe()})),this._subs=[],this.context.hide()},e.prototype.render=function(){return o.createElement(d.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))},e.prototype._listenTooltipAppearance=function(){var t=this,e=g.R(document,"keydown").pipe(v.h((function(t){return t.keyCode===I.R.ESC_CODE}))),n=g.R(document,"mousedown").pipe(m.M(this.context.state),v.h((function(e){var n=e[0],r=e[1];return(0,p.pipe)(r,u.map((function(t){return t.target})),u.filter((function(){return a.pK(n.target)})),E.wo(t._outOfTarget({x:n.clientX,y:n.clientY})))}))),i=y.T(e,n,g.R(document,"scroll"),r.observe.pipe(v.h((function(t){return"show"===t.detail})))).pipe(b.h(_.PU),x.B());this._subs=[this.context.hasContent.pipe(v.h(Boolean),w.c(i.pipe(O.P()))).subscribe(this.context.hide),this.context.hasContent.pipe(v.h(Boolean),w.c(y.T(_.gw(!0,500),i.pipe(b.h(!1))).pipe(O.P())),v.h(Boolean)).subscribe(this.context.show)]},e.contextType=T.G.Context,e}(o.Component),C=function(){return o.createElement(A,null,(0,s.ls)(u.map((function(t){return o.createElement(l.t.ByAbsoluteRect,(0,i.pi)({rect:a.UL.fromEl(t.target),className:P.container},l.t.Alignment.toSelector(t.alignment),{withPin:!0}),o.createElement("div",{className:P.content},t.content))})),u.toNullable))},k={position:"fixed",zIndex:h.DY,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},R={padding:"".concat(f.ux.rem(.25)," ").concat(f.ux.rem(1)),borderRadius:f.ux.rem(h.fx),background:c.Il.BackgroundTooltip,color:c.Il.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:f.ux.px(.25),fontSize:f.ux.rem(.75),lineHeight:f.ux.rem(1)},P=f.ux.stylesheet({container:[k],content:[R]})},89943:(t,e,n)=>{if(n.d(e,{Bs:()=>f,CE:()=>m,Hx:()=>d,N6:()=>b,OI:()=>l,QK:()=>y,VS:()=>g,e:()=>c,j6:()=>v,sq:()=>x,uK:()=>a,uU:()=>p}),1307!=n.j)var r=n(59312);if(1307!=n.j)var i=n(45701);if(1307!=n.j)var o=n(40327);if(1307!=n.j)var s=n(68983);if(1307!=n.j)var u=n(5114);function a(t,e){return t.reduce((function(t,n){return e(n)?t[0].push(n):t[1].push(n),t}),[[],[]])}function c(t,e){for(var n=-1,r=t.length;n+1!==r;){var i=n+(r-n>>1);e(t[i])?n=i:r=i}var o=n+1;return o===t.length?u.none:u.some(o)}function l(t,e,n){return c(t,(0,s.W)((0,i.gt)(n))(e))}function f(t,e,n){if(e>=0)for(var r=e;r<t.length;++r){var i=n(t[r]);if(u.isSome(i))return u.some({index:r,value:i.value})}return u.none}function h(t,e,n,r){return(0,o.pipe)(function(t,e,n){if(e>=0)for(var r=e;r<t.length;++r)if(n(t[r]))return u.some({index:r,value:t[r]});return u.none}(t,e,r),u.alt((function(){return function(t,e,n){if(e<t.length)for(var r=e;r>=0;--r)if(n(t[r]))return u.some({index:r,value:t[r]});return u.none}(t,n,r)})))}function p(t,e,n){return(0,o.pipe)(h(t,e+1,e-1,(function(t){return u.isSome(n(t))})),u.chain((function(t){return(0,o.pipe)(n(t.value),u.map((function(e){return(0,r.pi)((0,r.pi)({},t),{value:e})})))})))}function d(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function g(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function v(t,e){return new Array(t).fill(!0).map((function(t,n){return e(n)}))}function m(t,e){var n=e.indexOf(t);return e.slice(0,n).concat(e.slice(n+1))}function y(t,e){var n=e.indexOf(t);e.splice(n,1)}var b=function(t){return function(e){return _(e,t,0)}};function _(t,e,n){return e.length<=n?u.none:(0,o.pipe)(u.fromNullable(t.find(e[n])),u.fold((function(){return _(t,e,n+1)}),u.some))}var x=function(t){return function(e){for(var n=-1,r=0;r<e.length;r++){var i=e[r],o=e[r-1];if(Boolean(o)&&t(o)||!t(i)||(n=r),Boolean(o)&&t(o)&&!t(i)&&0!==n)return!1}return!0}}},68983:(t,e,n)=>{function r(t){return i(t,t.length-1,[])}function i(t,e,n){return function(r){var o=n.concat([r]);return 0===e?t.apply(this,o):i(t,e-1,o)}}n.d(e,{W:()=>r})},25781:(t,e,n)=>{var r,i;n.d(e,{R:()=>r}),function(t){t.ESC_CODE=27,t.ENTER_CODE=13,t.SPACE_CODE=32}(r||(r={})),function(t){t.isLeftMouseButtom=function(t){return 1===t.which||0===t.button}}(i||(i={}))},55415:(t,e,n)=>{n.d(e,{CE:()=>_,Fx:()=>d,H6:()=>v,Ov:()=>h,Qr:()=>l,Vx:()=>p,Xy:()=>c,ei:()=>g,qo:()=>f,sq:()=>b,v4:()=>u,vZ:()=>m});var r=n(59312),i=n(5114),o=n(40327),s=n(68983),u=function t(e){if("object"!=typeof e)return e;var n,r,i=Object.prototype.toString.call(e);if("[object Object]"===i){if(e.constructor!==Object&&"function"==typeof e.constructor)for(n in r=new e.constructor,e)e.hasOwnProperty(n)&&r[n]!==e[n]&&(r[n]=t(e[n]));else for(n in r={},e)"__proto__"===n?Object.defineProperty(r,n,{value:t(e[n]),configurable:!0,enumerable:!0,writable:!0}):r[n]=t(e[n]);return r}if("[object Array]"===i){for(n=e.length,r=Array(n);n--;)r[n]=t(e[n]);return r}if("[object Date]"===i)return new Date(+e);if("[object RegExp]"===i)return(r=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,r;return e};var a=Object.prototype.hasOwnProperty;function c(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&c(t[r],e[r]););return-1===r}if(!n||"object"==typeof t){for(n in r=0,t){if(a.call(t,n)&&++r&&!a.call(e,n))return!1;if(!(n in e)||!c(t[n],e[n]))return!1}return Object.keys(e).length===r}}return t!=t&&e!=e}function l(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function f(t){return Object.keys(t).map((function(e){return t[e]}))}var h=(0,s.W)((function(t,e,n){var o,s=n,u=t,a=s[u],c=(0,r._T)(s,["symbol"==typeof u?u:u+""]);return(0,r.pi)(((o={})[t]=e(i.fromNullable(a)),o),c)}));(0,s.W)((function(t,e,n){var s=n,u=t,a=s[u],c=(0,r._T)(s,["symbol"==typeof u?u:u+""]),l="function"==typeof e?e(i.fromNullable(a)):e;return(0,o.pipe)(l,i.fold((function(){return c}),(function(e){var n;return(0,r.pi)(((n={})[t]=e,n),c)})))}));function p(t,e){return Object.assign({},t,e)}function d(t,e){var n={};for(var r in t){var i=e[r];void 0!==i?n[r]="object"==typeof i?d(t[r],i):i:n[r]=t[r]}return n}function g(t){return function(e){return e[t]}}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,n){var i;return(0,r.pi)((0,r.pi)({},t),((i={})[n]=e[n],i))}),{})}}function m(t,e){if(t===e)return!0;if(y(t)||y(e))return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t){if(!(n in e))return!1;if(!m(t[n],e[n]))return!1}return!0}function y(t){return t!==Object(t)}function b(t){return Array.from(t).reduce((function(t,e){var n,i=e[0],o=e[1];return(0,r.pi)((0,r.pi)({},t),((n={})[i]=o,n))}),{})}var _=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=(0,r.pi)({},t);return e.forEach((function(t){return delete i[t]})),i}},81670:(t,e,n)=>{n.d(e,{T:()=>r});var r,i=n(71249),o=n(12271),s=n(57050),u=n(40327),a=n(95195);!function(t){function e(t){return t.left.length>0?a.t$({rejected:t.left,recovered:t.right}):a.F2(t.right)}t.URI="RecoverableOperation",t.fromArray=function(n){return function(r){return(0,u.pipe)(r.map((function(t){return(0,u.pipe)(n(t),a.Vn((function(e){return(0,s.bc)(e,t)})))})),i.oh,e,t.mapLeft((function(t){return t.map(o.Yg)})))}},t.map=function(t){return function(e){return(0,u.pipe)(e,a.Pd((function(e){return{rejected:e.rejected,recovered:t(e.recovered)}}),t))}},t.mapLeft=function(t){return function(e){return(0,u.pipe)(e,a.Vn((function(e){return{rejected:t(e.rejected),recovered:e.recovered}})))}},t.flatten=function(t){return function(e){return(0,u.pipe)(e,a.g_((function(e){return(0,u.pipe)(e.recovered,a.g_((function(n){return a.t$({rejected:t.concat(e.rejected,n.rejected),recovered:n.recovered})}),(function(t){return a.t$({rejected:e.rejected,recovered:t})})))}),s.yR))}},t.flatMap=function(e,n){return function(r){return(0,u.pipe)(r,t.map(n),t.flatten(e))}},t.recover=function(t){return a.g_((function(e){return t(e.rejected),e.recovered}),s.yR)},t.tapFailure=function(t){return a.Vn((function(e){return t(e),e}))},t.foldSuccess=function(t){return a.g_((function(e){return t(e.recovered)}),t)},t.of=function(t,e){return void 0===e?a.F2(t):a.t$({recovered:t,rejected:e})},t.fromSeparatedArray=e}(r||(r={}))},3893:(t,e,n)=>{n.d(e,{kP:()=>s});var r=n(26328),i=n(57050),o=n(5114);var s=(0,i.ls)(o.fromNullable,(0,o.chain)(r.nI))},83078:(t,e,n)=>{n.d(e,{FX:()=>y,Fc:()=>c,MH:()=>u,QP:()=>a,bw:()=>v,cS:()=>l,dH:()=>f,ew:()=>m,gz:()=>b,is:()=>g,vB:()=>h,vx:()=>d,wo:()=>p,xC:()=>_});var r=n(17771),i=n(5114),o=n(57050);if(1388==n.j)var s=n(22324);var u=(0,i.fold)((function(){throw new Error("option has empty value")}),o.yR),a=(0,i.getOrElse)(o.gn),c=(0,i.getOrElse)(o.r5),l=function(){return i.none};function f(t,e){return(0,i.fold)((function(){return e}),t)}var h=function(t){return function(e,n){return(0,i.map)((function(e){var n=e[0],r=e[1];return t(n,r)}))((0,r.g)(i.option)(e,n))}};function p(t){return function(e){return(0,i.isNone)(e)||(0,i.exists)(t)(e)}}function d(t){return(0,i.fold)((function(){return t}),i.some)}function g(t){var e,n;return"None"===(null===(e=t)||void 0===e?void 0:e._tag)||"Some"===(null===(n=t)||void 0===n?void 0:n._tag)}function v(t){return(0,i.map)((function(e){return t(e),e}))}function m(t){return(0,i.fold)((0,o.ls)(t,(function(){return i.none})),i.some)}function y(t){return(0,o.ls)((0,i.filter)((function(e){return e===t})),i.isSome)}var b=(0,r.g)(i.option);function _(t){return(0,s.d6)(t)?(0,i.some)(t.value):i.none}},22324:(t,e,n)=>{var r;function i(t){return t.type===r.InProgress}function o(t){return t.type===r.Success}function s(t){return t.type===r.Error}function u(t){return t.type===r.Fatal}n.d(e,{Dy:()=>r,IR:()=>u,VZ:()=>s,d6:()=>o,n2:()=>i}),function(t){t.InProgress="InProgress",t.Success="Success",t.Error="Error",t.Fatal="Fatal"}(r||(r={}))},93476:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var u=0;u<this.length;u++){var a=this[u][0];null!=a&&(s[a]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},54933:t=>{t.exports=function(t){return t[1]}},19744:t=>{var e=-1,n=10,r=0;function i(t,n,c,l){if(t===n)return t?[[0,t]]:[];if(null!=c){var f=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=t.length,s=e.length;if(0===r.length&&(null===i||0===i.length)){var u=r.index,a=t.slice(0,u),c=t.slice(u),l=i?i.index:null,f=u+s-o;if((null===l||l===f)&&!(f<0||f>s)){var h=e.slice(0,f);if((v=e.slice(f))===c){var d=Math.min(u,f);if((y=a.slice(0,d))===(_=h.slice(0,d)))return p(y,a.slice(d),h.slice(d),c)}}if(null===l||l===u){var g=u,v=(h=e.slice(0,g),e.slice(g));if(h===a){var m=Math.min(o-g,s-g);if((b=c.slice(c.length-m))===(x=v.slice(v.length-m)))return p(a,c.slice(0,c.length-m),v.slice(0,v.length-m),b)}}}if(r.length>0&&i&&0===i.length){var y=t.slice(0,r.index),b=t.slice(r.index+r.length);if(!(s<(d=y.length)+(m=b.length))){var _=e.slice(0,d),x=e.slice(s-m);if(y===_&&b===x)return p(y,t.slice(d,o-m),e.slice(d,s-m),b)}}return null}(t,n,c);if(f)return f}var h=s(t,n),d=t.substring(0,h);h=u(t=t.substring(h),n=n.substring(h));var g=t.substring(t.length-h),v=function(t,n){var a;if(!t)return[[1,n]];if(!n)return[[e,t]];var c=t.length>n.length?t:n,l=t.length>n.length?n:t,f=c.indexOf(l);if(-1!==f)return a=[[1,c.substring(0,f)],[0,l],[1,c.substring(f+l.length)]],t.length>n.length&&(a[0][0]=a[2][0]=e),a;if(1===l.length)return[[e,t],[1,n]];var h=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function i(t,e,n){for(var r,i,o,a,c=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!==(l=e.indexOf(c,l+1));){var h=s(t.substring(n),e.substring(l)),p=u(t.substring(0,n),e.substring(0,l));f.length<p+h&&(f=e.substring(l-p,l)+e.substring(l,l+h),r=t.substring(0,n-p),i=t.substring(n+h),o=e.substring(0,l-p),a=e.substring(l+h))}return 2*f.length>=t.length?[r,i,o,a,f]:null}var o,a,c,l,f,h=i(n,r,Math.ceil(n.length/4)),p=i(n,r,Math.ceil(n.length/2));if(!h&&!p)return null;o=p?h&&h[4].length>p[4].length?h:p:h;t.length>e.length?(a=o[0],c=o[1],l=o[2],f=o[3]):(l=o[0],f=o[1],a=o[2],c=o[3]);var d=o[4];return[a,c,l,f,d]}(t,n);if(h){var p=h[0],d=h[1],g=h[2],v=h[3],m=h[4],y=i(p,g),b=i(d,v);return y.concat([[0,m]],b)}return function(t,n){for(var i=t.length,s=n.length,u=Math.ceil((i+s)/2),a=u,c=2*u,l=new Array(c),f=new Array(c),h=0;h<c;h++)l[h]=-1,f[h]=-1;l[a+1]=0,f[a+1]=0;for(var p=i-s,d=p%2!=0,g=0,v=0,m=0,y=0,b=0;b<u&&!(r>0&&performance.now()>r);b++){for(var _=-b+g;_<=b-v;_+=2){for(var x=a+_,w=(T=_===-b||_!==b&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1)-_;T<i&&w<s&&t.charAt(T)===n.charAt(w);)T++,w++;if(l[x]=T,T>i)v+=2;else if(w>s)g+=2;else if(d){if((E=a+p-_)>=0&&E<c&&-1!==f[E])if(T>=(I=i-f[E]))return o(t,n,T,w)}}for(var O=-b+m;O<=b-y;O+=2){for(var I,E=a+O,S=(I=O===-b||O!==b&&f[E-1]<f[E+1]?f[E+1]:f[E-1]+1)-O;I<i&&S<s&&t.charAt(i-I-1)===n.charAt(s-S-1);)I++,S++;if(f[E]=I,I>i)y+=2;else if(S>s)m+=2;else if(!d){if((x=a+p-O)>=0&&x<c&&-1!==l[x]){var T;w=a+(T=l[x])-x;if(T>=(I=i-I))return o(t,n,T,w)}}}}return[[e,t],[1,n]]}(t,n)}(t=t.substring(0,t.length-h),n=n.substring(0,n.length-h));return d&&v.unshift([0,d]),g&&v.push([0,g]),a(v,l),v}function o(t,e,n,r){var o=t.substring(0,n),s=e.substring(0,r),u=t.substring(n),a=e.substring(r),c=i(o,s),l=i(u,a);return c.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return c(t.charCodeAt(i-1))&&i--,i}function u(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return l(t.charCodeAt(t.length-i))&&i--,i}function a(t,n){t.push([0,""]);for(var r,i=0,o=0,c=0,l="",p="";i<t.length;)if(i<t.length-1&&!t[i][1])t.splice(i,1);else switch(t[i][0]){case 1:c++,p+=t[i][1],i++;break;case e:o++,l+=t[i][1],i++;break;case 0:var d=i-c-o-1;if(n){if(d>=0&&h(t[d][1])){var g=t[d][1].slice(-1);if(t[d][1]=t[d][1].slice(0,-1),l=g+l,p=g+p,!t[d][1]){t.splice(d,1),i--;var v=d-1;t[v]&&1===t[v][0]&&(c++,p=t[v][1]+p,v--),t[v]&&t[v][0]===e&&(o++,l=t[v][1]+l,v--),d=v}}if(f(t[i][1])){g=t[i][1].charAt(0);t[i][1]=t[i][1].slice(1),l+=g,p+=g}}if(i<t.length-1&&!t[i][1]){t.splice(i,1);break}if(l.length>0||p.length>0){l.length>0&&p.length>0&&(0!==(r=s(p,l))&&(d>=0?t[d][1]+=p.substring(0,r):(t.splice(0,0,[0,p.substring(0,r)]),i++),p=p.substring(r),l=l.substring(r)),0!==(r=u(p,l))&&(t[i][1]=p.substring(p.length-r)+t[i][1],p=p.substring(0,p.length-r),l=l.substring(0,l.length-r)));var m=c+o;0===l.length&&0===p.length?(t.splice(i-m,m),i-=m):0===l.length?(t.splice(i-m,m,[1,p]),i=i-m+1):0===p.length?(t.splice(i-m,m,[e,l]),i=i-m+1):(t.splice(i-m,m,[e,l],[1,p]),i=i-m+2)}0!==i&&0===t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,c=0,o=0,l="",p=""}""===t[t.length-1][1]&&t.pop();var y=!1;for(i=1;i<t.length-1;)0===t[i-1][0]&&0===t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)===t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),y=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),y=!0)),i++;y&&a(t,n)}function c(t){return t>=55296&&t<=56319}function l(t){return t>=56320&&t<=57343}function f(t){return l(t.charCodeAt(0))}function h(t){return c(t.charCodeAt(t.length-1))}function p(t,n,r,i){return h(t)||f(i)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[0,t],[e,n],[1,r],[0,i]])}function d(t,e,o){return r=n>0?performance.now()+n:0,i(t,e,o,!0)}d.INSERT=1,d.DELETE=e,d.EQUAL=0,d.getTimeoutMs=function(){return n},d.setTimeoutMs=function(t){n=t},t.exports=d},17771:(t,e,n)=>{n.d(e,{Y:()=>a,g:()=>u});var r=n(57050);function i(t,e,n){return function(r){for(var o=Array(n.length+1),s=0;s<n.length;s++)o[s]=n[s];return o[n.length]=r,0===e?t.apply(null,o):i(t,e-1,o)}}var o={1:function(t){return[t]},2:function(t){return function(e){return[t,e]}},3:function(t){return function(e){return function(n){return[t,e,n]}}},4:function(t){return function(e){return function(n){return function(r){return[t,e,n,r]}}}},5:function(t){return function(e){return function(n){return function(r){return function(i){return[t,e,n,r,i]}}}}}};function s(t){return o.hasOwnProperty(t)||(o[t]=i(r.bc,t-1,[])),o[t]}function u(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=e.length,i=s(r),o=t.map(e[0],i),u=1;u<r;u++)o=t.ap(o,e[u]);return o}}function a(t){return function(e){for(var n=Object.keys(e),r=n.length,o=function(t){var e=t.length;switch(e){case 1:return function(e){var n;return(n={})[t[0]]=e,n};case 2:return function(e){return function(n){var r;return(r={})[t[0]]=e,r[t[1]]=n,r}};case 3:return function(e){return function(n){return function(r){var i;return(i={})[t[0]]=e,i[t[1]]=n,i[t[2]]=r,i}}};case 4:return function(e){return function(n){return function(r){return function(i){var o;return(o={})[t[0]]=e,o[t[1]]=n,o[t[2]]=r,o[t[3]]=i,o}}}};case 5:return function(e){return function(n){return function(r){return function(i){return function(o){var s;return(s={})[t[0]]=e,s[t[1]]=n,s[t[2]]=r,s[t[3]]=i,s[t[4]]=o,s}}}}};default:return i((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i={},o=0;o<e;o++)i[t[o]]=n[o];return i}),e-1,[])}}(n),s=t.map(e[n[0]],o),u=1;u<r;u++)s=t.ap(s,e[n[u]]);return s}}},19429:(t,e,n)=>{n.d(e,{I_:()=>s,UI:()=>v,VF:()=>o,r1:()=>S});var r=n(95195),i=n(57050),o=i.yR,s=function(t){return function(e){return function(n){return e(t(n))}}},u=function(t,e){return(0,i.zG)(t,v(e))},a=function(t,e){return(0,i.zG)(t,y(e))},c=function(t,e){return(0,i.zG)(t,x(e))},l=function(t,e){return(0,i.zG)(t,w(e))},f=function(t,e,n){return(0,i.zG)(t,O(e,n))},h=function(t){return function(e){var n=e[0],r=e[1];return[t(n),r]}},p=function(t){return function(e){var n=e[0],r=e[1];return[n,t(r)]}},d=function(t){return r.g_((function(e){return r.t$(t(e))}),r.F2)},g=function(t){return r.g_(r.t$,(function(e){return r.F2(t(e))}))},v=function(t){return function(e){return function(n){return t(e(n))}}},m=function(t){return function(e){return function(n){return e(n)(t(n))}}},y=m,b=i.a9,_=function(t){return function(e){return function(n){return t(e(n))(n)}}},x=_,w=function(t){return function(e){return(0,i.ls)(t,e)}},O=function(t,e){return function(n){return function(r){return e(n(t(r)))}}},I=function(){return i.yR},E="Reader";var S={URI:E,map:u,of:b,ap:a,chain:c,promap:f,compose:l,id:I,first:h,second:p,left:d,right:g}},48044:(t,e,n)=>{n.d(e,{AO:()=>g,DZ:()=>V,EG:()=>m,Eh:()=>E,FP:()=>x,KM:()=>d,P5:()=>w,Su:()=>H,Sw:()=>_,UI:()=>q,VO:()=>p,Wl:()=>y,XP:()=>h,YH:()=>Y,ZN:()=>u,ZQ:()=>v,cS:()=>I,cq:()=>b,dO:()=>J,dp:()=>a,fP:()=>l,hX:()=>B,kr:()=>O,oA:()=>U,oh:()=>G,qO:()=>Z,ri:()=>T,t9:()=>f,tV:()=>z,uK:()=>W,uZ:()=>S,xb:()=>c,xu:()=>K});var r=n(95195),i=n(73975);if(1307!=n.j)var o=n(57050);var s=n(5114);function u(t,e){return{show:function(n){var r="";return n.forEach((function(n,i){r+="["+t.show(i)+", "+e.show(n)+"], "})),""!==r&&(r=r.substring(0,r.length-2)),"new Map(["+r+"])"}}}function a(t){return t.size}function c(t){return 0===t.size}function l(t){var e=w(t);return function(n,r){if(void 0===r){var i=l(t);return function(t){return i(n,t)}}return s.isSome(e(n,r))}}function f(t){return function(e,n){if(void 0===n){var r=f(t);return function(t){return r(e,t)}}for(var i,o=n.values();!(i=o.next()).done;){var s=i.value;if(t.equals(e,s))return!0}return!1}}function h(t){return function(e){return Array.from(e.keys()).sort(t.compare)}}function p(t){return function(e){return Array.from(e.values()).sort(t.compare)}}function d(t){var e=h(t);return function(t){return function(n){for(var r=[],i=0,o=e(n);i<o.length;i++){var s=o[i];r.push(t(s,n.get(s)))}return r}}}function g(t){return d(t)((function(t,e){return[t,e]}))}function v(t){var e=x(t);return function(t,n){return function(r){var i,o=e(t,r);return s.isNone(o)?((i=new Map(r)).set(t,n),i):o.value[1]!==n?((i=new Map(r)).set(o.value[0],n),i):r}}}function m(t){var e=x(t);return function(t){return function(n){var r=e(t,n);if(s.isSome(r)){var i=new Map(n);return i.delete(r.value[0]),i}return n}}}function y(t){var e=x(t);return function(t,n){return function(r){var i=e(t,r);if(s.isNone(i))return s.none;var o=new Map(r);return o.set(i.value[0],n),s.some(o)}}}function b(t){var e=x(t);return function(t,n){return function(r){var i=e(t,r);if(s.isNone(i))return s.none;var o=new Map(r);return o.set(i.value[0],n(i.value[1])),s.some(o)}}}function _(t){var e=w(t),n=m(t);return function(t){var r=n(t);return function(n){return(0,o.zG)(e(t,n),s.map((function(t){return[t,r(n)]})))}}}function x(t){return function(e,n){if(void 0===n){var r=x(t);return function(t){return r(e,t)}}for(var i,o=n.entries();!(i=o.next()).done;){var u=i.value,a=u[0],c=u[1];if(t.equals(a,e))return s.some([a,c])}return s.none}}function w(t){var e=x(t);return function(n,r){if(void 0===r){var i=w(t);return function(t){return i(n,t)}}return(0,o.zG)(e(n,r),s.map((function(t){t[0];return t[1]})))}}function O(t,e){var n=x(t);return function(r,i){if(void 0===i){var o=O(t,e);return function(t){return o(t,r)}}for(var u,a=r.entries();!(u=a.next()).done;){var c=u.value,l=c[0],f=c[1],h=n(l,i);if(s.isNone(h)||!t.equals(l,h.value[0])||!e.equals(f,h.value[1]))return!1}return!0}}var I=new Map;function E(t,e){var n=O(t,e);return(0,i.f7)((function(t,e){return n(t,e)&&n(e,t)}))}function S(t,e){var n=x(t);return{concat:function(t,r){if(t===I)return r;if(r===I)return t;for(var i,o=new Map(t),u=r.entries();!(i=u.next()).done;){var a=i.value,c=a[0],l=a[1],f=n(c,t);s.isSome(f)?o.set(f.value[0],e.concat(f.value[1],l)):o.set(c,l)}return o},empty:I}}function T(t,e){return new Map([[t,e]])}var A=function(t,e){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var o=n.value,s=o[0],u=o[1];r.set(s,e(s,u))}return r},C=function(t,e){for(var n,i=new Map,o=new Map,s=t.entries();!(n=s.next()).done;){var u=n.value,a=u[0],c=e(a,u[1]);(0,r.nM)(c)?i.set(a,c.left):o.set(a,c.right)}return{left:i,right:o}},k=function(t,e){for(var n,r=new Map,i=new Map,o=t.entries();!(n=o.next()).done;){var s=n.value,u=s[0],a=s[1];e(u,a)?i.set(u,a):r.set(u,a)}return{left:r,right:i}},R=function(t,e){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var o=n.value,u=o[0],a=e(u,o[1]);s.isSome(a)&&r.set(u,a.value)}return r},P=function(t,e){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var o=n.value,s=o[0],u=o[1];e(s,u)&&r.set(s,u)}return r},N=function(t,e){return A(t,(function(t,n){return e(n)}))},D=function(t,e){return P(t,(function(t,n){return e(n)}))},j=function(t,e){return R(t,(function(t,n){return e(n)}))},M=function(t,e){return k(t,(function(t,n){return e(n)}))},L=function(t,e){return C(t,(function(t,n){return e(n)}))},U=function(t){for(var e,n=new Map,r=t.entries();!(e=r.next()).done;){var i=e.value,o=i[0],u=i[1];s.isSome(u)&&n.set(o,u.value)}return n},B=function(t){return function(e){return D(e,t)}},V=function(t){return function(e){return j(e,t)}},q=function(t){return function(e){return N(e,t)}},H=function(t){return function(e){return A(e,t)}},W=function(t){return function(e){return M(e,t)}},z=function(t){return function(e){return L(e,t)}},G=function(t){for(var e,n=new Map,i=new Map,o=t.entries();!(e=o.next()).done;){var s=e.value,u=s[0],a=s[1];(0,r.nM)(a)?n.set(u,a.left):i.set(u,a.right)}return{left:n,right:i}},F="ReadonlyMap";function Z(){return{URI:F,_E:void 0,map:N,mapWithIndex:A,compact:U,separate:G,filter:D,filterMap:j,partition:M,partitionMap:L,partitionMapWithIndex:C,partitionWithIndex:k,filterMapWithIndex:R,filterWithIndex:P}}function Y(t){var e=h(t),n=function(t,n,r){for(var i=n,o=e(t),s=o.length,u=0;u<s;u++){var a=o[u];i=r(a,i,t.get(a))}return i},r=function(t){return function(n,r){for(var i=t.empty,o=e(n),s=o.length,u=0;u<s;u++){var a=o[u];i=t.concat(i,r(a,n.get(a)))}return i}},i=function(t,n,r){for(var i=n,o=e(t),s=o.length-1;s>=0;s--){var u=o[s];i=r(u,t.get(u),i)}return i},o=function(t){return function(n,r){for(var i=t.of(I),o=e(n),s=o.length,u=function(e){var s=o[e],u=n.get(s);i=t.ap(t.map(i,(function(t){return function(e){return new Map(t).set(s,e)}})),r(s,u))},a=0;a<s;a++)u(a);return i}},s=function(t){var e=o(t);return function(t,n){return e(t,(function(t,e){return n(e)}))}};return{URI:F,_E:void 0,map:N,compact:U,separate:G,filter:D,filterMap:j,partition:M,partitionMap:L,reduce:function(t,e,r){return n(t,e,(function(t,e,n){return r(e,n)}))},foldMap:function(t){var e=r(t);return function(t,n){return e(t,(function(t,e){return n(e)}))}},reduceRight:function(t,e,n){return i(t,e,(function(t,e,r){return n(e,r)}))},traverse:s,sequence:function(t){var e=o(t);return function(t){return e(t,(function(t,e){return e}))}},mapWithIndex:A,reduceWithIndex:n,foldMapWithIndex:r,reduceRightWithIndex:i,traverseWithIndex:o,wilt:function(t){var e=s(t);return function(n,r){return t.map(e(n,r),G)}},wither:function(t){var e=s(t);return function(n,r){return t.map(e(n,r),U)}}}}var J={URI:F,map:N},K={URI:F,map:N,compact:U,separate:G,filter:D,filterMap:j,partition:M,partitionMap:L}},13853:(t,e,n)=>{n.d(e,{$T:()=>E,AO:()=>u,DZ:()=>k,Eh:()=>a,G:()=>c,G0:()=>v,KX:()=>p,Lf:()=>_,Lx:()=>O,Od:()=>S,UI:()=>l,ZN:()=>o,e5:()=>b,hX:()=>d,jV:()=>m,nI:()=>T,oA:()=>A,oP:()=>x,ri:()=>I,t9:()=>g,tS:()=>h,tV:()=>y,u4:()=>w,xu:()=>C,yW:()=>f});var r=n(73975),i=n(57050);function o(t){return{show:function(e){var n="";return e.forEach((function(e){n+=t.show(e)+", "})),""!==n&&(n=n.substring(0,n.length-2)),"new Set(["+n+"])"}}}var s=new Set;function u(t){return function(e){var n=[];return e.forEach((function(t){return n.push(t)})),n.sort(t.compare)}}function a(t){var e=p(t);return(0,r.f7)((function(t,n){return e(t,n)&&e(n,t)}))}function c(t){return function(e){for(var n,r=e.values(),i=!1;!i&&!(n=r.next()).done;)i=t(n.value);return i}}function l(t){var e=g(t);return function(t){return function(n){var r=new Set;return n.forEach((function(n){var i=t(n);e(i,r)||r.add(i)})),r}}}function f(t){return(0,i.ff)(c((0,i.ff)(t)))}function h(t){var e=g(t);return function(t){return function(n){var r=new Set;return n.forEach((function(n){t(n).forEach((function(t){e(t,r)||r.add(t)}))})),r}}}function p(t){var e=g(t);return function(n,r){if(void 0===r){var i=p(t);return function(t){return i(t,n)}}return f((function(t){return e(t,r)}))(n)}}function d(t){return function(e){for(var n,r=e.values(),i=new Set;!(n=r.next()).done;){var o=n.value;t(o)&&i.add(o)}return i}}function g(t){return function(e,n){if(void 0===n){var r=g(t);return function(t){return r(e,t)}}for(var i,o=n.values(),s=!1;!s&&!(i=o.next()).done;)s=t.equals(e,i.value);return s}}function v(t){var e=g(t);return function(n,r){if(void 0===r){var i=v(t);return function(t){return i(n,t)}}if(n===s)return r;if(r===s)return n;var o=new Set(n);return r.forEach((function(t){e(t,o)||o.add(t)})),o}}function m(t){var e=g(t);return function(n,r){if(void 0===r){var i=m(t);return function(t){return i(t,n)}}if(n===s||r===s)return s;var o=new Set;return n.forEach((function(t){e(t,r)&&o.add(t)})),o}}function y(t,e){return function(n){return function(r){for(var i,o=r.values(),s=new Set,u=new Set,a=g(t),c=g(e);!(i=o.next()).done;){var l=n(i.value);switch(l._tag){case"Left":a(l.left,s)||s.add(l.left);break;case"Right":c(l.right,u)||u.add(l.right)}}return{left:s,right:u}}}}function b(t){var e=g(t);return function(n,r){if(void 0===r){var i=b(t);return function(t){return i(t,n)}}return d((function(t){return!e(t,r)}))(n)}}function _(t){return{concat:v(t),empty:s}}function x(t){return{concat:m(t)}}function w(t){var e=u(t);return function(t,n){return function(r){return e(r).reduce(n,t)}}}function O(t,e){var n=u(t);return function(t){return function(r){return n(r).reduce((function(n,r){return e.concat(n,t(r))}),e.empty)}}}function I(t){return new Set([t])}function E(t){var e=g(t);return function(t){return function(n){if(e(t)(n))return n;var r=new Set(n);return r.add(t),r}}}function S(t){return function(e){return function(n){return d((function(n){return!t.equals(e,n)}))(n)}}}function T(t){return function(e){for(var n=e.length,r=new Set,i=g(t),o=0;o<n;o++){var s=e[o];i(s,r)||r.add(s)}return r}}function A(t){return k(t)(i.yR)}function C(t,e){return function(n){var r=g(t),i=g(e),o=new Set,s=new Set;return n.forEach((function(t){switch(t._tag){case"Left":r(t.left,o)||o.add(t.left);break;case"Right":i(t.right,s)||s.add(t.right)}})),{left:o,right:s}}}function k(t){var e=g(t);return function(t){return function(n){var r=new Set;return n.forEach((function(n){var i=t(n);"Some"!==i._tag||e(i.value,r)||r.add(i.value)})),r}}}},99950:(t,e,n)=>{n.d(e,{ap:()=>l,chain:()=>h,delay:()=>o,fromIO:()=>i,map:()=>c,of:()=>f,task:()=>g});var r=n(57050),i=function(t){return function(){return Promise.resolve(t())}};function o(t){return function(e){return function(){return new Promise((function(n){setTimeout((function(){e().then(n)}),t)}))}}}var s=function(t,e){return(0,r.zG)(t,c(e))},u=function(t,e){return(0,r.zG)(t,l(e))},a=function(t,e){return(0,r.zG)(t,h(e))},c=function(t){return function(e){return function(){return e().then(t)}}},l=function(t){return function(e){return function(){return Promise.all([e(),t()]).then((function(t){return(0,t[0])(t[1])}))}}},f=function(t){return function(){return Promise.resolve(t)}},h=function(t){return function(e){return function(){return e().then((function(e){return t(e)()}))}}},p=r.yR,d="Task";var g={URI:d,map:s,of:f,ap:u,chain:a,fromIO:i,fromTask:p}},93756:(t,e,n)=>{if(n.d(e,{EK:()=>h,Eh:()=>l,F2:()=>s,Hk:()=>u,IS:()=>f,Pd:()=>m,Qp:()=>v,Vn:()=>y,WP:()=>g,ZN:()=>c,g_:()=>a,nM:()=>p,t$:()=>o,tO:()=>d}),1307!=n.j)var r=n(73975);var i=n(5114);n(57050);function o(t){return{_tag:"Left",left:t}}function s(t){return{_tag:"Right",right:t}}function u(t,e){return{_tag:"Both",left:t,right:e}}function a(t,e,n){return function(r){switch(r._tag){case"Left":return t(r.left);case"Right":return e(r.right);case"Both":return n(r.left,r.right)}}}a(s,o,(function(t,e){return u(e,t)}));function c(t,e){return{show:a((function(e){return"left("+t.show(e)+")"}),(function(t){return"right("+e.show(t)+")"}),(function(n,r){return"both("+t.show(n)+", "+e.show(r)+")"}))}}function l(t,e){return(0,r.f7)((function(n,r){return p(n)?p(r)&&t.equals(n.left,r.left):d(n)?d(r)&&e.equals(n.right,r.right):g(r)&&t.equals(n.left,r.left)&&e.equals(n.right,r.right)}))}function f(t){return p(t)?(0,i.some)(t.left):d(t)?i.none:(0,i.some)(t.left)}function h(t){return p(t)?i.none:(d(t),(0,i.some)(t.right))}function p(t){return"Left"===t._tag}function d(t){return"Right"===t._tag}function g(t){return"Both"===t._tag}function v(t,e){return(0,i.isNone)(t)?(0,i.isNone)(e)?i.none:(0,i.some)(s(e.value)):(0,i.isNone)(e)?(0,i.some)(o(t.value)):(0,i.some)(u(t.value,e.value))}var m=function(t,e){return function(n){return p(n)?o(t(n.left)):d(n)?s(e(n.right)):u(t(n.left),e(n.right))}},y=function(t){return function(e){return p(e)?o(t(e.left)):g(e)?u(t(e.left),e.right):e}}},12271:(t,e,n)=>{n.d(e,{Pd:()=>f,li:()=>c,UI:()=>h,Yg:()=>l});var r=n(57050);function i(t){return t[0]}function o(t){return t[1]}var s=function(t,e){return function(n){return[e(i(n)),t(o(n))]}},u=function(t){return function(e){return[t(e),o(e)]}},a=(r.yR,function(t){return function(e){return[t(i(e)),o(e)]}}),c=i,l=o,f=s,h=a},32687:(t,e,n)=>{n.d(e,{Rn:()=>o});var r=n(69243);function i(t){return void 0!==t.message?t.message:"Invalid value ".concat((e=t.value,"function"==typeof e?(0,r.$P)(e):"number"!=typeof e||isFinite(e)?JSON.stringify(e):isNaN(e)?"NaN":e>0?"Infinity":"-Infinity")," supplied to ").concat(t.context.map((function(t){var e=t.key,n=t.type;return"".concat(e,": ").concat(n.name)})).join("/"));var e}function o(t){return t.map(i)}(0,n(95195).g_)(o,(function(){return["No errors!"]}))},69243:(t,e,n)=>{n.d(e,{$P:()=>h,Dy:()=>l,G0:()=>K,IX:()=>z,Ii:()=>Q,JS:()=>p,O7:()=>P,OT:()=>nt,Rn:()=>a,UQ:()=>V,Vp:()=>c,X1:()=>G,Z_:()=>k,bc:()=>tt,dt:()=>F,i0:()=>M,jV:()=>X,mM:()=>U,mq:()=>u,pk:()=>R,r$:()=>Y,sH:()=>H,w3:()=>F,yR:()=>f});var r,i=n(95195),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)},u=i.t$,a=function(t,e,n){return u([{value:t,context:e,message:n}])},c=i.F2,l=function(){function t(t,e,n,r){this.name=t,this.is=e,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return t.prototype.pipe=function(e,n){var r=this;return void 0===n&&(n="pipe(".concat(this.name,", ").concat(e.name,")")),new t(n,e.is,(function(t,n){var o=r.validate(t,n);return(0,i.nM)(o)?o:e.validate(o.right,n)}),this.encode===f&&e.encode===f?f:function(t){return r.encode(e.encode(t))})},t.prototype.asDecoder=function(){return this},t.prototype.asEncoder=function(){return this},t.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},t}(),f=function(t){return t};function h(t){return t.displayName||t.name||"<function".concat(t.length,">")}function p(t,e,n,r){for(var i=t.length,o=Array(i+1),s=0;s<i;s++)o[s]=t[s];return o[i]={key:e,type:n,actual:r},o}function d(t,e){for(var n=e.length,r=0;r<n;r++)t.push(e[r])}var g=Object.prototype.hasOwnProperty;function v(t){return Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e].name)})).join(", ")}function m(t){for(var e=0;e<t.length;e++)if(t[e].encode!==f)return!1;return!0}function y(t){return"{ ".concat(v(t)," }")}function b(t){return"Partial<".concat(t,">")}function _(t){return"("+t.map((function(t){return t.name})).join(" | ")+")"}function x(t,e){for(var n=!0,r=!0,i=!D.is(t),o=0,s=e;o<s.length;o++){(l=s[o])!==t&&(n=!1),D.is(l)&&(r=!1)}if(n)return t;if(r)return e[e.length-1];for(var u={},a=0,c=e;a<c.length;a++){var l=c[a];for(var f in l)g.call(u,f)&&!i&&l[f]===t[f]||(u[f]=l[f])}return u}var w={};function O(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];-1!==e.indexOf(o)&&n.push(o)}return n}function I(t){return"LiteralType"===t._tag}function E(t){return"InterfaceType"===t._tag}function S(t){return"UnionType"===t._tag}var T=[];function A(t){if(-1!==T.indexOf(t))return w;if(E(t)||function(t){return"StrictType"===t._tag}(t)){var e=w;for(var n in t.props){var r=t.props[n];I(r)&&(e===w&&(e={}),e[n]=[r.value])}return e}if(function(t){return"ExactType"===t._tag}(t)||function(t){return"RefinementType"===t._tag}(t))return A(t.type);if(function(t){return"IntersectionType"===t._tag}(t))return t.types.reduce((function(t,e){return function(t,e){if(t===w)return e;if(e===w)return t;var n=Object.assign({},t);for(var r in e)if(g.call(t,r)){var i=O(t[r],e[r]);if(!(i.length>0)){n=w;break}n[r]=i}else n[r]=e[r];return n}(t,A(e))}),w);if(S(t))return t.types.slice(1).reduce((function(t,e){return function(t,e){if(t===w||e===w)return w;var n=w;for(var r in t)g.call(e,r)&&0===O(t[r],e[r]).length&&(n===w&&(n={}),n[r]=t[r].concat(e[r]));return n}(t,A(e))}),A(t.types[0]));if(function(t){return"RecursiveType"===t._tag}(t)){T.push(t);var i=A(t.type);return T.pop(),i}return w}new(function(t){function e(){var e=t.call(this,"null",(function(t){return null===t}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="NullType",e}return o(e,t),e}(l));var C=new(function(t){function e(){var e=t.call(this,"undefined",(function(t){return void 0===t}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="UndefinedType",e}return o(e,t),e}(l)),k=(new(function(t){function e(){var e=t.call(this,"void",C.is,C.validate,f)||this;return e._tag="VoidType",e}return o(e,t),e}(l)),new(function(t){function e(){var e=t.call(this,"unknown",(function(t){return!0}),c,f)||this;return e._tag="UnknownType",e}return o(e,t),e}(l)),new(function(t){function e(){var e=t.call(this,"string",(function(t){return"string"==typeof t}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="StringType",e}return o(e,t),e}(l))),R=new(function(t){function e(){var e=t.call(this,"number",(function(t){return"number"==typeof t}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="NumberType",e}return o(e,t),e}(l)),P=(new(function(t){function e(){var e=t.call(this,"bigint",(function(t){return"bigint"==typeof t}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="BigIntType",e}return o(e,t),e}(l)),new(function(t){function e(){var e=t.call(this,"boolean",(function(t){return"boolean"==typeof t}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="BooleanType",e}return o(e,t),e}(l))),N=new(function(t){function e(){var e=t.call(this,"UnknownArray",Array.isArray,(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="AnyArrayType",e}return o(e,t),e}(l)),D=new(function(t){function e(){var e=t.call(this,"UnknownRecord",(function(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="AnyDictionaryType",e}return o(e,t),e}(l)),j=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.value=o,s._tag="LiteralType",s}return o(e,t),e}(l);function M(t,e){void 0===e&&(e=JSON.stringify(t));var n=function(e){return e===t};return new j(e,n,(function(e,r){return n(e)?c(t):a(e,r)}),f,t)}var L=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.keys=o,s._tag="KeyofType",s}return o(e,t),e}(l);function U(t,e){void 0===e&&(e=Object.keys(t).map((function(t){return JSON.stringify(t)})).join(" | "));var n=function(e){return k.is(e)&&g.call(t,e)};return new L(e,n,(function(t,e){return n(t)?c(t):a(t,e)}),f,t)}var B=function(t){function e(e,n,r,i,o,s){var u=t.call(this,e,n,r,i)||this;return u.type=o,u.predicate=s,u._tag="RefinementType",u}return o(e,t),e}(l);function V(t,e,n){return it(t,e,n)}V(R,(function(t){return Number.isInteger(t)}),"Int");var q=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.runDefinition=o,s._tag="RecursiveType",s}return o(e,t),e}(l);function H(t,e){var n,r=function(){return n||((n=e(i)).name=t),n},i=new q(t,(function(t){return r().is(t)}),(function(t,e){return r().validate(t,e)}),(function(t){return r().encode(t)}),r);return i}Object.defineProperty(q.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var W=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.type=o,s._tag="ArrayType",s}return o(e,t),e}(l);function z(t,e){return void 0===e&&(e="Array<".concat(t.name,">")),new W(e,(function(e){return N.is(e)&&e.every(t.is)}),(function(e,n){var r=N.validate(e,n);if((0,i.nM)(r))return r;for(var o=r.right,s=o.length,a=o,l=[],f=0;f<s;f++){var h=o[f],g=t.validate(h,p(n,String(f),t,h));if((0,i.nM)(g))d(l,g.left);else{var v=g.right;v!==h&&(a===o&&(a=o.slice()),a[f]=v)}}return l.length>0?u(l):c(a)}),t.encode===f?f:function(e){return e.map(t.encode)},t)}var G=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.props=o,s._tag="InterfaceType",s}return o(e,t),e}(l);function F(t,e){void 0===e&&(e=y(t));var n=Object.keys(t),r=n.map((function(e){return t[e]})),o=n.length;return new G(e,(function(t){if(D.is(t)){for(var e=0;e<o;e++){var i=n[e],s=t[i];if(void 0===s&&!g.call(t,i)||!r[e].is(s))return!1}return!0}return!1}),(function(t,e){var a=D.validate(t,e);if((0,i.nM)(a))return a;for(var l=a.right,f=l,h=[],v=0;v<o;v++){var m=n[v],y=f[m],b=r[v],_=b.validate(y,p(e,m,b,y));if((0,i.nM)(_))d(h,_.left);else{var x=_.right;(x!==y||void 0===x&&!g.call(f,m))&&(f===l&&(f=s({},l)),f[m]=x)}}return h.length>0?u(h):c(f)}),m(r)?f:function(t){for(var e=s({},t),i=0;i<o;i++){var u=n[i],a=r[i].encode;a!==f&&(e[u]=a(t[u]))}return e},t)}var Z=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.props=o,s._tag="PartialType",s}return o(e,t),e}(l);function Y(t,e){void 0===e&&(e=b(y(t)));var n=Object.keys(t),r=n.map((function(e){return t[e]})),o=n.length;return new Z(e,(function(e){if(D.is(e)){for(var r=0;r<o;r++){var i=n[r],s=e[i];if(void 0!==s&&!t[i].is(s))return!1}return!0}return!1}),(function(e,r){var a=D.validate(e,r);if((0,i.nM)(a))return a;for(var l=a.right,f=l,h=[],g=0;g<o;g++){var v=n[g],m=f[v],y=t[v],b=y.validate(m,p(r,v,y,m));if((0,i.nM)(b))void 0!==m&&d(h,b.left);else{var _=b.right;_!==m&&(f===l&&(f=s({},l)),f[v]=_)}}return h.length>0?u(h):c(f)}),m(r)?f:function(t){for(var e=s({},t),i=0;i<o;i++){var u=n[i],a=t[u];void 0!==a&&(e[u]=r[i].encode(a))}return e},t)}!function(t){function e(e,n,r,i,o,s){var u=t.call(this,e,n,r,i)||this;return u.domain=o,u.codomain=s,u._tag="DictionaryType",u}o(e,t)}(l);var J=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.types=o,s._tag="UnionType",s}return o(e,t),e}(l);function K(t,e){void 0===e&&(e=_(t));var n=function(t){for(var e=A(t[0]),n=Object.keys(e),r=t.length,i=function(n){for(var i=e[n].slice(),o=[e[n]],s=1;s<r;s++){var u=A(t[s])[n];if(void 0===u)return"continue-keys";if(u.some((function(t){return-1!==i.indexOf(t)})))return"continue-keys";i.push.apply(i,u),o.push(u)}return{value:[n,o]}},o=0,s=n;o<s.length;o++){var u=i(s[o]);if("object"==typeof u)return u.value}}(t);if(void 0!==n&&t.length>0){var r=n[0],o=n[1],s=o.length,l=function(t){for(var e=0;e<s;e++)if(-1!==o[e].indexOf(t))return e};return new rt(e,(function(e){if(D.is(e)){var n=l(e[r]);return void 0!==n&&t[n].is(e)}return!1}),(function(e,n){var o=D.validate(e,n);if((0,i.nM)(o))return o;var s=o.right,u=l(s[r]);if(void 0===u)return a(e,n);var c=t[u];return c.validate(s,p(n,String(u),c,s))}),m(t)?f:function(n){var i=l(n[r]);if(void 0===i)throw new Error("no codec found to encode value in union codec ".concat(e));return t[i].encode(n)},t,r)}return new J(e,(function(e){return t.some((function(t){return t.is(e)}))}),(function(e,n){for(var r=[],o=0;o<t.length;o++){var s=t[o],a=s.validate(e,p(n,String(o),s,e));if(!(0,i.nM)(a))return c(a.right);d(r,a.left)}return u(r)}),m(t)?f:function(n){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.is(n))return o.encode(n)}throw new Error("no codec found to encode value in union type ".concat(e))},t)}var Q=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.types=o,s._tag="IntersectionType",s}return o(e,t),e}(l);function X(t,e){void 0===e&&(e="(".concat(t.map((function(t){return t.name})).join(" & "),")"));var n=t.length;return new Q(e,(function(e){return t.every((function(t){return t.is(e)}))}),0===t.length?c:function(e,r){for(var o=[],s=[],a=0;a<n;a++){var l=t[a],f=l.validate(e,p(r,String(a),l,e));(0,i.nM)(f)?d(s,f.left):o.push(f.right)}return s.length>0?u(s):c(x(e,o))},0===t.length?f:function(e){return x(e,t.map((function(t){return t.encode(e)})))},t)}var $=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.types=o,s._tag="TupleType",s}return o(e,t),e}(l);function tt(t,e){void 0===e&&(e="[".concat(t.map((function(t){return t.name})).join(", "),"]"));var n=t.length;return new $(e,(function(e){return N.is(e)&&e.length===n&&t.every((function(t,n){return t.is(e[n])}))}),(function(e,r){var o=N.validate(e,r);if((0,i.nM)(o))return o;for(var s=o.right,a=s.length>n?s.slice(0,n):s,l=[],f=0;f<n;f++){var h=s[f],g=t[f],v=g.validate(h,p(r,String(f),g,h));if((0,i.nM)(v))d(l,v.left);else{var m=v.right;m!==h&&(a===s&&(a=s.slice()),a[f]=m)}}return l.length>0?u(l):c(a)}),m(t)?f:function(e){return t.map((function(t,n){return t.encode(e[n])}))},t)}var et=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.type=o,s._tag="ReadonlyType",s}return o(e,t),e}(l);function nt(t,e){return void 0===e&&(e="Readonly<".concat(t.name,">")),new et(e,t.is,t.validate,t.encode,t)}!function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.type=o,s._tag="ReadonlyArrayType",s}o(e,t)}(l);!function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.type=o,s._tag="ExactType",s}o(e,t)}(l);new(function(t){function e(){var e=t.call(this,"Function",(function(t){return"function"==typeof t}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="FunctionType",e}return o(e,t),e}(l));var rt=function(t){function e(e,n,r,i,o,s){var u=t.call(this,e,n,r,i,o)||this;return u.tag=s,u}return o(e,t),e}(J);new(function(t){function e(){var e=t.call(this,"never",(function(t){return!1}),(function(t,e){return a(t,e)}),(function(){throw new Error("cannot encode never")}))||this;return e._tag="NeverType",e}return o(e,t),e}(l)),new(function(t){function e(){var e=t.call(this,"any",(function(t){return!0}),c,f)||this;return e._tag="AnyType",e}return o(e,t),e}(l)),new(function(t){function e(){var e=t.call(this,"object",(function(t){return null!==t&&"object"==typeof t}),(function(t,n){return e.is(t)?c(t):a(t,n)}),f)||this;return e._tag="ObjectType",e}return o(e,t),e}(l));function it(t,e,n){return void 0===n&&(n="(".concat(t.name," | ").concat(h(e),")")),new B(n,(function(n){return t.is(n)&&e(n)}),(function(n,r){var o=t.validate(n,r);if((0,i.nM)(o))return o;var s=o.right;return e(s)?c(s):a(s,r)}),t.encode,t,e)}it(R,Number.isInteger,"Integer"),function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.props=o,s._tag="StrictType",s}o(e,t)}(l)},99129:t=>{t.exports=self.FormData},54335:t=>{var e="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var u,a,c,l;if(Array.isArray(t)){if((u=t.length)!=s.length)return!1;for(a=u;0!=a--;)if(!o(t[a],s[a]))return!1;return!0}if(n&&t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(l=t.entries();!(a=l.next()).done;)if(!s.has(a.value[0]))return!1;for(l=t.entries();!(a=l.next()).done;)if(!o(a.value[1],s.get(a.value[0])))return!1;return!0}if(r&&t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(l=t.entries();!(a=l.next()).done;)if(!s.has(a.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(s)){if((u=t.length)!=s.length)return!1;for(a=u;0!=a--;)if(t[a]!==s[a])return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((u=(c=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(a=u;0!=a--;)if(!Object.prototype.hasOwnProperty.call(s,c[a]))return!1;if(e&&t instanceof Element)return!1;for(a=u;0!=a--;)if(("_owner"!==c[a]&&"__v"!==c[a]&&"__o"!==c[a]||!t.$$typeof)&&!o(t[c[a]],s[c[a]]))return!1;return!0}return t!=t&&s!=s}t.exports=function(t,e){try{return o(t,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}},28846:(t,e,n)=>{n.d(e,{D:()=>wt});var r=n(27378),i=n(31542);function o(t){if(null==t)return self;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||self}return t}function s(t){return t instanceof o(t).Element||t instanceof Element}function u(t){return t instanceof o(t).HTMLElement||t instanceof HTMLElement}function a(t){return"undefined"!=typeof ShadowRoot&&(t instanceof o(t).ShadowRoot||t instanceof ShadowRoot)}var c=Math.max,l=Math.min,f=Math.round;function h(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function p(){return!/^((?!chrome|android).)*safari/i.test(h())}function d(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&u(t)&&(i=t.offsetWidth>0&&f(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&f(r.height)/t.offsetHeight||1);var c=(s(t)?o(t):self).visualViewport,l=!p()&&n,h=(r.left+(l&&c?c.offsetLeft:0))/i,d=(r.top+(l&&c?c.offsetTop:0))/a,g=r.width/i,v=r.height/a;return{width:g,height:v,top:d,right:h+g,bottom:d+v,left:h,x:h,y:d}}function g(t){var e=o(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function v(t){return t?(t.nodeName||"").toLowerCase():null}function m(t){return((s(t)?t.ownerDocument:t.document)||self.document).documentElement}function y(t){return d(m(t)).left+g(t).scrollLeft}function b(t){return o(t).getComputedStyle(t)}function _(t){var e=b(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function x(t,e,n){void 0===n&&(n=!1);var r,i,s=u(e),a=u(e)&&function(t){var e=t.getBoundingClientRect(),n=f(e.width)/t.offsetWidth||1,r=f(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),c=m(e),l=d(t,a,n),h={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(s||!s&&!n)&&(("body"!==v(e)||_(c))&&(h=(r=e)!==o(r)&&u(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:g(r)),u(e)?((p=d(e,!0)).x+=e.clientLeft,p.y+=e.clientTop):c&&(p.x=y(c))),{x:l.left+h.scrollLeft-p.x,y:l.top+h.scrollTop-p.y,width:l.width,height:l.height}}function w(t){var e=d(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function O(t){return"html"===v(t)?t:t.assignedSlot||t.parentNode||(a(t)?t.host:null)||m(t)}function I(t){return["html","body","#document"].indexOf(v(t))>=0?t.ownerDocument.body:u(t)&&_(t)?t:I(O(t))}function E(t,e){var n;void 0===e&&(e=[]);var r=I(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),s=o(r),u=i?[s].concat(s.visualViewport||[],_(r)?r:[]):r,a=e.concat(u);return i?a:a.concat(E(O(u)))}function S(t){return["table","td","th"].indexOf(v(t))>=0}function T(t){return u(t)&&"fixed"!==b(t).position?t.offsetParent:null}function A(t){for(var e=o(t),n=T(t);n&&S(n)&&"static"===b(n).position;)n=T(n);return n&&("html"===v(n)||"body"===v(n)&&"static"===b(n).position)?e:n||function(t){var e=/firefox/i.test(h());if(/Trident/i.test(h())&&u(t)&&"fixed"===b(t).position)return null;var n=O(t);for(a(n)&&(n=n.host);u(n)&&["html","body"].indexOf(v(n))<0;){var r=b(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var C="top",k="bottom",R="right",P="left",N="auto",D=[C,k,R,P],j="start",M="end",L="viewport",U="popper",B=D.reduce((function(t,e){return t.concat([e+"-"+j,e+"-"+M])}),[]),V=[].concat(D,[N]).reduce((function(t,e){return t.concat([e,e+"-"+j,e+"-"+M])}),[]),q=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}var W={placement:"bottom",modifiers:[],strategy:"absolute"};function z(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function G(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?W:i;return function(t,e,n){void 0===n&&(n=o);var i,u,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},W,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,f={state:a,setOptions:function(n){var i="function"==typeof n?n(a.options):n;h(),a.options=Object.assign({},o,a.options,i),a.scrollParents={reference:s(t)?E(t):t.contextElement?E(t.contextElement):[],popper:E(e)};var u=function(t){var e=H(t);return q.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=u.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var o=i({state:a,name:e,instance:f,options:r}),s=function(){};c.push(o||s)}})),f.update()},forceUpdate:function(){if(!l){var t=a.elements,e=t.reference,n=t.popper;if(z(e,n)){a.rects={reference:x(e,A(n),"fixed"===a.options.strategy),popper:w(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,s=i.options,u=void 0===s?{}:s,c=i.name;"function"==typeof o&&(a=o({state:a,options:u,name:c,instance:f})||a)}else a.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){f.forceUpdate(),t(a)}))},function(){return u||(u=new Promise((function(t){Promise.resolve().then((function(){u=void 0,t(i())}))}))),u}),destroy:function(){h(),l=!0}};if(!z(t,e))return f;function h(){c.forEach((function(t){return t()})),c=[]}return f.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),f}}var F={passive:!0};function Z(t){return t.split("-")[0]}function Y(t){return t.split("-")[1]}function J(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function K(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?Z(i):null,s=i?Y(i):null,u=n.x+n.width/2-r.width/2,a=n.y+n.height/2-r.height/2;switch(o){case C:e={x:u,y:n.y-r.height};break;case k:e={x:u,y:n.y+n.height};break;case R:e={x:n.x+n.width,y:a};break;case P:e={x:n.x-r.width,y:a};break;default:e={x:n.x,y:n.y}}var c=o?J(o):null;if(null!=c){var l="y"===c?"height":"width";switch(s){case j:e[c]=e[c]-(n[l]/2-r[l]/2);break;case M:e[c]=e[c]+(n[l]/2-r[l]/2)}}return e}var Q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,u=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,h=t.roundOffsets,p=t.isFixed,d=u.x,g=void 0===d?0:d,v=u.y,y=void 0===v?0:v,_="function"==typeof h?h({x:g,y}):{x:g,y};g=_.x,y=_.y;var x=u.hasOwnProperty("x"),w=u.hasOwnProperty("y"),O=P,I=C,E=self;if(l){var S=A(n),T="clientHeight",N="clientWidth";if(S===o(n)&&"static"!==b(S=m(n)).position&&"absolute"===a&&(T="scrollHeight",N="scrollWidth"),i===C||(i===P||i===R)&&s===M)I=k,y-=(p&&S===E&&E.visualViewport?E.visualViewport.height:S[T])-r.height,y*=c?1:-1;if(i===P||(i===C||i===k)&&s===M)O=R,g-=(p&&S===E&&E.visualViewport?E.visualViewport.width:S[N])-r.width,g*=c?1:-1}var D,j=Object.assign({position:a},l&&Q),L=!0===h?function(t){var e=t.x,n=t.y,r=self.devicePixelRatio||1;return{x:f(e*r)/r||0,y:f(n*r)/r||0}}({x:g,y}):{x:g,y};return g=L.x,y=L.y,c?Object.assign({},j,((D={})[I]=w?"0":"",D[O]=x?"0":"",D.transform=(E.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",D)):Object.assign({},j,((e={})[I]=w?y+"px":"",e[O]=x?g+"px":"",e.transform="",e))}const $={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,s=V.reduce((function(t,n){return t[n]=function(t,e,n){var r=Z(t),i=[P,C].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=o[0],u=o[1];return s=s||0,u=(u||0)*i,[P,R].indexOf(r)>=0?{x:u,y:s}:{x:s,y:u}}(n,e.rects,o),t}),{}),u=s[e.placement],a=u.x,c=u.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}};var tt={left:"right",right:"left",bottom:"top",top:"bottom"};function et(t){return t.replace(/left|right|bottom|top/g,(function(t){return tt[t]}))}var nt={start:"end",end:"start"};function rt(t){return t.replace(/start|end/g,(function(t){return nt[t]}))}function it(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&a(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ot(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function st(t,e,n){return e===L?ot(function(t,e){var n=o(t),r=m(t),i=n.visualViewport,s=r.clientWidth,u=r.clientHeight,a=0,c=0;if(i){s=i.width,u=i.height;var l=p();(l||!l&&"fixed"===e)&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:u,x:a+y(t),y:c}}(t,n)):s(e)?function(t,e){var n=d(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):ot(function(t){var e,n=m(t),r=g(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=c(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=c(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+y(t),a=-r.scrollTop;return"rtl"===b(i||n).direction&&(u+=c(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:u,y:a}}(m(t)))}function ut(t,e,n,r){var i="clippingParents"===e?function(t){var e=E(O(t)),n=["absolute","fixed"].indexOf(b(t).position)>=0&&u(t)?A(t):t;return s(n)?e.filter((function(t){return s(t)&&it(t,n)&&"body"!==v(t)})):[]}(t):[].concat(e),o=[].concat(i,[n]),a=o[0],f=o.reduce((function(e,n){var i=st(t,n,r);return e.top=c(i.top,e.top),e.right=l(i.right,e.right),e.bottom=l(i.bottom,e.bottom),e.left=c(i.left,e.left),e}),st(t,a,r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function at(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function ct(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function lt(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.strategy,u=void 0===o?t.strategy:o,a=n.boundary,c=void 0===a?"clippingParents":a,l=n.rootBoundary,f=void 0===l?L:l,h=n.elementContext,p=void 0===h?U:h,g=n.altBoundary,v=void 0!==g&&g,y=n.padding,b=void 0===y?0:y,_=at("number"!=typeof b?b:ct(b,D)),x=p===U?"reference":U,w=t.rects.popper,O=t.elements[v?x:p],I=ut(s(O)?O:O.contextElement||m(t.elements.popper),c,f,u),E=d(t.elements.reference),S=K({reference:E,element:w,strategy:"absolute",placement:i}),T=ot(Object.assign({},w,S)),A=p===U?T:E,P={top:I.top-A.top+_.top,bottom:A.bottom-I.bottom+_.bottom,left:I.left-A.left+_.left,right:A.right-I.right+_.right},N=t.modifiersData.offset;if(p===U&&N){var j=N[i];Object.keys(P).forEach((function(t){var e=[R,k].indexOf(t)>=0?1:-1,n=[C,k].indexOf(t)>=0?"y":"x";P[t]+=j[n]*e}))}return P}function ft(t,e,n){return c(t,l(e,n))}const ht={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,u=void 0!==s&&s,a=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.padding,d=n.tether,g=void 0===d||d,v=n.tetherOffset,m=void 0===v?0:v,y=lt(e,{boundary:a,rootBoundary:f,padding:p,altBoundary:h}),b=Z(e.placement),_=Y(e.placement),x=!_,O=J(b),I="x"===O?"y":"x",E=e.modifiersData.popperOffsets,S=e.rects.reference,T=e.rects.popper,N="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,D="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(E){if(o){var U,B="y"===O?C:P,V="y"===O?k:R,q="y"===O?"height":"width",H=E[O],W=H+y[B],z=H-y[V],G=g?-T[q]/2:0,F=_===j?S[q]:T[q],K=_===j?-T[q]:-S[q],Q=e.elements.arrow,X=g&&Q?w(Q):{width:0,height:0},$=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tt=$[B],et=$[V],nt=ft(0,S[q],X[q]),rt=x?S[q]/2-G-nt-tt-D.mainAxis:F-nt-tt-D.mainAxis,it=x?-S[q]/2+G+nt+et+D.mainAxis:K+nt+et+D.mainAxis,ot=e.elements.arrow&&A(e.elements.arrow),st=ot?"y"===O?ot.clientTop||0:ot.clientLeft||0:0,ut=null!=(U=null==M?void 0:M[O])?U:0,at=H+it-ut,ct=ft(g?l(W,H+rt-ut-st):W,H,g?c(z,at):z);E[O]=ct,L[O]=ct-H}if(u){var ht,pt="x"===O?C:P,dt="x"===O?k:R,gt=E[I],vt="y"===I?"height":"width",mt=gt+y[pt],yt=gt-y[dt],bt=-1!==[C,P].indexOf(b),_t=null!=(ht=null==M?void 0:M[I])?ht:0,xt=bt?mt:gt-S[vt]-T[vt]-_t+D.altAxis,wt=bt?gt+S[vt]+T[vt]-_t-D.altAxis:yt,Ot=g&&bt?function(t,e,n){var r=ft(t,e,n);return r>n?n:r}(xt,gt,wt):ft(g?xt:mt,gt,g?wt:yt);E[I]=Ot,L[I]=Ot-gt}e.modifiersData[r]=L}},requiresIfExists:["offset"]};const pt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,u=Z(n.placement),a=J(u),c=[P,R].indexOf(u)>=0?"height":"width";if(o&&s){var l=function(t,e){return at("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:ct(t,D))}(i.padding,n),f=w(o),h="y"===a?C:P,p="y"===a?k:R,d=n.rects.reference[c]+n.rects.reference[a]-s[a]-n.rects.popper[c],g=s[a]-n.rects.reference[a],v=A(o),m=v?"y"===a?v.clientHeight||0:v.clientWidth||0:0,y=d/2-g/2,b=l[h],_=m-f[c]-l[p],x=m/2-f[c]/2+y,O=ft(b,x,_),I=a;n.modifiersData[r]=((e={})[I]=O,e.centerOffset=O-x,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&it(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function gt(t){return[C,R,k,P].some((function(e){return t[e]>=0}))}var vt=G({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=void 0===i||i,u=r.resize,a=void 0===u||u,c=o(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach((function(t){t.addEventListener("scroll",n.update,F)})),a&&c.addEventListener("resize",n.update,F),function(){s&&l.forEach((function(t){t.removeEventListener("scroll",n.update,F)})),a&&c.removeEventListener("resize",n.update,F)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=K({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,u=n.roundOffsets,a=void 0===u||u,c={placement:Z(e.placement),variation:Y(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,X(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,X(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];u(i)&&v(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});u(r)&&v(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]},$,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,u=void 0===s||s,a=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,d=void 0===p||p,g=n.allowedAutoPlacements,v=e.options.placement,m=Z(v),y=a||(m===v||!d?[et(v)]:function(t){if(Z(t)===N)return[];var e=et(t);return[rt(t),e,rt(e)]}(v)),b=[v].concat(y).reduce((function(t,n){return t.concat(Z(n)===N?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,u=n.flipVariations,a=n.allowedAutoPlacements,c=void 0===a?V:a,l=Y(r),f=l?u?B:B.filter((function(t){return Y(t)===l})):D,h=f.filter((function(t){return c.indexOf(t)>=0}));0===h.length&&(h=f);var p=h.reduce((function(e,n){return e[n]=lt(t,{placement:n,boundary:i,rootBoundary:o,padding:s})[Z(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}(e,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:d,allowedAutoPlacements:g}):n)}),[]),_=e.rects.reference,x=e.rects.popper,w=new Map,O=!0,I=b[0],E=0;E<b.length;E++){var S=b[E],T=Z(S),A=Y(S)===j,M=[C,k].indexOf(T)>=0,L=M?"width":"height",U=lt(e,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),q=M?A?R:P:A?k:C;_[L]>x[L]&&(q=et(q));var H=et(q),W=[];if(o&&W.push(U[T]<=0),u&&W.push(U[q]<=0,U[H]<=0),W.every((function(t){return t}))){I=S,O=!1;break}w.set(S,W)}if(O)for(var z=function(t){var e=b.find((function(e){var n=w.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return I=e,"break"},G=d?3:1;G>0;G--){if("break"===z(G))break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},ht,pt,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=lt(e,{elementContext:"reference"}),u=lt(e,{altBoundary:!0}),a=dt(s,r),c=dt(u,i,o),l=gt(a),f=gt(c);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),mt=n(54335),yt=n.n(mt),bt=function(t){return t.reduce((function(t,e){var n=e[0],r=e[1];return t[n]=r,t}),{})},_t="undefined"!=typeof self&&self.document&&self.document.createElement?r.useLayoutEffect:r.useEffect,xt=[],wt=function(t,e,n){void 0===n&&(n={});var o=r.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||xt},u=r.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=u[0],c=u[1],l=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(t){var e=t.state,n=Object.keys(e.elements);i.flushSync((function(){c({styles:bt(n.map((function(t){return[t,e.styles[t]||{}]}))),attributes:bt(n.map((function(t){return[t,e.attributes[t]]})))})}))},requires:["computeStyles"]}}),[]),f=r.useMemo((function(){var t={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[l,{name:"applyStyles",enabled:!1}])};return yt()(o.current,t)?o.current||t:(o.current=t,t)}),[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,l]),h=r.useRef();return _t((function(){h.current&&h.current.setOptions(f)}),[f]),_t((function(){if(null!=t&&null!=e){var r=(n.createPopper||vt)(t,e,f);return h.current=r,function(){r.destroy(),h.current=null}}}),[t,e,n.createPopper]),{state:h.current?h.current.state:null,styles:a.styles,attributes:a.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}}},40770:(t,e,n)=>{n.d(e,{c:()=>s});var r=n(59312),i=n(32952),o=n(14601),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.ZT(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.w.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.w.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.xQ)},38062:(t,e,n)=>{n.d(e,{S3:()=>a});var r=n(59312),i=n(17733),o=n(81967),s=n(57655),u=n(72500);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!(0,i.k)(t[0]))return t[0];t=t[0]}return(0,o.n)(t,void 0).lift(new c)}var c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.ZT(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=(0,u.D)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},e}(s.L)},2746:(t,e,n)=>{n.d(e,{$R:()=>c,mx:()=>l});var r=n(59312),i=n(81967),o=n(17733),s=n(98036),u=n(85451),a=n(46601);function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),(0,i.n)(t,void 0).lift(new l(n))}var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}(),f=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return r.ZT(e,t),e.prototype._next=function(t){var e=this.iterators;(0,o.k)(t)?e.push(new p(t)):"function"==typeof t[u.hZ]?e.push(new h(t[u.hZ]())):e.push(new d(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,u=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),u.done)return void n.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.L),h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.hZ]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),d=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.ZT(e,t),e.prototype[u.hZ]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return(0,a.ft)(this.observable,new a.IY(this))},e}(a.Ds)},50133:(t,e,n)=>{n.d(e,{U:()=>o});var r=n(59312),i=n(46601);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.ZT(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=(0,i.ft)(e,new i.IY(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.Ds)},66081:(t,e,n)=>{n.d(e,{e:()=>s});var r=n(82506),i=n(50133),o=n(80900);function s(t,e){return void 0===e&&(e=r.P),(0,i.U)((function(){return(0,o.H)(t,e)}))}},36919:(t,e,n)=>{n.d(e,{f:()=>o});var r=n(59312),i=n(46601);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingNotifier))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.buffer=[],r.add((0,i.ft)(n,new i.IY(r))),r}return r.ZT(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(i.Ds)},76257:(t,e,n)=>{n.d(e,{j:()=>o});var r=n(59312),i=n(98036);function o(t,e){return void 0===e&&(e=null),function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?a:u}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return r.ZT(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(i.L),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.ZT(e,t),e.prototype._next=function(t){var e=this,n=e.bufferSize,r=e.startBufferEvery,i=e.buffers,o=e.count;this.count++,o%r==0&&i.push([]);for(var s=i.length;s--;){var u=i[s];u.push(t),u.length===n&&(i.splice(s,1),this.destination.next(u))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},e}(i.L)},17160:(t,e,n)=>{n.d(e,{e:()=>u});var r=n(59312),i=n(82506),o=n(98036),s=n(67827);function u(t){var e=arguments.length,n=i.P;(0,s.K)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),function(e){return e.lift(new a(t,r,o,n))}}var a=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),c=function(){return function(){this.buffer=[]}}(),l=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var u=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var a={subscriber:s,context:u,bufferTimeSpan:n};s.add(u.closeAction=o.schedule(f,n,a))}else{var c={subscriber:s,context:u},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(u.closeAction=o.schedule(p,n,c)),s.add(o.schedule(h,r,l))}return s}return r.ZT(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(f,n,r))}},e.prototype.openContext=function(){var t=new c;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(o.L);function f(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function h(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(p,n,{subscriber:r,context:o})),this.schedule(t,e))}function p(t){var e=t.subscriber,n=t.context;e.closeContext(n)}},41608:(t,e,n)=>{n.d(e,{P:()=>u});var r=n(59312),i=n(14601),o=n(72500),s=n(57655);function u(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.closingSelector=r,i.contexts=[],i.add((0,o.D)(i,n)),i}return r.ZT(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new i.w,r={buffer:[],subscription:n};e.push(r);var s=(0,o.D)(this,t,r);!s||s.closed?this.closeBuffer(r):(s.context=r,this.add(s),n.add(s))},e}(s.L)},77150:(t,e,n)=>{n.d(e,{R:()=>s});var r=n(59312),i=n(14601),o=n(46601);function s(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.closingSelector))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.ZT(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{e=(0,this.closingSelector)()}catch(t){return this.error(t)}t=new i.w,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add((0,o.ft)(e,new o.IY(this))),this.subscribing=!1},e}(o.Ds)},91224:(t,e,n)=>{n.d(e,{K:()=>o});var r=n(59312),i=n(46601);function o(t){return function(e){var n=new s(t),r=e.lift(n);return n.caught=r}}var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new i.IY(this);this.add(r);var o=(0,i.ft)(n,r);o!==r&&this.add(o)}},e}(i.Ds)},91023:(t,e,n)=>{n.d(e,{c:()=>i});var r=n(2844);function i(t){return function(e){return e.lift(new r.Ms(t))}}},57091:(t,e,n)=>{n.d(e,{a:()=>s});var r=n(17733),i=n(2844),o=n(12126);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&(0,r.k)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call((0,o.D)([e].concat(t)),new i.Ms(n))}}},94123:(t,e,n)=>{n.d(e,{z:()=>i});var r=n(95399);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(r.z.apply(void 0,[e].concat(t)))}}},58:(t,e,n)=>{n.d(e,{w:()=>i});var r=n(71032);function i(t,e){return(0,r.b)((function(){return t}),e)}},22815:(t,e,n)=>{n.d(e,{Q:()=>o});var r=n(59312),i=n(98036);function o(t){return function(e){return e.lift(new s(t,e))}}var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.ZT(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(i.L)},87847:(t,e,n)=>{n.d(e,{D:()=>o});var r=n(59312),i=n(46601);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.ZT(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=(0,i.ft)(e,new i.IY(this)))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.Ds)},87938:(t,e,n)=>{n.d(e,{j:()=>a});var r=n(59312),i=n(98036),o=n(44586),s=n(57655),u=n(72500);function a(t,e){return e?function(n){return new f(n,e).lift(new c(t))}:function(e){return e.lift(new c(t))}}var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delayDurationSelector))},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.ZT(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var n=(0,u.D)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(s.L),f=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subscriptionDelay=n,r}return r.ZT(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new h(t,this.source))},e}(o.y),h=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return r.ZT(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.L)},15789:(t,e,n)=>{n.d(e,{D:()=>o});var r=n(59312),i=n(98036);function o(){return function(t){return t.lift(new s)}}var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){return t.call(this,e)||this}return r.ZT(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(i.L)},94607:(t,e,n)=>{n.d(e,{E:()=>o});var r=n(59312),i=n(46601);function o(t,e){return function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.keySelector,this.flushes))},t}(),u=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.keySelector=n,o.values=new Set,r&&o.add((0,i.ft)(r,new i.IY(o))),o}return r.ZT(e,t),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(i.Ds)},40649:(t,e,n)=>{n.d(e,{g:()=>i});var r=n(28043);function i(t,e){return(0,r.x)((function(n,r){return e?e(n[t],r[t]):n[t]===r[t]}))}},87830:(t,e,n)=>{n.d(e,{T:()=>a});var r=n(2270),i=n(85985),o=n(4750),s=n(31524),u=n(23063);function a(t,e){if(t<0)throw new r.W;var n=arguments.length>=2;return function(a){return a.pipe((0,i.h)((function(e,n){return n===t})),(0,u.q)(1),n?(0,s.d)(e):(0,o.T)((function(){return new r.W})))}}},39719:(t,e,n)=>{n.d(e,{l:()=>o});var r=n(95399),i=n(76974);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return(0,r.z)(e,i.of.apply(void 0,t))}}},50481:(t,e,n)=>{n.d(e,{y:()=>o});var r=n(59312),i=n(98036);function o(t,e){return function(n){return n.lift(new s(t,e,n))}}var s=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg,this.source))},t}(),u=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.ZT(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.L)},87451:(t,e,n)=>{n.d(e,{b:()=>o});var r=n(59312),i=n(46601);function o(){return function(t){return t.lift(new s)}}var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){var n=t.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.ZT(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add((0,i.ft)(t,new i.IY(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.Ds)},58524:(t,e,n)=>{n.d(e,{jn:()=>o});var r=n(59312),i=n(46601);function o(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent,this.scheduler))},t}(),u=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.ZT(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(t);try{var i=(0,this.project)(t,r);if(this.scheduler){var o={subscriber:this,result:i,value:t,index:r};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(i,t,r)}catch(t){n.error(t)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add((0,i.ft)(t,new i.IY(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.Ds)},22447:(t,e,n)=>{n.d(e,{eo:()=>s,sE:()=>o});var r=n(59312),i=n(98036);function o(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new s(t,n,!1,e))}}var s=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),u=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.ZT(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.L)},43918:(t,e,n)=>{n.d(e,{c:()=>i});var r=n(22447);function i(t,e){return function(n){return n.lift(new r.eo(t,n,!0,e))}}},78146:(t,e,n)=>{n.d(e,{T:()=>h,v:()=>a});var r=n(59312),i=n(98036),o=n(14601),s=n(44586),u=n(32952);function a(t,e,n,r){return function(i){return i.lift(new c(t,e,n,r))}}var c=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new u.xQ,n.set(e,i);var o=new h(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new h(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new f(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.L),f=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=r,i}return r.ZT(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.L),h=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return r.ZT(e,t),e.prototype._subscribe=function(t){var e=new o.w,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new p(n)),e.add(r.subscribe(t)),e},e}(s.y),p=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.ZT(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.w)},49143:(t,e,n)=>{n.d(e,{l:()=>o});var r=n(59312),i=n(98036);function o(){return function(t){return t.lift(new s)}}var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.ZT(e,t),e.prototype._next=function(t){},e}(i.L)},98606:(t,e,n)=>{n.d(e,{x:()=>o});var r=n(59312),i=n(98036);function o(){return function(t){return t.lift(new s)}}var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){return t.call(this,e)||this}return r.ZT(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.L)},68706:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(33346),i=n(85985),o=n(51639),s=n(4750),u=n(31524),a=n(49524);function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?(0,i.h)((function(e,n){return t(e,n,c)})):a.y,(0,o.h)(1),n?(0,u.d)(e):(0,s.T)((function(){return new r.K})))}}},83840:(t,e,n)=>{n.d(e,{i:()=>s});var r=n(59312),i=n(98036),o=n(12834);function s(){return function(t){return t.lift(new u)}}var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){return t.call(this,e)||this}return r.ZT(e,t),e.prototype._next=function(t){this.destination.next(o.P.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(o.P.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(o.P.createComplete()),t.complete()},e}(i.L)},80018:(t,e,n)=>{n.d(e,{F:()=>i});var r=n(38934);function i(t){var e="function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e};return(0,r.u)(e)}},93781:(t,e,n)=>{n.d(e,{j:()=>i});var r=n(85321);function i(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?(0,r.zg)((function(){return t}),e,n):("number"==typeof e&&(n=e),(0,r.zg)((function(){return t}),n))}},40184:(t,e,n)=>{n.d(e,{fU:()=>o});var r=n(59312),i=n(46601);function o(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.accumulator,this.seed,this.concurrent))},t}(),u=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.ZT(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,t,e)}catch(t){return n.error(t)}this.active++,this._innerSub(r)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var e=new i.IY(this),n=this.destination;n.add(e);var r=(0,i.ft)(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(i.Ds)},24371:(t,e,n)=>{n.d(e,{V:()=>i});var r=n(38934);function i(t){var e="function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e};return(0,r.u)(e)}},80334:(t,e,n)=>{n.d(e,{h:()=>s});var r=n(59312),i=n(17733),o=n(46601);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&(0,i.k)(t[0])&&(t=t[0]),function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.nextSources))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.nextSources=n,r}return r.ZT(e,t),e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new o.IY(this),n=this.destination;n.add(e);var r=(0,o.ft)(t,e);r!==e&&n.add(r)}else this.destination.complete()},e}(o.Ds)},53804:(t,e,n)=>{n.d(e,{u:()=>o});var r=n(96451),i=n(85985);function o(t,e){return function(n){return[(0,i.h)(t,e)(n),(0,i.h)((0,r.f)(t,e))(n)]}}},62962:(t,e,n)=>{n.d(e,{n:()=>o});var r=n(32952),i=n(24755);function o(t){return t?(0,i.O)((function(){return new r.xQ}),t):(0,i.O)(new r.xQ)}},71193:(t,e,n)=>{n.d(e,{n:()=>o});var r=n(95300),i=n(24755);function o(t){return function(e){return(0,i.O)(new r.X(t))(e)}}},92449:(t,e,n)=>{n.d(e,{C:()=>o});var r=n(40770),i=n(24755);function o(){return function(t){return(0,i.O)(new r.c)(t)}}},48403:(t,e,n)=>{n.d(e,{_:()=>o});var r=n(16782),i=n(24755);function o(t,e,n,o){n&&"function"!=typeof n&&(o=n);var s="function"==typeof n?n:void 0,u=new r.t(t,e,o);return function(t){return(0,i.O)((function(){return u}),s)(t)}}},55875:(t,e,n)=>{n.d(e,{S:()=>o});var r=n(17733),i=n(38062);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&(0,r.k)(t[0])&&(t=t[0]),e.lift.call(i.S3.apply(void 0,[e].concat(t)))}}},38934:(t,e,n)=>{n.d(e,{u:()=>u});var r=n(67434),i=n(51639),o=n(31524),s=n(87072);function u(t,e){return arguments.length>=2?function(n){return(0,s.z)((0,r.R)(t,e),(0,i.h)(1),(0,o.d)(e))(n)}:function(e){return(0,s.z)((0,r.R)((function(e,n,r){return t(e,n,r+1)})),(0,i.h)(1))(e)}}},36303:(t,e,n)=>{n.d(e,{r:()=>s});var r=n(59312),i=n(98036),o=n(40151);function s(t){return void 0===t&&(t=-1),function(e){return 0===t?(0,o.c)():t<0?e.lift(new u(-1,e)):e.lift(new u(t-1,e))}}var u=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.ZT(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(i.L)},11838:(t,e,n)=>{n.d(e,{a:()=>s});var r=n(59312),i=n(32952),o=n(46601);function s(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.notifier,e))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.ZT(e,t),e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new i.xQ;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=(0,o.ft)(e,new o.IY(this))},e}(o.Ds)},75458:(t,e,n)=>{n.d(e,{X:()=>o});var r=n(59312),i=n(98036);function o(t){return void 0===t&&(t=-1),function(e){return e.lift(new s(t,e))}}var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.L)},62365:(t,e,n)=>{n.d(e,{a:()=>s});var r=n(59312),i=n(32952),o=n(46601);function s(t){return function(e){return e.lift(new u(t,e))}}var u=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.notifier,this.source))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i}return r.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,s=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new i.xQ;try{r=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}s=(0,o.ft)(r,new o.IY(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=s,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(o.Ds)},13718:(t,e,n)=>{n.d(e,{U:()=>o});var r=n(59312),i=n(46601);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new u(t),r=e.subscribe(n);return r.add((0,i.ft)(this.notifier,new i.IY(n))),r},t}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return r.ZT(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.Ds)},13685:(t,e,n)=>{n.d(e,{b:()=>s});var r=n(59312),i=n(98036),o=n(82506);function s(t,e){return void 0===e&&(e=o.P),function(n){return n.lift(new u(t,e))}}var u=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.period,this.scheduler))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(c,n,{subscriber:i,period:n})),i}return r.ZT(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(i.L);function c(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}},67434:(t,e,n)=>{n.d(e,{R:()=>o});var r=n(59312),i=n(98036);function o(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.accumulator,this.seed,this.hasSeed))},t}(),u=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.ZT(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.L)},33241:(t,e,n)=>{n.d(e,{NF:()=>o});var r=n(59312),i=n(98036);function o(t,e){return function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.compareTo,this.comparator))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new a(e,i))),i}return r.ZT(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,e=t._a,n=t._b,r=t.comparator;e.length>0&&n.length>0;){var i=e.shift(),o=n.shift(),s=!1;try{s=r?r(i,o):i===o}catch(t){this.destination.error(t)}s||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(i.L),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return r.ZT(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(i.L)},17174:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(59312),i=n(98036),o=n(33346);function s(t){return function(e){return e.lift(new u(t,e))}}var u=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.ZT(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new o.K)},e}(i.L)},55935:(t,e,n)=>{n.d(e,{T:()=>o});var r=n(59312),i=n(98036);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.ZT(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(i.L)},65943:(t,e,n)=>{n.d(e,{W:()=>s});var r=n(59312),i=n(98036),o=n(2270);function s(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new o.W}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new i.L(t)):e.subscribe(new a(t,this._skipCount))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.ZT(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}},e}(i.L)},65304:(t,e,n)=>{n.d(e,{R:()=>a});var r=n(59312),i=n(44586),o=n(79692),s=n(44362),u=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=o.e);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!(0,s.k)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=o.e),i}return r.ZT(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.e),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(i.y);function a(t,e){return void 0===e&&(e=0),function(n){return n.lift(new c(t,e))}}var c=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new u(e,this.delay,this.scheduler).subscribe(t)},t}()},69935:(t,e,n)=>{n.d(e,{B:()=>o});var r=n(66310),i=n(49524);function o(){return(0,r.w)(i.y)}},51639:(t,e,n)=>{n.d(e,{h:()=>u});var r=n(59312),i=n(98036),o=n(2270),s=n(40151);function u(t){return function(e){return 0===t?(0,s.c)():e.lift(new a(t))}}var a=function(){function t(t){if(this.total=t,this.total<0)throw new o.W}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.ZT(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(i.L)},2768:(t,e,n)=>{n.d(e,{R:()=>o});var r=n(59312),i=n(46601);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new u(t),r=(0,i.ft)(this.notifier,new i.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),u=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r.ZT(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.Ds)},8473:(t,e,n)=>{n.d(e,{o:()=>o});var r=n(59312),i=n(98036);function o(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.inclusive))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.ZT(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(i.L)},25031:(t,e,n)=>{n.d(e,{P:()=>s,d:()=>o});var r=n(59312),i=n(46601),o={leading:!0,trailing:!1};function s(t,e){return void 0===e&&(e=o),function(n){return n.lift(new u(t,!!e.leading,!!e.trailing))}}var u=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector,this.leading,this.trailing))},t}(),a=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.ZT(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=(0,i.ft)(e,new i.IY(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(i.Ds)},55721:(t,e,n)=>{n.d(e,{p:()=>u});var r=n(59312),i=n(98036),o=n(82506),s=n(25031);function u(t,e,n){return void 0===e&&(e=o.P),void 0===n&&(n=s.d),function(r){return r.lift(new a(t,e,n.leading,n.trailing))}}var a=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),c=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.ZT(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(i.L);function l(t){t.subscriber.clearThrottle()}},23095:(t,e,n)=>{n.d(e,{J:()=>u});var r=n(82506),i=n(67434),o=n(18625),s=n(77176);function u(t){return void 0===t&&(t=r.P),function(e){return(0,o.P)((function(){return e.pipe((0,i.R)((function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}}),{current:t.now(),value:void 0,last:void 0}),(0,s.U)((function(t){var e=t.current,n=t.last,r=t.value;return new a(r,e-n)})))}))}}var a=function(){return function(t,e){this.value=t,this.interval=e}}()},89068:(t,e,n)=>{n.d(e,{V:()=>u});var r=n(82506),i=n(49549),o=n(97425),s=n(91402);function u(t,e){return void 0===e&&(e=r.P),(0,o.L)(t,(0,s._)(new i.W),e)}},97425:(t,e,n)=>{n.d(e,{L:()=>u});var r=n(59312),i=n(82506),o=n(88992),s=n(46601);function u(t,e,n){return void 0===n&&(n=i.P),function(r){var i=(0,o.J)(t),s=i?+t-n.now():Math.abs(t);return r.lift(new a(s,i,e,n))}}var a=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),c=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return r.ZT(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add((0,s.ft)(e,new s.IY(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(s.Ds)},91969:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(82506),i=n(77176);function o(t){return void 0===t&&(t=r.P),(0,i.U)((function(e){return new s(e,t.now())}))}var s=function(){return function(t,e){this.value=t,this.timestamp=e}}()},35052:(t,e,n)=>{n.d(e,{q:()=>o});var r=n(38934);function i(t,e,n){return 0===n?[e]:(t.push(e),t)}function o(){return(0,r.u)(i,[])}},50337:(t,e,n)=>{n.d(e,{u:()=>s});var r=n(59312),i=n(32952),o=n(46601);function s(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new a(t),r=e.subscribe(n);return r.closed||n.add((0,o.ft)(this.windowBoundaries,new o.IY(n))),r},t}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.window=new i.xQ,e.next(n.window),n}return r.ZT(e,t),e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new i.xQ;e.next(n)},e}(o.Ds)},6643:(t,e,n)=>{n.d(e,{r:()=>s});var r=n(59312),i=n(98036),o=n(32952);function s(t,e){return void 0===e&&(e=0),function(n){return n.lift(new u(t,e))}}var u=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.windowSize,this.startWindowEvery))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=n,i.startWindowEvery=r,i.windows=[new o.xQ],i.count=0,e.next(i.windows[0]),i}return r.ZT(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,u=0;u<s&&!this.closed;u++)i[u].next(t);var a=this.count-r+1;if(a>=0&&a%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var c=new o.xQ;i.push(c),n.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(i.L)},83782:(t,e,n)=>{n.d(e,{I:()=>c});var r=n(59312),i=n(32952),o=n(82506),s=n(98036),u=n(44362),a=n(67827);function c(t){var e=o.P,n=null,r=Number.POSITIVE_INFINITY;return(0,a.K)(arguments[3])&&(e=arguments[3]),(0,a.K)(arguments[2])?e=arguments[2]:(0,u.k)(arguments[2])&&(r=Number(arguments[2])),(0,a.K)(arguments[1])?e=arguments[1]:(0,u.k)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new l(t,n,r,e))}}var l=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return r.ZT(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(i.xQ),h=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;s.destination=e,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var u=s.openWindow();if(null!==r&&r>=0){var a={subscriber:s,window:u,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(g,n,a)),s.add(o.schedule(d,r,c))}else{var l={subscriber:s,window:u,windowTimeSpan:n};s.add(o.schedule(p,n,l))}return s}return r.ZT(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new f;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(s.L);function p(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function d(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s=this,u={action:s,subscription:null},a={subscriber:n,window:o,context:u};u.subscription=r.schedule(g,e,a),s.add(u.subscription),s.schedule(t,i)}function g(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}},99597:(t,e,n)=>{n.d(e,{j:()=>a});var r=n(59312),i=n(32952),o=n(14601),s=n(57655),u=n(72500);function a(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.openings,this.closingSelector))},t}(),l=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=(0,u.D)(i,n,n)),i}return r.ZT(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,s){if(t===this.openings){var a=void 0;try{a=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var c=new i.xQ,l=new o.w,f={window:c,subscription:l};this.contexts.push(f);var h=(0,u.D)(this,a,f);h.closed?this.closeWindow(this.contexts.length-1):(h.context=f,l.add(h)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(s.L)},45586:(t,e,n)=>{n.d(e,{Q:()=>u});var r=n(59312),i=n(32952),o=n(57655),s=n(72500);function u(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingSelector))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.closingSelector=n,r.openWindow(),r}return r.ZT(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n,r=this.window=new i.xQ;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=(0,s.D)(this,n))},e}(o.L)},53441:(t,e,n)=>{n.d(e,{$:()=>i});var r=n(2746);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(r.$R.apply(void 0,[e].concat(t)))}}},9229:(t,e,n)=>{n.d(e,{h:()=>i});var r=n(2746);function i(t){return function(e){return e.lift(new r.mx(t))}}},49549:(t,e,n)=>{n.d(e,{W:()=>r});var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},96451:(t,e,n)=>{function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,{f:()=>r})}}]);